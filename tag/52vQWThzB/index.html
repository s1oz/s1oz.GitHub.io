<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="keywords" content="s1oz">
<meta name="description" content="以备不时之需">
<meta name="theme-color" content="#000">
<title>杂乱的备忘录</title>
<link rel="shortcut icon" href="/favicon.ico?v=1721891407039">
<link rel="stylesheet" href="/media/css/muse.css">
<link rel="stylesheet" href="/media/fonts/font-awesome.css">
<link
  href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Rosario:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext"
  rel="stylesheet" type="text/css">

<link href="/media/hljs/styles/agate.css"
  rel="stylesheet">

<link rel="stylesheet" href="/styles/main.css">

<script src="/media/hljs/highlight.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.ui.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"
  integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">


<script>
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ["\\(", "\\)"]],
      displayMath: [['$$', '$$'], ["\\[", "\\]"]]
    },
    options: {
      skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code', 'a', 'annotation', 'annotation-xml'],
      ignoreHtmlClass: 'tex2jax_ignore|crayon-.*', // 'crayon-' 开头的类，属于Wordpress代码高亮库，这部分不需要处理，否则会导致显示不正确,这部分是正则式，多条之间用'|'分割
      processHtmlClass: 'tex2jax_process'
    },
    //禁用右键菜单	
    renderActions: {
      addMenu: [0, '', '']
    }
  };
</script>
<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>



<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0RQ9PW18L7"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());

  gtag('config', 'G-0RQ9PW18L7');
</script>


<script>
  var _hmt = _hmt || [];
  (function () {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?b550b5ac31f3e750fd3b882cdd12d517";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>


</head>

<body>
  <div class="head-top-line"></div>
  <div class="header-box">
    
<div class="muse">
  <header class="header bg-color ">
    <div class="blog-header box-shadow-wrapper  " id="header">
      <div class="nav-toggle" id="nav_toggle">
        <div class="toggle-box">
          <div class="line line-top"></div>
          <div class="line line-center"></div>
          <div class="line line-bottom"></div>
        </div>
      </div>
      <div class="site-meta">       
        <div class="site-title">
          
            <a href="/" class="brand">
              <span>杂乱的备忘录</span>
            </a>  
          
        </div>
        
          <p class="subtitle">想起什么,就记录点什么</p>
        
      </div>
      <nav class="site-nav" id="site_nav">
        <ul id="nav_ul">
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/" target="_self">
                  <i class="fa fa-home"></i> 首页
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/archives/" target="_self">
                  <i class="fa fa-archive"></i> 归档
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/tags/" target="_self">
                  <i class="fa fa-tags"></i> 标签
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/post/about/" target="_self">
                  <i class="fa fa-user"></i> 关于
                </a>
              
            </li>
          
          
            
              <li class="nav-item ">
                <a href="/friends/" target="_self">
                  
                    <i class="fa fa-address-book"></i> 友链
                  
                </a>
              </li>
            
          
          
            <li id="fa_search" class="nav-item">
              <a href="javascript:void(0);">
                <i class="fa fa-search"></i> <span class="language" data-lan="search">搜索</span>
              </a>
            </li>
          
        </ul>
      </nav>
    </div>
  </header>
</div>

<script type="text/javascript"> 
 
  let showNav = true;

  let navToggle = document.querySelector('#nav_toggle'),
  siteNav = document.querySelector('#site_nav');
  
  function navClick() {
    let sideBar = document.querySelector('.sidebar');
    let navUl = document.querySelector('#nav_ul');
    navToggle.classList.toggle('nav-toggle-active');
    siteNav.classList.toggle('nav-menu-active');
    if (siteNav.classList.contains('nav-menu-active')) {
      siteNav.style = "height: " + (navUl.children.length * 42) +"px !important";
    } else {
      siteNav.style = "";
    }
  }

  navToggle.addEventListener('click',navClick);  
</script>
  </div>
  <div class="main-continer">
    
    <div
      class="section-layout bg-color muse">
      <div class="section-layout-wrapper">
        <div id="sidebarMeta" class="sidebar">
    
<div class="sidebar-wrapper box-shadow-wrapper ">
  <div class="sidebar-item">
    <img class="site-author-image right-motion" src="/images/avatar.png"/>
    <p class="site-author-name">s1oz的备忘录</p>
    
    <div class="site-description right-motion">
      
        <p id="binft">想起什么,就记录点什么\n所以很多都是无厘头的东西\n一切为了炸鸡而准备!!!</p>
      
    </div>
    
  </div>
  <div class="sidebar-item side-item-stat right-motion">
    <div class="sidebar-item-box">
      <a href="/archives/">
        
        <span class="site-item-stat-count">36</span>
        <span class="site-item-stat-name language" data-lan="article">文章</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="">
        <span class="site-item-stat-count">39</span>
        <span class="site-item-stat-name language" data-lan="category">分类</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="/tags/">
        <span class="site-item-stat-count">39</span>
        <span class="site-item-stat-name language" data-lan="tag">标签</span>
      </a>
    </div>
  </div>
  
  



</div>
</div>
<script>
  let sidebarMeta = document.querySelector('#sidebarMeta');
  let scheme = 'muse';
  let sidebarWrapper = document.querySelector('.sidebar-wrapper');
  if (sidebarMeta && (scheme === 'pisces' || scheme === 'gemini')) {
    document.addEventListener('scroll', function(e) {
      if (document.scrollingElement.scrollTop > parseInt(sidebarMeta.style.marginTop) + 10) {
        sidebarWrapper.classList.add('home-sidebar-fixed')
      } else {
        sidebarWrapper.classList.remove('home-sidebar-fixed')
      }
    });
  }
  </script>
        <div class="section-box tag-line box-shadow-wrapper">
          <section class="section tags-section posts-expand bg-color">
            <div class="padding-wrapper">
  <div class="tag-timeline-box">
    <div class="tag-timeline-wrapper">
      <div class="tag-timeline-title">
        <h2>
          qb
          <small class="language" data-lan="tag">标签</small>
        </h2>
      </div>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <a href="https://s1oz.github.io/post/qbittorrent-zi-dai-rss-ding-yue-gui-ze/">
        <div class="motion-warpper">
          <div class="tag-post-node">
            <h1>
              12-24
              <small>qBittorrent自带RSS订阅规则</small>
            </h1>
          </div>
        </div>
      </a>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <a href="https://s1oz.github.io/post/qbittorrent-can-shu-she-zhi/">
        <div class="motion-warpper">
          <div class="tag-post-node">
            <h1>
              05-12
              <small>qBittorrent参数设置</small>
            </h1>
          </div>
        </div>
      </a>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
    </div>
  </div>
</div>
          </section>
        </div>
      </div>
    </div>
    <div class="footer-box">
  <footer class="footer">
    <div class="copyright">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | © 2019-2020 Theme By <a
        href="https://github.com/hsxyhao/gridea-theme-next" target="_blank">HsxyHao</a>
    </div>
    <div class="poweredby">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
    </div>
  </footer>
  
  
  <div class="drawer-box right" id="drawer_box">
    <span class="muse-line muse-line-first"></span>
    <span class="muse-line muse-line-middle"></span>
    <span class="muse-line muse-line-last"></span>
  </div>
  
  <div class="muse back-to-top" id="back_to_top">
    <i class="fa fa-arrow-up"></i>
    
  </div>
  
  
  
</div>
<script>

  let sideBarOpen = 'sidebar-open';
  let body = document.body;
  let back2Top = document.querySelector('#back_to_top'),
    back2TopText = document.querySelector('#back_to_top_text'),
    drawerBox = document.querySelector('#drawer_box'),
    rightSideBar = document.querySelector('.sidebar'),
    viewport = document.querySelector('body');

  function scrollAnimation(currentY, targetY) {

    let needScrollTop = targetY - currentY
    let _currentY = currentY
    setTimeout(() => {
      const dist = Math.ceil(needScrollTop / 10)
      _currentY += dist
      window.scrollTo(_currentY, currentY)
      if (needScrollTop > 10 || needScrollTop < -10) {
        scrollAnimation(_currentY, targetY)
      } else {
        window.scrollTo(_currentY, targetY)
      }
    }, 1)
  }

  back2Top.addEventListener("click", function (e) {
    scrollAnimation(document.scrollingElement.scrollTop, 0);
    e.stopPropagation();
    return false;
  });

  window.addEventListener('scroll', function (e) {
    let percent = document.scrollingElement.scrollTop / (document.scrollingElement.scrollHeight - document.scrollingElement.clientHeight) * 100;
    if (percent > 1 && !back2Top.classList.contains('back-top-active')) {
      back2Top.classList.add('back-top-active');
    }
    if (percent == 0) {
      back2Top.classList.remove('back-top-active');
    }
    if (back2TopText) {
      back2TopText.textContent = Math.floor(percent);
    }
  });


  let hasCacu = false;
  window.onresize = function () {
    calcuHeight();
  }

  function calcuHeight() {
    // 动态调整站点概览高度
    if (!hasCacu && back2Top.classList.contains('pisces') || back2Top.classList.contains('gemini')) {
      let sideBar = document.querySelector('.sidebar');
      let navUl = document.querySelector('#site_nav');
      sideBar.style = 'margin-top:' + (navUl.offsetHeight + navUl.offsetTop + 15) + 'px;';
      hasCacu = true;
    }
  }
  calcuHeight();

  let open = false, MOTION_TIME = 300, RIGHT_MOVE_DIS = '320px';

  if (drawerBox) {
    let rightMotions = document.querySelectorAll('.right-motion');
    let right = drawerBox.classList.contains('right');

    let transitionDir = right ? "transition.slideRightIn" : "transition.slideLeftIn";

    let openProp, closeProp;
    if (right) {
      openProp = {
        paddingRight: RIGHT_MOVE_DIS
      };
      closeProp = {
        paddingRight: '0px'
      };
    } else {
      openProp = {
        paddingLeft: RIGHT_MOVE_DIS
      };
      closeProp = {
        paddingLeft: '0px'
      };
    }

    drawerBox.onclick = function () {
      open = !open;
      window.Velocity(rightSideBar, 'stop');
      window.Velocity(viewport, 'stop');
      window.Velocity(rightMotions, 'stop');
      if (open) {
        window.Velocity(rightSideBar, {
          width: RIGHT_MOVE_DIS
        }, {
          duration: MOTION_TIME,
          begin: function () {
            window.Velocity(rightMotions, transitionDir, {});
          }
        })
        window.Velocity(viewport, openProp, {
          duration: MOTION_TIME
        });
      } else {
        window.Velocity(rightSideBar, {
          width: '0px'
        }, {
          duration: MOTION_TIME,
          begin: function () {
            window.Velocity(rightMotions, {
              opacity: 0
            });
          }
        })
        window.Velocity(viewport, closeProp, {
          duration: MOTION_TIME
        });
      }
      for (let i = 0; i < drawerBox.children.length; i++) {
        drawerBox.children[i].classList.toggle('muse-line');
      }
      drawerBox.classList.toggle(sideBarOpen);
    }
  }

  // 链接跳转
  let newWindow = 'true'
  if (newWindow === 'true') {
    let links = document.querySelectorAll('.post-body a')
    links.forEach(item => {
      if (!item.classList.contains('btn')) {
        item.setAttribute("target", "_blank");
      }
    })
  }

  let faSearch = document.querySelector('#fa_search');
  faSearch.addEventListener('click', function () {
    document.querySelector('#search_mask').style = ''
  })

  // 代码高亮
  hljs.initHighlightingOnLoad();
  
  // 离开当前页title变化
  var leaveTitle = "";
  if (leaveTitle) {
    document.addEventListener('visibilitychange', function () {
      if (document.visibilityState == 'hidden') {
        normal_title = document.title;
        document.title = leaveTitle;
      } else {
        document.title = normal_title;
      }
    });
  }

</script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

<script>
  let images = document.querySelectorAll('.section img');
  console.log(images);
  images.forEach(image => {
    var parent = image.parentElement;
    var next = image.nextElementSibling;
    parent.removeChild(image);
    var aelem = document.createElement('a');
    aelem.href = image.src;
    aelem.dataset['fancybox'] = 'images';
    aelem.dataset['rel'] = 'fancybox-button';
    aelem.classList.add('fancybox');
    aelem.appendChild(image);
    parent.insertBefore(aelem, next);
  })
</script>
  </div>
</body>

<div class="search-mask" id="search_mask" style="display: none;">
  <div class="search-box">
    <div class="search-title">
      <i class="fa fa-search"></i>
      <div class="input-box">
        <input id="search" type="text" class="language" data-lan="search" placeholder="搜索">
      </div>
      <i id="close" class="fa fa-times-circle"></i>
    </div>
    <div class="stat-box">
      <span id="stat_count">0</span><span class="language" data-lan="stat">条相关条目，使用了</span><span id="stat_times">0</span><span class="language" data-lan="stat-time">毫秒</span>
      <hr>
    </div>
    <div class="result" id="result">
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/windowsindocker-zhi-tong-xian-qia-wang-qia/"" data-c="
          &lt;h2 id=&#34;让套娃来的更狠些吧~&#34;&gt;让套娃来的更狠些吧~&lt;/h2&gt;
&lt;p&gt;之前看到这个&lt;a href=&#34;https://github.com/dockur/windows&#34;&gt;dockur/windows项目&lt;/a&gt;感觉套娃很好玩,一开始只想着替代&lt;code&gt;chrome&lt;/code&gt;用&lt;br&gt;
后来发现很多人其实有GPU需要,这个&lt;a href=&#34;https://github.com/dockur/windows/issues/22&#34;&gt;issues&lt;/a&gt;经过几个月的发展,现在看到意见完美解决了,特来走下流程&lt;br&gt;
已经完美支持&lt;code&gt;硬盘 网卡 显卡 USB设备&lt;/code&gt;直通&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1719027504343.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1719023615288.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
题外话,另一个项目(virtual-dsm)[https://github.com/vdsm/virtual-dsm]也好玩的~&lt;/p&gt;
&lt;h2 id=&#34;安装说明&#34;&gt;安装说明&lt;/h2&gt;
&lt;h3 id=&#34;勾选要直通的设备并重启&#34;&gt;勾选要直通的设备并重启&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://s1oz.github.io/post-images/1719024958954.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
勾选PCI设备,例如SATA控制器/显卡/网卡等&lt;/p&gt;
&lt;h3 id=&#34;安装windowsindocker&#34;&gt;安装WindowsinDocker&lt;/h3&gt;
&lt;p&gt;UNRAID应用市场搜索&lt;code&gt;WindowsinDocker&lt;/code&gt;安装&lt;/p&gt;
&lt;h3 id=&#34;直通设备&#34;&gt;直通设备&lt;/h3&gt;
&lt;p&gt;添加设备,值中填入&lt;code&gt;/dev/vfio&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1719025830995.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
添加&lt;code&gt;ARGUMENTS&lt;/code&gt;变量 将要直通设备代码添加到值中&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1719024653247.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
例如我要添加**虚拟声卡 显卡 网卡 UPS 隐藏虚拟化 **就要添加以下内容&lt;br&gt;
需要注意的是,每一段都有空格,按自己需求增删套用&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;-device vfio-pci,host=01:00.0,multifunction=on -device vfio-pci,host=03:00.1,multifunction=on -device usb-host,vendorid=0x051d,productid=0x0002 -cpu host,-hypervisor,+kvm_pv_unhalt,+kvm_pv_eoi,hv_spinlocks=0x1fff,hv_vapic,hv_time,hv_reset,hv_vpindex,hv_runtime,hv_relaxed,kvm=off,hv_vendor_id=intel
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;修改自动安装默认语言&#34;&gt;修改自动安装默认语言&lt;/h3&gt;
&lt;p&gt;添加&lt;code&gt;LANGUAGE&lt;/code&gt;变量 值中填入&lt;code&gt;Chinese&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;使用自定义iso镜像&#34;&gt;使用自定义ISO镜像&lt;/h3&gt;
&lt;p&gt;修改默认&lt;code&gt;Version&lt;/code&gt;值为&lt;code&gt;custom.iso&lt;/code&gt;&lt;br&gt;
映射自定义ISO为&lt;code&gt;custom.iso&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1719025604510.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;小贴士&lt;/code&gt; 自动安装只支持原版ISO,第三方精简版无法使用自动安装&lt;/p&gt;
&lt;h3 id=&#34;修改默认用户名密码&#34;&gt;修改默认用户名密码&lt;/h3&gt;
&lt;p&gt;默认自动安装用户名为&lt;code&gt;Docker&lt;/code&gt;密码为空&lt;br&gt;
添加&lt;code&gt;USERNAME&lt;/code&gt;跟&lt;code&gt;PASSWORD&lt;/code&gt;变量,值填入自定义用户名/密码&lt;/p&gt;
&lt;h3 id=&#34;添加硬盘&#34;&gt;添加硬盘&lt;/h3&gt;
&lt;p&gt;通过&lt;code&gt;lsblk&lt;/code&gt;命令获取自己需要添加的硬盘&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;root@Tower:~# lsblk
NAME        MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS
loop0         7:0    0  64.8M  1 loop /lib
loop1         7:1    0 355.2M  1 loop /usr
loop2         7:2    0    16G  0 loop /etc/libvirt
sda           8:0    1  28.7G  0 disk 
└─sda1        8:1    1  28.7G  0 part /boot
sdb           8:16   0   9.1T  0 disk 
└─sdb1        8:17   0   9.1T  0 part 
sdc           8:32   0 931.5G  0 disk 
└─sdc1        8:33   0 931.5G  0 part 
sdd           8:48   0 447.1G  0 disk 
md1p1         9:1    0 931.5G  0 md   /var/lib/docker
                                      /mnt/disk1
md3p1         9:3    0   9.1T  0 md   /mnt/disk3
md5p1         9:5    0 931.5G  0 md   /mnt/disk5
nvme0n1     259:0    0 931.5G  0 disk 
└─nvme0n1p1 259:1    0 931.5G  0 part 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;例如我要添加的是&lt;code&gt;sdd&lt;/code&gt;&lt;br&gt;
就添加设备,填入&lt;code&gt;/dev/sdd:/disk1&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1719025871633.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;sdd&lt;/code&gt;为我需要添加的硬盘&lt;br&gt;
&lt;code&gt;/disk1&lt;/code&gt;123456按优先级依次引导,系统要安装在此硬盘就设置为&lt;code&gt;1&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;默认占用全部空间,要D盘自动手动压缩下&lt;/strong&gt;&lt;br&gt;
更多说明看作者文档&lt;/p&gt;
&lt;h3 id=&#34;添加共享目录&#34;&gt;添加共享目录&lt;/h3&gt;
&lt;p&gt;添加路径&lt;code&gt;/mnt/user/shua/:/shared&lt;/code&gt;&lt;br&gt;
&lt;code&gt;/mnt/user/shua/&lt;/code&gt;为UNRAID实际路径&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1719026939168.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
可直接在&lt;code&gt;网络&lt;/code&gt;中名称为&lt;code&gt;host.lan&lt;/code&gt;的主机直接访问挂载的文件夹&lt;/p&gt;
&lt;h2 id=&#34;直通相关说明&#34;&gt;直通相关说明&lt;/h2&gt;
&lt;h3 id=&#34;添加pci设备&#34;&gt;添加PCI设备&lt;/h3&gt;
&lt;p&gt;很简单,要什么就加什么&lt;br&gt;
例如添加独显&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1719024244845.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
如我的P4就一个&lt;code&gt;01:00.0&lt;/code&gt;那就加一个&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;-device vfio-pci,host=01:00.0,multifunction=on
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;正牌军有&lt;code&gt;01:00.1&lt;/code&gt;之类的就依次补全&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;-device vfio-pci,host=01:00.0,multifunction=on -device vfio-pci,host=01:00.1,multifunction=on
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;例如添加网卡&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1719024270018.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
我只分配第二个网口&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;-device vfio-pci,host=03:00.1,multifunction=on
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;小贴士&lt;/code&gt;如添加网卡后在容器中将&lt;code&gt;网络类型&lt;/code&gt;设置为&lt;code&gt;无&lt;/code&gt; 则无法正常启动&lt;br&gt;
如将虚拟网卡禁用 则&lt;code&gt;host.lan&lt;/code&gt;无法访问&lt;/p&gt;
&lt;h3 id=&#34;添加usb设备&#34;&gt;添加usb设备&lt;/h3&gt;
&lt;p&gt;先添加设备,值中填入&lt;code&gt;/dev/bus/usb&lt;/code&gt;&lt;br&gt;
例如添加UPS&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1719024415111.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
找到对应的ID代入即可&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;-device usb-host,vendorid=0x051d,productid=0x0002
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;添加虚拟声卡&#34;&gt;添加虚拟声卡&lt;/h3&gt;
&lt;p&gt;如果你用RDP或者直通声卡插耳机那当我没说&lt;br&gt;
如果是其他远程软件看片游戏之类😡会报错没有声卡,可以加一个虚拟声卡的代码凑活用,虽然会爆音&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;-device ich9-intel-hda -device hda-output -audio alsa
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;最好的的方法还是手动安装虚拟声卡软件&lt;a href=&#34;https://github.com/nnyj/virtual-surround-sound&#34;&gt;virtual-surround-sound&lt;/a&gt;,支持7.1哦&lt;/p&gt;
&lt;h3 id=&#34;禁用vnc&#34;&gt;禁用VNC&lt;/h3&gt;
&lt;p&gt;添加&lt;code&gt;DISPLAY&lt;/code&gt;变量,值为&lt;code&gt;disabled&lt;/code&gt;即可关闭VNC,这样&lt;code&gt;8006&lt;/code&gt;端口就无法用浏览器访问了&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1719026368707.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
建议安装完远程软件后,留到最后一步禁用,洁癖...洁癖&lt;/p&gt;
&lt;h3 id=&#34;隐藏虚拟化过检测&#34;&gt;隐藏虚拟化过检测&lt;/h3&gt;
&lt;p&gt;按需添加以下代码&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;-cpu host,-hypervisor,+kvm_pv_unhalt,+kvm_pv_eoi,hv_spinlocks=0x1fff,hv_vapic,hv_time,hv_reset,hv_vpindex,hv_runtime,hv_relaxed,kvm=off,hv_vendor_id=intel
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;解释如下:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;-cpu host: 使用宿主机的CPU配置。
-hypervisor: 禁用hypervisor特性。
+kvm_pv_unhalt: 启用KVM PV unhalt特性。
+kvm_pv_eoi: 启用KVM PV EOI特性。
hv_spinlocks=0x1fff: 设置spinlock计数器。
hv_vapic: 启用虚拟APIC。
hv_time: 启用Hyper-V时间。
hv_reset: 启用Hyper-V重置。
hv_vpindex: 启用虚拟处理器索引。
hv_runtime: 启用Hyper-V运行时。
hv_relaxed: 启用Hyper-V放松特性。
kvm=off: 禁用KVM。
hv_vendor_id=intel: 设置Hyper-V厂商ID为&amp;quot;intel&amp;quot;。
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;想咋玩咋玩&#34;&gt;想咋玩咋玩&lt;/h2&gt;
&lt;p&gt;远程之类可参考&lt;a href=&#34;https://s1oz.github.io/post/zai-unraid-shang-tong-guo-vgpu-xu-ni-hua-ba-wan-tesla-p4-lian-dan-qia/#%E5%BC%80%E5%90%AF%E4%B8%B2%E6%B5%81%E8%BF%9C%E7%A8%8B%E7%8E%A9%E6%B8%B8%E6%88%8F&#34;&gt;在UNRAID上通过vGPU虚拟化把玩Tesla P4炼丹卡&lt;/a&gt;&lt;/p&gt;
">WindowsinDocker直通显卡网卡</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/jiang-unraid-she-zhi-wei-hyperbackup-yuan-cheng-rsync-bei-fen-mu-de-di/"" data-c="
          &lt;h2 id=&#34;添加rsync服务脚本&#34;&gt;添加rsync服务脚本&lt;/h2&gt;
&lt;p&gt;通过应用商店中的&lt;code&gt;Userscripts&lt;/code&gt;插件来新建一个开机运行脚本&lt;/p&gt;
&lt;h3 id=&#34;粘贴以下内容在脚本中&#34;&gt;粘贴以下内容在脚本中&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash

# 创建Rsync服务的配置文件
echo &amp;quot;
uid = nobody
gid = users
use chroot = yes
max connections = 8
timeout = 600
port = 873
pid file = /var/run/rsyncd.pid
log file = /var/log/rsync.log
lock file = /var/run/rsync.lock

[backups_synology]
    path = /mnt/disk3/backup/HyperBackup
    comment = HyperBackup
    read only = no
    list = yes
    auth users = user
    secrets file = /etc/rsyncd.secrets
    hosts allow = 192.168.1.0/24
    strict modes = yes
    ignore nonreadable = yes
    transfer logging = yes
    fake super = yes
&amp;quot; &amp;gt; /etc/rsyncd.conf

# 设置配置文件的权限
chmod 600 /etc/rsyncd.conf

# 创建密钥文件
echo &amp;quot;user:password&amp;quot; &amp;gt; /etc/rsyncd.secrets
chmod 600 /etc/rsyncd.secrets

# 检验rsync进程是否存在，并重新启动
RSYNC_PID=$(pidof rsync)
if [ -n &amp;quot;$RSYNC_PID&amp;quot; ]; then
    echo &amp;quot;Rsync服务已经运行，PID: $RSYNC_PID，准备重启服务应用新配置。&amp;quot;
    kill $RSYNC_PID
fi

# 启动rsync服务
rsync --daemon

# 检查rsync服务是否已成功启动
if ps aux | grep &#39;rsync --daemon&#39; | grep -v grep; then
    echo &amp;quot;Rsync服务已成功启动。&amp;quot;
else
    echo &amp;quot;Rsync服务启动失败，请检查配置文件和日志。&amp;quot;
fi
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;rsync配置常用参数注释&#34;&gt;rsync配置常用参数注释&lt;/h3&gt;
&lt;p&gt;如想修改看这&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;uid = nobody                  # 运行rsync进程的用户
gid = users                   # 运行rsync进程的组
max connections = 8          # 最多允许8个并发连接
path = /mnt/disk3/backup/HyperBackup          # 指定模块本地实际路径
comment = HyperBackup                         # 模块名称
read only = no                # yes:只读/no:允许读写
auth users = user                              # 允许认证的用户
hosts allow = 192.168.1.0/24                  # 允许的IP范围
echo &amp;quot;user:password&amp;quot; &amp;gt; /etc/rsyncd.secrets    # 设置上方认证的用户的账户密码
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;走个流程&#34;&gt;走个流程&lt;/h2&gt;
&lt;h3 id=&#34;启动rsync&#34;&gt;启动rsync&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;UNRAID&lt;/code&gt;-&lt;code&gt;设置&lt;/code&gt;-&lt;code&gt;User Scripts&lt;/code&gt;-找到&lt;code&gt;rsync&lt;/code&gt;脚本-点击&lt;code&gt;Run Script&lt;/code&gt;&lt;br&gt;
不放心就检查下看看是否已经正常启动&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ps aux|grep rsync
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;root@Tower:/etc# ps aux|grep rsync
root     11589  0.0  0.0  10608  2676 ?        Ss   10:10   0:00 rsync --daemon
root     14585  0.0  0.0   4120  2176 pts/0    S+   10:11   0:00 grep rsync
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果没运行就手动启动下,一般不会这样吧?&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;rsync --daemon
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;群晖hyperbackup设置备份目的地&#34;&gt;群晖HyperBackup设置备份目的地&lt;/h3&gt;
&lt;p&gt;打开HyperBackup,在文件服务器中选择rsync&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1716344567374.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
按需选择备份版本&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1716344577085.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
选兼容服务器,填入UNRAID的IP.脚本中用于验证的账户密码&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1716344582767.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;可能会遇见的报错请确认脚本中本地实际路径文件夹是否存在,如无新建文件夹后再重新添加&lt;/strong&gt;&lt;br&gt;
如我的实际路径是&lt;code&gt;/mnt/disk3/backup/HyperBackup&lt;/code&gt;就需要保证&lt;code&gt;HyperBackup&lt;/code&gt;文件夹已经创建&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1716344590329.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
没问题后就勾选需要备份的数据源文件夹以及对应设置&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1716344952870.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
完成后点击备份就可以体验了🤣&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1716345761537.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
">将UNRAID设置为HyperBackup远程rsync备份目的地</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/zai-gridaea-zhong-tian-jia-mermaid-zhi-chi-lai-xian-shi-tu-biao/"" data-c="
          &lt;h3 id=&#34;修改主题文件&#34;&gt;修改主题文件&lt;/h3&gt;
&lt;p&gt;将以下代码粘贴至Gridea站点源文件夹中里&lt;code&gt;post.ejs&lt;/code&gt;文件的&lt;code&gt;&amp;lt;head&amp;gt;&lt;/code&gt;部分&lt;br&gt;
例如我的源文件夹是&lt;code&gt;E:\Gridea&lt;/code&gt;主题使用的是 &lt;code&gt;gridea-theme-next&lt;/code&gt;&lt;br&gt;
那我这个文件完整路径就是&lt;code&gt;E:\Gridea\themes\gridea-theme-next\templates\post.ejs&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;script&amp;gt;
// 加载外部脚本
function loadScript(src, callback) {
    const script = document.createElement(&#39;script&#39;);
    script.src = src;
    script.async = true;
    script.onload = callback;
    document.head.appendChild(script);
}

// 初始化Mermaid
function initializeMermaid(config) {
    mermaid.initialize(config);
}

// 渲染单个Mermaid图表
function renderMermaidChart(element, index) {
    let graphDefinition = element.textContent.trim();
    if (graphDefinition) {
        let svg = mermaid.render(`ha_mermaid_${index}`, graphDefinition);
        if (svg) {
            let svgElement = document.createElement(&#39;div&#39;);
            svgElement.innerHTML = svg;
            svgElement.classList.add(&#39;mermaid&#39;);
            svgElement.setAttribute(&#39;data-processed&#39;, &#39;true&#39;);
            element.parentNode.replaceChild(svgElement, element);
        }
    }
}

// 懒加载Mermaid图表
function lazyLoadMermaidCharts() {
    const observer = new IntersectionObserver((entries, observer) =&amp;gt; {
        entries.forEach(entry =&amp;gt; {
            if (entry.isIntersecting) {
                observer.unobserve(entry.target);
                renderMermaidChart(entry.target);
            }
        });
    }, { threshold: 0.5 }); // 触发加载的阈值为元素显示50%时

    const elements = document.querySelectorAll(&amp;quot;.language-mermaid&amp;quot;);
    elements.forEach(element =&amp;gt; {
        observer.observe(element);
    });
}

// 当DOM加载完成时执行
document.addEventListener(&amp;quot;DOMContentLoaded&amp;quot;, function() {
    // 异步加载Mermaid.js
    loadScript(&#39;https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.9.1/mermaid.min.js&#39;, function() {
        // Mermaid配置选项
        const mermaidConfig = {
            startOnLoad: true,
            flowchart: {
                useMaxWidth: false,
                htmlLabels: true
            }
        };
        // 初始化Mermaid
        initializeMermaid(mermaidConfig);
        // 懒加载Mermaid图表
        lazyLoadMermaidCharts();
    });
});
&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;如何引用&#34;&gt;如何引用&lt;/h3&gt;
&lt;p&gt;只需在中间添加对应代码即可&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&amp;quot;mermaid&amp;quot;&amp;gt;
图表内容
&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;流程图示例&#34;&gt;流程图示例&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&amp;quot;mermaid&amp;quot;&amp;gt;
graph TD;
    A[开始] --&amp;gt; B[过程1];
    B --&amp;gt; C[过程2];
    C --&amp;gt; D[过程3];
    D --&amp;gt; E[判断条件];
    E -- 条件成立 --&amp;gt; F[过程4];
    E -- 条件不成立 --&amp;gt; G[过程5];
    F --&amp;gt; H[结束];
    G --&amp;gt; H;
&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;输出效果:&lt;/p&gt;
&lt;div class=&#34;mermaid&#34;&gt;
graph TD;
    A[开始] --&gt; B[过程1];
    B --&gt; C[过程2];
    C --&gt; D[过程3];
    D --&gt; E[判断条件];
    E -- 条件成立 --&gt; F[过程4];
    E -- 条件不成立 --&gt; G[过程5];
    F --&gt; H[结束];
    G --&gt; H;
&lt;/div&gt;
&lt;h3 id=&#34;时序图示例&#34;&gt;时序图示例&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&amp;quot;mermaid&amp;quot;&amp;gt;
sequenceDiagram
    participant 客户
    participant 服务员
    客户-&amp;gt;&amp;gt;服务员: 点菜
    服务员-&amp;gt;&amp;gt;厨师: 下单
    厨师-&amp;gt;&amp;gt;服务员: 完成菜品
    服务员-&amp;gt;&amp;gt;客户: 上菜
    客户-&amp;gt;&amp;gt;服务员: 结账
    服务员-&amp;gt;&amp;gt;客户: 收款
&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;输出效果:&lt;/p&gt;
&lt;div class=&#34;mermaid&#34;&gt;
sequenceDiagram
    participant 客户
    participant 服务员
    客户-&gt;&gt;服务员: 点菜
    服务员-&gt;&gt;厨师: 下单
    厨师-&gt;&gt;服务员: 完成菜品
    服务员-&gt;&gt;客户: 上菜
    客户-&gt;&gt;服务员: 结账
    服务员-&gt;&gt;客户: 收款
&lt;/div&gt;
&lt;h3 id=&#34;甘特图示例&#34;&gt;甘特图示例&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&amp;quot;mermaid&amp;quot;&amp;gt;
gantt
    title 项目甘特图
    dateFormat  YYYY-MM-DD
    section 项目阶段
    任务1: 2024-05-01, 10d
    任务2: 2024-05-15, 8d
    任务3: 2024-06-01, 15d
    任务4: 2024-06-16, 5d
&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;输出效果:&lt;/p&gt;
&lt;div class=&#34;mermaid&#34;&gt;
gantt
    title 项目甘特图
    dateFormat  YYYY-MM-DD
    section 项目阶段
    任务1: 2024-05-01, 10d
    任务2: 2024-05-15, 8d
    任务3: 2024-06-01, 15d
    任务4: 2024-06-16, 5d
&lt;/div&gt;
&lt;h3 id=&#34;状态图示例&#34;&gt;状态图示例&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;stateDiagram-v2
    [*] --&amp;gt; 就绪
    就绪 --&amp;gt; 运行: 启动
    运行 --&amp;gt; 错误: 系统错误
    运行 --&amp;gt; 待命: 暂停
    错误 --&amp;gt; 待命: 重启
    待命 --&amp;gt; 运行: 恢复
&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;输出效果:&lt;/p&gt;
&lt;div class=&#34;mermaid&#34;&gt;
stateDiagram-v2
    [*] --&gt; 就绪
    就绪 --&gt; 运行: 启动
    运行 --&gt; 错误: 系统错误
    运行 --&gt; 待命: 暂停
    错误 --&gt; 待命: 重启
    待命 --&gt; 运行: 恢复
&lt;/div&gt;
&lt;h3 id=&#34;饼图示例&#34;&gt;饼图示例&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&amp;quot;mermaid&amp;quot;&amp;gt;
pie
    title 饼图示例
    &amp;quot;A&amp;quot; : 30
    &amp;quot;B&amp;quot; : 20
    &amp;quot;C&amp;quot; : 25
    &amp;quot;D&amp;quot; : 15
    &amp;quot;E&amp;quot; : 10
&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;输出效果:&lt;/p&gt;
&lt;div class=&#34;mermaid&#34;&gt;
pie
    title 饼图示例
    &#34;A&#34; : 30
    &#34;B&#34; : 20
    &#34;C&#34; : 25
    &#34;D&#34; : 15
    &#34;E&#34; : 10
&lt;/div&gt;
&lt;h3 id=&#34;用户体验旅程图示例&#34;&gt;用户体验旅程图示例&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&amp;quot;mermaid&amp;quot;&amp;gt;
journey
    title 用户体验旅程
    section 购物
        浏览商品: 10分钟: 用户
        添加商品到购物车: 5分钟: 用户
        结算购物车: 2分钟: 系统
        返回个人主页: 1分钟: 系统
    section 退出
        点击退出: 1分钟: 用户
        确认退出: 2分钟: 系统
        返回登录页面: 1分钟: 系统
&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;输出效果:&lt;/p&gt;
&lt;div class=&#34;mermaid&#34;&gt;
journey
    title 用户体验旅程
    section 购物
        浏览商品: 10分钟: 用户
        添加商品到购物车: 5分钟: 用户
        结算购物车: 2分钟: 系统
        返回个人主页: 1分钟: 系统
    section 退出
        点击退出: 1分钟: 用户
        确认退出: 2分钟: 系统
        返回登录页面: 1分钟: 系统
&lt;/div&gt;">在Gridea中添加Mermaid支持来显示图表</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/wan-ke-yun-fu-huo-cheng-pikvm/"" data-c="
          &lt;p&gt;感谢大佬的&lt;a href=&#34;https://github.com/mofeng-git/One-KVM&#34;&gt;One-KVM&lt;/a&gt;项目先，让玩客云再次发光发热~！&lt;br&gt;
&lt;a href=&#34;https://p1b237lu9xm.feishu.cn/docx/TF52dpXZHoGj8gxBFqtcIs17nWf&#34;&gt;One-KVM安装完整教程&lt;br&gt;
&lt;/a&gt;大佬的安装教程可详细了，简直手把手！&lt;/p&gt;
&lt;h2 id=&#34;废话&#34;&gt;废话&lt;/h2&gt;
&lt;p&gt;本文只是为了记录体验，可以直接看大佬安装指南&lt;br&gt;
无意间发现这个项目，看大佬安装教程中的准备工具&lt;br&gt;
&lt;code&gt;必备硬件：玩客云（含电源和USB刷机线），HDMI转USB采集卡（推荐MS2109方案），网线和HDMI线&lt;/code&gt;&lt;br&gt;
那时候还是因为角落里的NAS插显示器不方便，买了MS2109用手机来当显示器调试下。&lt;br&gt;
刷机线嘛，老早就开始刷电视盒子这个也有的，虽然成色有点伊拉克。&lt;br&gt;
网线、HDMI线、TF卡、TTL工具抽屉翻翻也都齐全了。&lt;br&gt;
哟，我就缺一个&lt;strong&gt;玩客云&lt;/strong&gt; 买！咸鱼一看20一个！这不买等啥呢~！&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1705324376748.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
幸运的是把大佬GitHub项目发群里，&lt;strong&gt;靠不要脸&lt;/strong&gt;让基情四射的群友送了我一个。&lt;br&gt;
感谢这位巨佬，直接顺丰发过来了，来自两千多公里之外的爱~！&lt;/p&gt;
&lt;h2 id=&#34;开搞&#34;&gt;开搞&lt;/h2&gt;
&lt;p&gt;好啦，该有的都有了。开搞~！&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;根据大佬的&lt;a href=&#34;https://p1b237lu9xm.feishu.cn/drive/folder/IsOifWmMKlzYpRdWfcocI7jdnQA&#34;&gt;One-KVM使用手册&lt;br&gt;
&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;先仔细拜读下&lt;a href=&#34;https://p1b237lu9xm.feishu.cn/docx/TF52dpXZHoGj8gxBFqtcIs17nWf&#34;&gt;One-KVM安装完整教程&lt;br&gt;
&lt;/a&gt;过一遍安装流程，分三种安装方案，玩客云最简单的就是大佬发布的burn线刷镜像。按这个搞&lt;/li&gt;
&lt;li&gt;再仔细拜读下&lt;a href=&#34;https://www.right.com.cn/forum/thread-4058181-1-1.html&#34;&gt;正确区分玩客云新版V1.3和旧版V1.0&lt;/a&gt;主要是原版系统了解下短接的触点。第一次需要拆机短接刷机。&lt;/li&gt;
&lt;li&gt;开始拆机&lt;br&gt;
上电试机&amp;gt;~&lt;s&gt;无法正常上电&amp;gt;原配电源猝死&amp;gt;盗用AP路由器电源&lt;/s&gt;~成功开机&amp;gt;直接吹风机加热io面板&amp;gt;撬棒插入撬开&amp;gt;拧开6颗螺丝&amp;gt;~&lt;s&gt;卡主板太紧BUG，紧的死活取不出，上老虎钳白手套夹住也取不出！然后靠真男人反复推拉活塞动作松松后才夹出来哭死&lt;/s&gt;~成功取出主板&lt;/li&gt;
&lt;li&gt;开始刷机&lt;br&gt;
下载大佬分享的&lt;a href=&#34;https://pan.baidu.com/s/166-2Y8PBF4SbHXFkGmFJYg?pwd=o9aj&#34;&gt;镜像工具文件&lt;/a&gt;&lt;br&gt;
&lt;strong&gt;安装USB_Burning_Tool&lt;/strong&gt; &amp;gt; &lt;strong&gt;解压并导入burn线刷镜像并点击开始&lt;/strong&gt; &amp;gt; &lt;strong&gt;插刷机线于USB1口&lt;/strong&gt; &amp;gt; &lt;strong&gt;镊子短接主板触点&lt;/strong&gt; &amp;gt; &lt;strong&gt;上电&lt;/strong&gt; &amp;gt; &lt;strong&gt;放开镊子短接等刷机流程走完&lt;/strong&gt; &amp;gt; &lt;strong&gt;拔线开机&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;刷机耗时大概4分多钟&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1705325324367.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;体验&#34;&gt;体验&lt;/h2&gt;
&lt;p&gt;按佬的&lt;a href=&#34;https://p1b237lu9xm.feishu.cn/drive/folder/IsOifWmMKlzYpRdWfcocI7jdnQA&#34;&gt;One-KVM使用手册&lt;br&gt;
&lt;/a&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1705327348784.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
接线开机，然后去路由器找到&lt;strong&gt;aml-s812&lt;/strong&gt;设备IP用浏览器登陆就可以愉快玩耍了&lt;br&gt;
默认账号密码是&lt;code&gt;admin/admin&lt;/code&gt;&lt;br&gt;
看到有说重启会变MAC，反正我没遇到，貌似有两种解决方案&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;作者文档中有方法设置静态IP&lt;/li&gt;
&lt;li&gt;恩山帖子中的&lt;a href=&#34;https://www.right.com.cn/forum/thread-4103842-1-1.html&#34;&gt;v1.0 版本刷机到emmc&lt;/a&gt;的方法看评论是有解决这个问题，我懒没试。&lt;br&gt;
&lt;strong&gt;秀点图~&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1705334589469.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1705335044030.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1705326716330.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1705326712923.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
感觉bios界面反应挺快的&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1705326146441.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
进入系统后感觉延迟还是有的，不过调试够用&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;哈哈，再也不用显示器搬来搬去了&lt;br&gt;
哈哈哈哈，再也不用因为手机小屏幕瞎眼了&lt;br&gt;
简直是对于没有IPMI的家庭用户插上了翅膀&lt;br&gt;
对于NAS 软路由不管是设置BIOS还是刷机都方便多了&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1705326143263.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ssh默认密码是&lt;code&gt;root/1234&lt;/code&gt;&lt;br&gt;
第一次登陆会让设置新密码，选择语言，可以跳过用户创建&lt;br&gt;
玩了一会：室温16° 玩客云外壳摸着拔凉拔凉 HDMI采集卡温热不发烫&lt;br&gt;
省电！绝对的省电!&lt;br&gt;
发现会卡启动，需要被控端关机，先启动玩客云再启动设备&lt;br&gt;
尝试了下上方说的&lt;strong&gt;v1.0 版本刷机到emmc&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;线刷首选底包.img&amp;gt;卡刷wanke-emmc.img&amp;gt;线刷One-KVM_Armbian_20.12_Aml-s812_jammy_current_5.9.0-rc7_minimal_240110..burn.img&lt;/code&gt;&lt;br&gt;
还是一样卡~&lt;br&gt;
对于开启MSD功能的可能出现的高占用BUG，秉承着不用就不会出错，大不了插U盘，对于我这种设置BIOS足够用了。感恩&lt;/p&gt;
">玩客云复活成PIKVM</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/yi-dong-he-hui-yan-hk-q1-she-xiang-tou-lian-jie-qun-hui-jian-kong-tao-jian-surveillance-station/"" data-c="
          &lt;h3 id=&#34;前言&#34;&gt;前言&lt;/h3&gt;
&lt;p&gt;18年白嫖的了移动的这个摄像头&lt;br&gt;
到手后搜了搜发现就是海康萤石云c6h，出厂预置移动&lt;s&gt;辣鸡&lt;/s&gt;定制固件&lt;br&gt;
看到有大佬提取了固件,动手能力强的可以直接拆开吹下ic写入c6h固件&lt;br&gt;
然而手残党的我....算了算了&lt;/p&gt;
&lt;h3 id=&#34;曲线救国rtsp连入群晖&#34;&gt;曲线救国RTSP连入群晖&lt;/h3&gt;
&lt;p&gt;根据&lt;strong&gt;海康CVE-2017-7921漏洞&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;可以使用弱密码直接通过RTSP查看主码流&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;例子
# 主码流
rtsp://admin:12345@IP:554/h264/ch1/main/av_stream
rtsp://admin:12345@IP:554/MPEG-4/ch1/main/av_stream

# 子码流
rtsp://admin:12345@IP/mpeg4/ch1/sub/av_stream
rtsp://admin:12345@IP/h264/ch1/sub/av_stream
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;实际体验下来，HK-Q1可以直接在套件中&lt;strong&gt;使用IP无需密码&lt;/strong&gt;即可通过群晖套件接入&lt;strong&gt;录制&lt;/strong&gt;并设置&lt;strong&gt;事件检测&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1688955327831.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
这样直接在和慧眼调整好角度,声音后可以当作普通摄像头使用了&lt;br&gt;
如果需要云台跟喊话功能临时去和慧眼好了&lt;/p&gt;
&lt;h3 id=&#34;优劣势&#34;&gt;优劣势&lt;/h3&gt;
&lt;h4 id=&#34;移动固件&#34;&gt;移动固件&lt;/h4&gt;
&lt;h5 id=&#34;优势&#34;&gt;优势&lt;/h5&gt;
&lt;p&gt;1.移动固件带ONVIF，但是不知道密码😃&lt;br&gt;
2.可能能通过寄回维修重置密码？（未实际体验过,但公众号有此维修服务,人工无法直接重置）&lt;/p&gt;
&lt;h5 id=&#34;劣势&#34;&gt;劣势&lt;/h5&gt;
&lt;p&gt;1.只能使用移动和慧眼APP操控摄像头&lt;br&gt;
2.APP体验很差&lt;br&gt;
3.因确实管理密码,无任何其他操作可能性&lt;/p&gt;
&lt;h4 id=&#34;c6h固件&#34;&gt;c6h固件&lt;/h4&gt;
&lt;h5 id=&#34;优势-2&#34;&gt;优势&lt;/h5&gt;
&lt;p&gt;1.萤石云APP体验较好&lt;/p&gt;
&lt;h5 id=&#34;劣势-2&#34;&gt;劣势&lt;/h5&gt;
&lt;p&gt;1.貌似阉割ONVIF协议&lt;br&gt;
2.新版本貌似无法过萤石云验证&lt;/p&gt;
">移动和慧眼HK-Q1摄像头连接群晖监控套件Surveillance Station</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/zai-unraid-shang-tong-guo-vgpu-xu-ni-hua-ba-wan-tesla-p4-lian-dan-qia/"" data-c="
          &lt;h3 id=&#34;废话-直接跳&#34;&gt;废话 直接跳&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;主要还是折腾,心痒痒,对~就是玩&lt;/li&gt;
&lt;li&gt;从1660直通虚拟机,核显转码&amp;gt;拆掉独显,直通核显&amp;gt;用炼丹卡玩下vGPU&lt;/li&gt;
&lt;li&gt;&lt;s&gt;说实话就是一开始直通独显玩游戏,但是没啥意思就拆了省电,然后虚拟机没显卡又不好玩放置类小游戏,所以又直通了核显,然后又嫌弃性能过低...就又搞了大显存的P4来给Emby转码+虚拟机串流玩游戏+试试Ai涩图?&lt;/s&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;需要准备些什么&#34;&gt;需要准备些什么&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;一台正常使用的UNRAID电脑&lt;/li&gt;
&lt;li&gt;BIOS正确开启VT-d / Above 4G Decoding 之类跟直通相关的选项&lt;/li&gt;
&lt;li&gt;一张身经百战的Tesla P4炼丹卡&lt;/li&gt;
&lt;li&gt;无所畏惧的精神&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;unraid安装vgpu插件&#34;&gt;UNRAID安装vGPU插件&lt;/h3&gt;
&lt;h4 id=&#34;前提&#34;&gt;前提&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;保证UNRAID上不要安装Nvidia-Driver插件&lt;/li&gt;
&lt;li&gt;正常插入P4炼丹卡到主机中,在UNRAID的系统设备中不要勾选P4炼丹卡&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;安装插件&#34;&gt;安装插件&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;安装&lt;a href=&#34;https://github.com/stl88083365/unraid-nvidia-vgpu-driver&#34;&gt;stl88083365大佬&lt;/a&gt;开发的&lt;a href=&#34;https://raw.githubusercontent.com/stl88083365/unraid-nvidia-vgpu-driver/master/nvidia-vgpu-driver.plg&#34;&gt;Unraid vGPU插件&lt;/a&gt; 再次感谢大佬搞了这么方便的插件&lt;br&gt;
在&lt;a href=&#34;https://github.com/stl88083365/unraid-nvidia-vgpu-driver/releases&#34;&gt;releases页面&lt;/a&gt;显示的就是插件支持的最新内核版本号&lt;br&gt;
需要注意的是插件的版本是跟UNRAID的内核走的,如UNRAID版本过新,请&lt;strong&gt;降级后安装对应插件&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;插件安装完毕后可以根据大佬项目中的&lt;a href=&#34;https://github.com/stl88083365/unraid-nvidia-vgpu-driver#readme&#34;&gt;README.md&lt;/a&gt;流程走&lt;br&gt;
大致就是安装&#39;user scripts&#39;插件,新建个用于加载驱动的脚本并粘贴以下内容&lt;br&gt;
&lt;strong&gt;需要修改的两段我中文注释了&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash
# set -x

# Load drivers 
depmod -a
nvidia-modprobe

## 一共两段
### 段落1
### 定义虚拟机使用的vGPU的UUID,按下方vGPU的类型按需增删,分几个就用几个,uuid可用uuidgen命令创建
vm1=&amp;quot;2b6976dd-8620-49de-8d8d-ae9ba47a50db&amp;quot;
vm2=&amp;quot;5fd6286d-06ac-4406-8b06-f26511c260d3&amp;quot;
#vm3=&amp;quot;f090c00f-338b-47b4-a419-700101cd70c5&amp;quot;
#vm4=&amp;quot;cee34c0a-6144-4f3e-8bdb-51538a98ba80&amp;quot;
#vm5=&amp;quot;692c4c12-0def-4aa8-87b4-732fd5ef43ea&amp;quot;
#vm6=&amp;quot;bc4b8513-43f0-49d2-81b1-a4aa9fe35826&amp;quot;
#vm7=&amp;quot;e46b8864-0271-41ce-86b4-d5df5579d332&amp;quot;
#vm8=&amp;quot;6fb3f4a0-a17d-43e5-b4fd-1a52acc3e382&amp;quot;
## 定义N卡的PCI位置
NVPCI=&amp;quot;0000:03:00.0&amp;quot;
## 定义vGPU的类型 玩游戏只用Q模式,其他都不考虑,更多信息可以在Nvidia Vgpu Driver插件中查询
## 8个1G显存写63,4个2G显存的写64,2个4G显存写65,1个8G显存写66
## 7.0.0版本开始大佬使用了550版本驱动,P4显示为 NVIDIA RTXA5500 ,请根据Nvidia Vgpu Driver插件中Mdevctl types来填写,如nvidia-765
MDEVLIST=&amp;quot;nvidia-65&amp;quot;

if [ ! -d /boot/config/nvidia-vgpu ]; then
    mkdir -p /boot/config/nvidia-vgpu
fi

if [ ! -d /etc/vgpu_unlock/ ]; then
    mkdir -p /etc/vgpu_unlock/
fi

if [ -f /boot/config/nvidia-vgpu/profile_override.toml ]; then
  ln -sf /boot/config/nvidia-vgpu/profile_override.toml /etc/vgpu_unlock/profile_override.toml
else 
  touch /boot/config/nvidia-vgpu/profile_override.toml
  ln -sf /boot/config/nvidia-vgpu/profile_override.toml /etc/vgpu_unlock/profile_override.toml
fi

echo &amp;quot;unlock = false&amp;quot; &amp;gt; /etc/vgpu_unlock/config.toml

env LD_PRELOAD=/usr/local/lib/libvgpu_unlock_rs.so &amp;gt;/dev/null

if pgrep -x nvidia-vgpu-mgr &amp;gt; /dev/null
then
    nvidia-vgpud stop
    nvidia-vgpu-mgr stop
    killall nvidia-vgpu-mgr
fi
LD_PRELOAD=/usr/local/lib/libvgpu_unlock_rs.so nvidia-vgpud 
LD_PRELOAD=/usr/local/lib/libvgpu_unlock_rs.so nvidia-vgpu-mgr

sleep 3

### 段落2
### 上方定义几个vm,这就填几个
#### 例子arr=( &amp;quot;${vm1}&amp;quot; &amp;quot;${vm2}&amp;quot; &amp;quot;${vm3}&amp;quot; &amp;quot;${vm4}&amp;quot; )
arr=( &amp;quot;${vm1}&amp;quot; &amp;quot;${vm2}&amp;quot; )

for os in &amp;quot;${arr[@]}&amp;quot;; do
    if [[ &amp;quot;$(mdevctl list)&amp;quot; == *&amp;quot;$os&amp;quot;* ]]; then
        echo &amp;quot; [i] Found $os running, stopping and undefining...&amp;quot;
        mdevctl stop -u &amp;quot;$os&amp;quot;
        mdevctl undefine -u &amp;quot;$os&amp;quot;
    fi
done

for os in &amp;quot;${arr[@]}&amp;quot;; do
    echo &amp;quot; [i] Defining and running $os...&amp;quot;
    mdevctl define -u &amp;quot;$os&amp;quot; -p &amp;quot;$NVPCI&amp;quot; --type &amp;quot;$MDEVLIST&amp;quot;
    mdevctl start -u &amp;quot;$os&amp;quot;
done

echo &amp;quot; [i] Currently defined mdev devices:&amp;quot;
mdevctl list
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;然后把脚本设置为At First Array Start Only(第一次启动阵列时运行脚本)&lt;br&gt;
然后运行此命令,告知由主机驱动程序管理设备&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;echo &amp;quot;options nvidia cudahost=1&amp;quot; &amp;gt; /boot/config/modprobe.d/nvidia.conf
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;最后点击运行脚本,现在已经可以在UNRAID中输入命令查看显卡信息了&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;验证是否正常加载驱动
lsmod |grep vfio 

查看机器上所有N卡信息
nvidia-smi

查看vGPU显卡信息
nvidia-smi vgpu

关闭ECC,释放所有显存
nvidia-smi -e 0

滚动显示设备状态
nvidia-smi dmon

实时显示显存 5秒刷新一次
nvidia-smi -l 5
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;更多信息可以直接在UNRAID的设置-Nvidia Vgpu Driver中查询&lt;/p&gt;
&lt;h4 id=&#34;更新插件&#34;&gt;更新插件&lt;/h4&gt;
&lt;p&gt;通过&lt;a href=&#34;https://github.com/stl88083365/unraid-nvidia-vgpu-driver/blob/master/plugin_update_helper&#34;&gt;plugin_update_helper&lt;/a&gt;脚本来更新&lt;br&gt;
使用方法很简单：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在&#39;user scripts&#39;插件中,新建个脚本并粘贴&lt;strong&gt;plugin_update_helper&lt;/strong&gt;中内容&lt;/li&gt;
&lt;li&gt;点击此脚本右侧&lt;strong&gt;Run In Background&lt;/strong&gt;,让其后台运行&lt;/li&gt;
&lt;li&gt;工具-系统更新-检查更新，然后点击&lt;strong&gt;更新&lt;/strong&gt;来安装新版本，等待安装完毕不要点重启&lt;/li&gt;
&lt;li&gt;这时刚后台运行的脚本会自动判断&lt;strong&gt;changes.txt&lt;/strong&gt;已更新,对比&lt;strong&gt;releases&lt;/strong&gt;版本是否对应系统内核版本,如果对应会自动更新,更新结束会发送通知，然后再重启系统即可&lt;/li&gt;
&lt;li&gt;如果出现不能使用,就恢复,并删除插件后重新安装插件即可&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;虚拟机上使用&#34;&gt;虚拟机上使用&lt;/h3&gt;
&lt;h4 id=&#34;验证vgpu驱动&#34;&gt;验证vGPU驱动&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;先在UNRAID的设置-Nvidia Vgpu Driver中查看刚脚本定义的vGPU的UUID是否正常显示&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;## mdevctl list命令也可查询
root@Tower:~# mdevctl list
2b6976dd-8620-49de-8d8d-ae9ba47a50db 0000:03:00.0 nvidia-65 manual (defined)
5fd6286d-06ac-4406-8b06-f26511c260d3 0000:03:00.0 nvidia-65 manual (defined)
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;新建虚拟机&#34;&gt;新建虚拟机&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;新建WIN10虚拟机,切记添加SPICE不要用VNC,因为安装vGPU驱动VNC有bug,完成安装后关机&lt;/li&gt;
&lt;li&gt;编辑虚拟机xml文件,在&lt;strong&gt;video&lt;/strong&gt;标签下方增加以下内容&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;#vGPU 更改为自己的uuid跟正确的PCI位置
    &amp;lt;hostdev mode=&#39;subsystem&#39; type=&#39;mdev&#39; managed=&#39;no&#39; model=&#39;vfio-pci&#39; display=&#39;off&#39;&amp;gt;
      &amp;lt;source&amp;gt;
        &amp;lt;address uuid=&#39;2b6976dd-8620-49de-8d8d-ae9ba47a50db&#39;/&amp;gt;
      &amp;lt;/source&amp;gt;
      &amp;lt;address type=&#39;pci&#39; domain=&#39;0x0000&#39; bus=&#39;0x00&#39; slot=&#39;0x03&#39; function=&#39;0x0&#39;/&amp;gt;
    &amp;lt;/hostdev&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;#声卡 按需添加
    &amp;lt;sound model=&#39;ich9&#39;&amp;gt;
    &amp;lt;/sound&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;#题外话 硬盘想显示为ssd，只需加在对应硬盘后面加 rotation_rate=&#39;1&#39; 即可
#例子 只限IDE SATA 不支持virtio
      &amp;lt;target dev=&#39;hdc&#39; bus=&#39;sata&#39; rotation_rate=&#39;1&#39;/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;修改保存后应该是这样的&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1685407263550.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;安装驱动&#34;&gt;安装驱动&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;开启虚拟机,通过浏览器直接访问 &lt;strong&gt;切记不要使用自动安装驱动或者驱动精灵之类来安装驱动&lt;/strong&gt;&lt;br&gt;
&lt;s&gt;先拜读&lt;a href=&#34;https://github.com/justin-himself/NVIDIA-VGPU-Driver-Archive&#34;&gt;justin-himself&lt;/a&gt;佬的项目这个仓库包含了 NVIDIA vGPU 驱动的历史版本&lt;br&gt;
win虚拟机&lt;strong&gt;无脑安装&lt;/strong&gt;&lt;a href=&#34;https://github.com/justin-himself/NVIDIA-VGPU-Driver-Archive/releases&#34;&gt;Releases页面&lt;/a&gt;中最新版本&lt;br&gt;
&lt;strong&gt;下载NVIDIA-GRID-Linux-KVM开头的几个分卷解压&lt;/strong&gt;&lt;br&gt;
安装&lt;strong&gt;Guest_Drivers&lt;/strong&gt;文件夹中&lt;strong&gt;exe&lt;/strong&gt;结尾GRID驱动&lt;/s&gt;&lt;br&gt;
&lt;strong&gt;大佬已删库&lt;/strong&gt;，请直接从&lt;a href=&#34;https://cloud.google.com/compute/docs/gpus/grid-drivers-table?hl=zh-cn&#34;&gt;Google Cloud&lt;/a&gt;下载所需要的版本安装即可&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;搭建民间vgpu激活方案&#34;&gt;搭建民间vGPU激活方案&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;UNRAID直接下载容器模板后添加启动即可(自行修改模板中DLS_URL变量的 IP)&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;wget -O /boot/config/plugins/dockerMan/templates/FastAPI-DLS.xml https://raw.githubusercontent.com/s1oz/unraid/master/fastapi-dls.xml
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;项目源码为oscar.krause大佬的&lt;a href=&#34;https://gitea.publichub.eu/oscar.krause/fastapi-dls&#34;&gt;fastapi-dls&lt;/a&gt;,更多内容请自行拜读&lt;br&gt;
使用的镜像为来自&lt;a href=&#34;https://foxi.buduanwang.vip/virtualization/pve/2195.html/&#34;&gt;佛西博客&lt;/a&gt;中的&lt;a href=&#34;https://hub.docker.com/r/makedie/fastapi-dls&#34;&gt;makedie/fastapi-dls&lt;/a&gt;,感谢大佬自封证书挽救懒人&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;WIN10虚拟机激活授权&lt;br&gt;
虚拟机浏览器中打开https://容器IP:9443   &lt;strong&gt;切记是https&lt;/strong&gt;  默认页面为配置说明&lt;br&gt;
Windows激活方式如下:&lt;br&gt;
浏览器访问 https://容器IP:9443/client-token 后会自动下载授权文件&lt;br&gt;
将文件导入到&lt;code&gt;C:\Program Files\NVIDIA Corporation\vGPU Licensing\ClientConfigToken&lt;/code&gt;文件夹中后重启即可&lt;br&gt;
重启后右下角就弹出激活了&lt;br&gt;
判断是否激活&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;nvidia-smi -q |findstr Lincese
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;开启串流远程玩游戏&#34;&gt;开启串流远程玩游戏&lt;/h3&gt;
&lt;p&gt;得益于vGPU加成,安装驱动后直接附带了一个虚拟显示器&lt;br&gt;
可以直接通过浏览器使用SPICE访问虚拟机来进行操作&lt;br&gt;
安装parsec然后开始畅玩(都是成年人了,这点你肯定会的)&lt;br&gt;
&lt;strong&gt;唯一要注意的就是在桌面右击-显示设置-多显示器-仅在2上显示&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;说个题外话&#34;&gt;说个题外话:&lt;/h4&gt;
&lt;p&gt;一般串流要么插HDMI欺诈器之类,要么额外安装一个虚拟显示器来让远程游戏正确工作&lt;br&gt;
举例个虚拟显示器:&lt;br&gt;
先下载&lt;a href=&#34;https://www.amyuni.com/downloads/usbmmidd_v2.zip&#34;&gt;虚拟显示驱动程序&lt;/a&gt;&lt;br&gt;
解压后以管理员身份运行&lt;code&gt;usbmmidd_v2&lt;/code&gt;文件夹中的&lt;code&gt;usbmmidd.bat&lt;/code&gt;即可&lt;br&gt;
运行后会自动添加一个虚拟显示器&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;如果要停用虚拟显示器
在文件夹路径以管理员身份运行的命令行中输入以下命令  停用多个虚拟显示器运行多次
deviceinstaller64 enableidd 0
如果重新运行就输入
deviceinstaller64 enableidd 1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;想完全卸载虚拟显示器可以在设备管理器中删除&lt;code&gt;USB Mobile Monitor Virtual Display&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;多样串流按需选择&#34;&gt;多样串流按需选择&lt;/h4&gt;
&lt;p&gt;串流玩游戏方案有很多,mstsc / anydesk / parsec / moonlight等&lt;br&gt;
不过moonlight不支持远程剪贴板复制粘贴,&lt;br&gt;
两种解决方案,&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;额外安装&lt;a href=&#34;https://github.com/aitsc/natclip&#34;&gt;natclip&lt;/a&gt;,实现windows、macos或及其之间的剪切板文本共享, 可用于moonlight串流等远程控制剪切板不能用或失效的问题&lt;/li&gt;
&lt;li&gt;换mstsc / anydesk / parsec 之类&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;虚拟机直接安装&lt;a href=&#34;https://github.com/LizardByte/Sunshine&#34;&gt;Sunshine&lt;/a&gt;来让P4支持moonlight&lt;br&gt;
服务端安装使用自行拜读&lt;a href=&#34;https://docs.lizardbyte.dev/projects/sunshine/en/latest/&#34;&gt;Sunshine Wiki&lt;/a&gt;&lt;br&gt;
客户端安装使用自行拜读&lt;a href=&#34;https://github.com/moonlight-stream/moonlight-docs/wiki/Setup-Guide&#34;&gt;Moonlight Wiki&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;超频&#34;&gt;超频&lt;/h3&gt;
&lt;p&gt;先用&lt;code&gt;nvidia-smi -q -d SUPPORTED_CLOCKS&lt;/code&gt;查询下显卡最高支持的频率&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;root@Tower:~# nvidia-smi -q -d SUPPORTED_CLOCKS

==============NVSMI LOG==============

Timestamp                                 : Sat May 27 12:46:25 2023
Driver Version                            : 525.105.17
CUDA Version                              : 12.0
vGPU Driver Capability
        Heterogenous Multi-vGPU           : Supported

Attached GPUs                             : 1
GPU 00000000:03:00.0
    Supported Clocks
        Memory                            : 3003 MHz
            Graphics                      : 1531 MHz
            Graphics                      : 1518 MHz
            Graphics                      : 1506 MHz
            Graphics                      : 1493 MHz

                        ~~~~~~~~~~

            Graphics                      : 455 MHz
        Memory                            : 405 MHz
            Graphics                      : 455 MHz
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;得知显存最高&lt;strong&gt;3003*,核心最高&lt;/strong&gt;1531**&lt;br&gt;
我就&lt;strong&gt;保守点&lt;/strong&gt;来个3003,1531吧&lt;br&gt;
输入&lt;code&gt;nvidia-smi -ac 3003,1531&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;root@Tower:~# nvidia-smi -ac 3003,1531
Applications clocks set to &amp;quot;(MEM 3003, SM 1531)&amp;quot; for GPU 00000000:03:00.0
All done.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://s1oz.github.io/post-images/1685407196185.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
超频完成,恭喜性能增加了.功耗也增加了&lt;br&gt;
不怕耗电的,就直接新建脚本,然后把脚本设置为At First Array Start Only(第一次启动阵列时运行脚本&lt;/p&gt;
&lt;h3 id=&#34;给emby添加炼丹卡解码转码&#34;&gt;给Emby添加炼丹卡解码转码&lt;/h3&gt;
&lt;p&gt;转码是会员功能,请先&lt;a href=&#34;https://s1oz.github.io/post/docker-an-zhuang-emby-bing-bai-piao/&#34;&gt;白嫖&lt;/a&gt;&lt;br&gt;
调用N卡只要加以下参数&lt;br&gt;
emby官方docker直接在额外参数中添加 &lt;code&gt;--gpus &lt;/code&gt;&lt;br&gt;
新建设备  值填 &lt;code&gt;/dev/dri&lt;/code&gt;即可&lt;br&gt;
然后转码中勾选即可&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1685407178668.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;p4独有bug&#34;&gt;P4独有bug&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;开机后需先开有vGPU的虚拟机后再开Emby&lt;/li&gt;
&lt;li&gt;不然就会造成显卡占用100%,Docker卡死&lt;/li&gt;
&lt;li&gt;正常开启后随意关闭.重启虚拟机.Emby无影响&lt;/li&gt;
&lt;/ul&gt;
">在UNRAID上通过vGPU虚拟化把玩Tesla P4炼丹卡</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/unraid-zhi-tong-uhd630-he-xian-gei-xu-ni-ji-cai-keng/"" data-c="
          &lt;p&gt;没独立显卡直通玩了,哭泣😭&lt;br&gt;
那就给把核显从emby里撕开拿出来给虚拟机吧&lt;/p&gt;
&lt;h2 id=&#34;安装流程&#34;&gt;安装流程&lt;/h2&gt;
&lt;p&gt;1.系统设备中勾选核显绑定并重启&lt;br&gt;
2.新建虚拟机并安装(Q35还是I440FX都行)安装win10并开启远程访问&lt;br&gt;
3.删除vnc显卡,添加UHD630核显&lt;br&gt;
4.运气好开机正常安装驱动就能运行&lt;/p&gt;
&lt;h2 id=&#34;我遇到以下坑&#34;&gt;我遇到以下坑&lt;/h2&gt;
&lt;h3 id=&#34;安装完系统自动更新驱动并报错代码43推荐先尝试此方法&#34;&gt;安装完系统自动更新驱动并报错代码43(推荐先尝试此方法)&lt;/h3&gt;
&lt;p&gt;先看结论: &lt;code&gt;I440FX&lt;/code&gt;默认支持最新(31.0.101.xxxx) &lt;code&gt;Q35&lt;/code&gt;只支持(26.20.100.7870)&lt;br&gt;
根据情况安装对应版本驱动,安装完毕后就能正常驱动不会报错43&lt;br&gt;
无需添加&lt;code&gt;vbios&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;更换驱动还报错代码43&#34;&gt;更换驱动还报错代码43&lt;/h3&gt;
&lt;p&gt;试试添加此&lt;a href=&#34;https://raw.githubusercontent.com/s1oz/unraid/master/i915ovmf.rom&#34;&gt;vbios&lt;/a&gt;即可正常安装驱动使用&lt;/p&gt;
&lt;h3 id=&#34;正常驱动后系统内存占满&#34;&gt;正常驱动后系统内存占满&lt;/h3&gt;
&lt;p&gt;这个貌似是驱动问题,关闭虚拟机在xml文件中做小小修改&lt;br&gt;
libvirt 8.2.0+以上 差不多就是unriad6.10开始的版本(后续版本无此问题)&lt;br&gt;
要给核显添加名称,并添加对应参数&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    &amp;lt;hostdev mode=&#39;subsystem&#39; type=&#39;pci&#39; managed=&#39;yes&#39;&amp;gt;
      &amp;lt;driver name=&#39;vfio&#39;/&amp;gt;
      &amp;lt;source&amp;gt;
        &amp;lt;address domain=&#39;0x0000&#39; bus=&#39;0x00&#39; slot=&#39;0x02&#39; function=&#39;0x0&#39;/&amp;gt;
      &amp;lt;/source&amp;gt;
      &amp;lt;alias name=&#39;ua-igpu&#39;/&amp;gt; #给核显添加名称
      &amp;lt;rom file=&#39;/mnt/user/isos/vbios/i915ovmf.rom&#39;/&amp;gt;
      &amp;lt;address type=&#39;pci&#39; domain=&#39;0x0000&#39; bus=&#39;0x00&#39; slot=&#39;0x02&#39; function=&#39;0x0&#39;/&amp;gt;
    &amp;lt;/hostdev&amp;gt;
    &amp;lt;memballoon model=&#39;none&#39;/&amp;gt;
  &amp;lt;/devices&amp;gt;
  &amp;lt;seclabel type=&#39;dynamic&#39; model=&#39;dac&#39; relabel=&#39;yes&#39;/&amp;gt;
  #这开始添加如下代码能修正系统内存占满问题
  &amp;lt;qemu:override&amp;gt;
    &amp;lt;qemu:device alias=&#39;ua-igpu&#39;&amp;gt;
      &amp;lt;qemu:frontend&amp;gt;
        &amp;lt;qemu:property name=&#39;x-igd-opregion&#39; type=&#39;bool&#39; value=&#39;true&#39;/&amp;gt;
        &amp;lt;qemu:property name=&#39;x-igd-gms&#39; type=&#39;unsigned&#39; value=&#39;1&#39;/&amp;gt;
      &amp;lt;/qemu:frontend&amp;gt;
    &amp;lt;/qemu:device&amp;gt;
  &amp;lt;/qemu:override&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
">UNRAID直通UHD630核显给虚拟机踩坑</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/nginxproxymanager-jin-zhi-huo-yun-xu-mou-di-qu-fang-wen/"" data-c="
          &lt;h1 id=&#34;前言&#34;&gt;前言&lt;/h1&gt;
&lt;p&gt;家用一般都只在市里通勤🤡所以呀给npm个套子限制地区访问应该更安全&lt;br&gt;
老套路了,一般都是禁止国外IP的访问&lt;br&gt;
今天来设置下只允许本地市的访问,其他地区通通404&lt;/p&gt;
&lt;h1 id=&#34;限制访问&#34;&gt;限制访问&lt;/h1&gt;
&lt;p&gt;以unraid应用市场中的NginxProxyManager为例( jlesage版) jc21版本存放目录不同&lt;br&gt;
都是靠&lt;strong&gt;ngx_http_geoip2_module模块&lt;/strong&gt;实现 &lt;strong&gt;jc21版请自行添加&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;下载geolite2-citymmdb&#34;&gt;下载GeoLite2-City.mmdb&lt;/h2&gt;
&lt;p&gt;感谢&lt;strong&gt;P3TERX&lt;/strong&gt;大佬的项目,每3天自动发布新版本.先从大佬这扒&lt;strong&gt;GeoLite2-City.mmdb&lt;/strong&gt;文件至npm所能访问的持久化目录,npm容器内输入以下命令&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;wget https://github.com/P3TERX/GeoLite.mmdb/raw/download/GeoLite2-City.mmdb -O /data/GeoLite2-City.mmdb
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;获取地区信息&#34;&gt;获取地区信息&lt;/h2&gt;
&lt;p&gt;通过命令从&lt;strong&gt;GeoLite2-City.mmdb&lt;/strong&gt;获取要禁用或者允许访问的地区信息&lt;br&gt;
--ip后的地址就是要记录的可用信息&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;bash-5.1# cd /data
bash-5.1# mmdblookup --file GeoLite2-City.mmdb --ip 47.111.166.161

  {
    &amp;quot;city&amp;quot;: 
      {
        &amp;quot;geoname_id&amp;quot;: 
          1808926 &amp;lt;uint32&amp;gt;
        &amp;quot;names&amp;quot;: 
          {
            &amp;quot;de&amp;quot;: 
              &amp;quot;Hangzhou&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;en&amp;quot;: 
              &amp;quot;Hangzhou&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;es&amp;quot;: 
              &amp;quot;Hangzhou&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;fr&amp;quot;: 
              &amp;quot;Hangzhou&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;ja&amp;quot;: 
              &amp;quot;杭州市&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;pt-BR&amp;quot;: 
              &amp;quot;Hangzhou&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;ru&amp;quot;: 
              &amp;quot;Ханчжоу&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;zh-CN&amp;quot;: 
              &amp;quot;杭州&amp;quot; &amp;lt;utf8_string&amp;gt;
          }
      }
    &amp;quot;continent&amp;quot;: 
      {
        &amp;quot;code&amp;quot;: 
          &amp;quot;AS&amp;quot; &amp;lt;utf8_string&amp;gt;
        &amp;quot;geoname_id&amp;quot;: 
          6255147 &amp;lt;uint32&amp;gt;
        &amp;quot;names&amp;quot;: 
          {
            &amp;quot;de&amp;quot;: 
              &amp;quot;Asien&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;en&amp;quot;: 
              &amp;quot;Asia&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;es&amp;quot;: 
              &amp;quot;Asia&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;fr&amp;quot;: 
              &amp;quot;Asie&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;ja&amp;quot;: 
              &amp;quot;アジア&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;pt-BR&amp;quot;: 
              &amp;quot;Ásia&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;ru&amp;quot;: 
              &amp;quot;Азия&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;zh-CN&amp;quot;: 
              &amp;quot;亚洲&amp;quot; &amp;lt;utf8_string&amp;gt;
          }
      }
    &amp;quot;country&amp;quot;: 
      {
        &amp;quot;geoname_id&amp;quot;: 
          1814991 &amp;lt;uint32&amp;gt;
        &amp;quot;iso_code&amp;quot;: 
          &amp;quot;CN&amp;quot; &amp;lt;utf8_string&amp;gt;
        &amp;quot;names&amp;quot;: 
          {
            &amp;quot;de&amp;quot;: 
              &amp;quot;China&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;en&amp;quot;: 
              &amp;quot;China&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;es&amp;quot;: 
              &amp;quot;China&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;fr&amp;quot;: 
              &amp;quot;Chine&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;ja&amp;quot;: 
              &amp;quot;中国&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;pt-BR&amp;quot;: 
              &amp;quot;China&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;ru&amp;quot;: 
              &amp;quot;Китай&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;zh-CN&amp;quot;: 
              &amp;quot;中国&amp;quot; &amp;lt;utf8_string&amp;gt;
          }
      }
    &amp;quot;location&amp;quot;: 
      {
        &amp;quot;accuracy_radius&amp;quot;: 
          1000 &amp;lt;uint16&amp;gt;
        &amp;quot;latitude&amp;quot;: 
          30.299400 &amp;lt;double&amp;gt;
        &amp;quot;longitude&amp;quot;: 
          120.161200 &amp;lt;double&amp;gt;
        &amp;quot;time_zone&amp;quot;: 
          &amp;quot;Asia/Shanghai&amp;quot; &amp;lt;utf8_string&amp;gt;
      }
    &amp;quot;registered_country&amp;quot;: 
      {
        &amp;quot;geoname_id&amp;quot;: 
          1814991 &amp;lt;uint32&amp;gt;
        &amp;quot;iso_code&amp;quot;: 
          &amp;quot;CN&amp;quot; &amp;lt;utf8_string&amp;gt;
        &amp;quot;names&amp;quot;: 
          {
            &amp;quot;de&amp;quot;: 
              &amp;quot;China&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;en&amp;quot;: 
              &amp;quot;China&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;es&amp;quot;: 
              &amp;quot;China&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;fr&amp;quot;: 
              &amp;quot;Chine&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;ja&amp;quot;: 
              &amp;quot;中国&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;pt-BR&amp;quot;: 
              &amp;quot;China&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;ru&amp;quot;: 
              &amp;quot;Китай&amp;quot; &amp;lt;utf8_string&amp;gt;
            &amp;quot;zh-CN&amp;quot;: 
              &amp;quot;中国&amp;quot; &amp;lt;utf8_string&amp;gt;
          }
      }
    &amp;quot;subdivisions&amp;quot;: 
      [
        {
          &amp;quot;geoname_id&amp;quot;: 
            1784764 &amp;lt;uint32&amp;gt;
          &amp;quot;iso_code&amp;quot;: 
            &amp;quot;ZJ&amp;quot; &amp;lt;utf8_string&amp;gt;
          &amp;quot;names&amp;quot;: 
            {
              &amp;quot;en&amp;quot;: 
                &amp;quot;Zhejiang&amp;quot; &amp;lt;utf8_string&amp;gt;
              &amp;quot;fr&amp;quot;: 
                &amp;quot;Province de Zhejiang&amp;quot; &amp;lt;utf8_string&amp;gt;
              &amp;quot;zh-CN&amp;quot;: 
                &amp;quot;浙江省&amp;quot; &amp;lt;utf8_string&amp;gt;
            }
        }
      ]
  }

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;内容很详细,都以en标签来举例:&lt;br&gt;
要市就记&lt;strong&gt;Hangzhou&lt;/strong&gt;要省就记&lt;strong&gt;zh-CN&lt;/strong&gt;要州就记&lt;strong&gt;Asia&lt;/strong&gt;要国家就记&lt;strong&gt;China&lt;/strong&gt;&lt;br&gt;
图方便,直接用来中文表达&lt;/p&gt;
&lt;h2 id=&#34;添加判断规则&#34;&gt;添加判断规则&lt;/h2&gt;
&lt;p&gt;在npm的&lt;strong&gt;ngxin配置目录中&lt;/strong&gt;新建&lt;strong&gt;custom&lt;/strong&gt;目录&lt;br&gt;
&lt;strong&gt;jlesage版config目录就是data目录&lt;/strong&gt;&lt;br&gt;
此文件夹为自定义nginx配置,&lt;strong&gt;默认全局加载&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/data/nginx/custom/root.conf: 包含在 nginx.conf 的最后
/data/nginx/custom/http_top.conf: 包含在主 http 块的顶部
/data/nginx/custom/http.conf: 包含在主 http 块的末尾
/data/nginx/custom/stream.conf: 包含在主流块的末尾
/data/nginx/custom/server_proxy.conf: 包含在每个代理服务器块的末尾
/data/nginx/custom/server_redirect.conf: 包含在每个重定向服务器块的末尾
/data/nginx/custom/server_stream.conf: 包含在每个流服务器块的末尾
/data/nginx/custom/server_stream_tcp.conf: 包含在每个 TCP 流服务器块的末尾
/data/nginx/custom/server_stream_udp.conf: 包含在每个 UDP 流服务器块的末尾
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;我们只需要在此文件夹新建&lt;strong&gt;http_top.conf&lt;/strong&gt;文件,粘贴以下内容保存&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# 这使用zh-CN就可以在下方黑名单中直接填写中文地区信息,如果写en到时候就填拼音,以此类推
    geoip2 /data/GeoLite2-City.mmdb {
        $geoip2_data_country_code country iso_code;
        $geoip2_data_country_name country names zh-CN;
        $geoip2_data_city_name city names zh-CN;
        $geoip2_data_province_name subdivisions 0 names zh-CN;
        $geoip2_data_province_isocode subdivisions 0 iso_code;
        $geoip2_continent_code continent code;
    }

# 添加放行白名单文件
include /data/nginx/custom/whitelist.conf;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;继续此文件夹新建&lt;strong&gt;whitelist.conf&lt;/strong&gt;添加要放行的地址&lt;br&gt;
我默认放行我的&lt;strong&gt;局域网&lt;/strong&gt;IP&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;geo $allow_ip {
    default 0;
    192.168.1.0/24 1;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;继续此文件夹新建&lt;strong&gt;server_proxy.conf&lt;/strong&gt;添加要禁止的地址&lt;br&gt;
我默认放行&lt;strong&gt;杭州&lt;/strong&gt;地区的IP&lt;br&gt;
&lt;strong&gt;根据第2步获取的信息按需选择填入要禁止市还是地区的访问&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;如4G 5G的IP不稳定跨市,就用mmdblookup查下IP填入解除限制&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;对于4G 5G的IP不要填ip138之类查询到的地址,以mmdblookup查询地址为准&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# 关于$geoip2_xxx的定义参考http_top.conf中来写
# 阻止除IP归属地为中国、澳门、香港的IP
# if ($geoip2_country_code !~ (CN|MO|HK)) { set $geoblock 1; }

# 阻止除IP归属地为杭州跟宁波的IP
if ($geoip2_data_city_name !~ (杭州|宁波)) { set $geoblock 1; }

# 对白名单内的ip放行
if ($allow_ip = 1){ set $geoblock 0; }
# 限制动作并返回错误代码
if ($geoblock = 1){ return 770; }
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;重启下nginx&#34;&gt;重启下nginx&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;nginx -t &amp;amp;&amp;amp; nginx -s reload
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;打完收工&lt;/p&gt;
&lt;h1 id=&#34;ps&#34;&gt;PS&lt;/h1&gt;
&lt;p&gt;如果不想全局限制访问 就不要在&lt;strong&gt;custom&lt;/strong&gt;文件夹新建&lt;strong&gt;server_proxy.conf&lt;/strong&gt;文件&lt;br&gt;
在指定代理主机的&lt;strong&gt;advanced&lt;/strong&gt;的&lt;strong&gt;Custom Nginx Configuration&lt;/strong&gt;内容框中贴入以下内容&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;include /data/nginx/blocker.conf;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;为指定禁用访问的主机添加黑名单&lt;br&gt;
黑名单内容与&lt;strong&gt;server_proxy.conf&lt;/strong&gt;文件相同&lt;br&gt;
include能访问到的地址就成&lt;br&gt;
不过一般还是直接全局禁止访问,一ban全ban&lt;/p&gt;
">NginxProxyManager禁止或允许某地区访问</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/unraid-shi-yong-nginxproxymanager-yu-dao-de-xiao-wen-ti/"" data-c="
          &lt;p&gt;给unraid设置反代后使用发现以下问题&lt;/p&gt;
&lt;h3 id=&#34;1下载中断&#34;&gt;1.下载中断&lt;/h3&gt;
&lt;p&gt;直接从unraid的文件管理器下载大文件&lt;strong&gt;每超过1G大小会被中断&lt;/strong&gt;,需要再次点击继续&lt;br&gt;
可以直接在对应的unraid反代选项advanced页面中添加以下内容解除限制&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;client_max_body_size 0;
proxy_max_temp_file_size 0;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;2vnc无法访问&#34;&gt;2.vnc无法访问&lt;/h3&gt;
&lt;p&gt;点击虚拟机的&lt;strong&gt;vnc远程&lt;/strong&gt;窗口无法正常显示&lt;br&gt;
可以直接在对应的unraid反代选项advanced页面中添加以下内容修正&lt;br&gt;
192.168.1.10:80是我unraid主机IP跟访问端口,照葫芦画瓢自己修改&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;location / {
    proxy_pass http://192.168.1.10:80;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection &amp;quot;upgrade&amp;quot;;
    proxy_set_header Host $http_host;
}

&lt;/code&gt;&lt;/pre&gt;
">UNRAID使用NginxProxyManager外网访问遇到的小问题</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/gei-unraid-tian-jia-deng-lu-tong-zhi/"" data-c="
          &lt;p&gt;反正端口都没咋开,想着不怕一万就怕万一&lt;br&gt;
如果被偷偷登录了咋办呢,没办法及时知道呀&lt;br&gt;
群晖有登录提醒,那小天使unraid怎么能没有呢😗&lt;/p&gt;
&lt;p&gt;所以呀,就靠群晖来实现吧&lt;/p&gt;
&lt;h3 id=&#34;群晖设置好通知&#34;&gt;群晖设置好通知&lt;/h3&gt;
&lt;p&gt;邮件通知 微信通知 自建gotify通知啥的都成 只能正常推送就成&lt;/p&gt;
&lt;h3 id=&#34;获取unraid登录信息&#34;&gt;获取unraid登录信息&lt;/h3&gt;
&lt;p&gt;在unriad的设置-&lt;strong&gt;系统日志服务器中设置&lt;/strong&gt;以下内容&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;远程系统日志服务器: 添加群晖IP udp 514
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;群晖安装&lt;strong&gt;日志中心套件&lt;/strong&gt;&lt;br&gt;
在套件中设置以下内容&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;通知-通知规则:              #按需勾选
                        严重性为:         重要.警报.紧急  
                        关建字包括:      login #unriad登录的时候会发送通知   

归档设置-归档格式:           #按需勾选
                        根据设备分开归档日志  #日志中心按需显示更清爽

接受日志-新增:  
                        名称:unraid #其他默认
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这样设置完毕unraid如果有啥报错跟登录,群晖就都会给你发通知了🤗&lt;/p&gt;
">给UNRAID添加登录通知</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/ups-bao-cuo-err-access-denied/"" data-c="
          &lt;p&gt;原来BK650M2-CH是直接插unraid上&lt;br&gt;
用自带的&lt;strong&gt;UPS 设置&lt;/strong&gt;无法正常识别这款,&lt;strong&gt;一直显示工作在电池上&lt;/strong&gt;&lt;br&gt;
行吧,太个例了,同款ups有的正常,有的不正常&lt;br&gt;
转投&lt;strong&gt;NUT Settings插件&lt;/strong&gt;&lt;br&gt;
但是...会&lt;strong&gt;间歇性丢失ups&lt;/strong&gt;,需要重启才能用&lt;br&gt;
今天发现论坛上也有老哥发现此问题,也给了脚本来定时判断并重置来解决这个奇奇怪怪的bug&lt;br&gt;
有兴趣的自己看这里&lt;br&gt;
&lt;strong&gt;https://forums.unraid.net/topic/60217-plugin-nut-v2-network-ups-tools/page/21/&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;后来把UPS直接插到群晖上&lt;br&gt;
通过unraid&lt;strong&gt;NUT Settings插件&lt;/strong&gt;设置slave模式来连接&lt;br&gt;
但是发现日志中提示&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;upsmon[10936]: Login on UPS [ups@192.168.1.19] failed - got [ERR ACCESS-DENIED]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;搜了下可能是默认密码错了&lt;br&gt;
重新在nut插件中输入密码即可&lt;br&gt;
关键参数就是这些&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;UPS Mode:   slave
UPS IP Addresss:  填群晖IP
UPS Name:   ups
UPS Monitor Username:   monuser
UPS Monitor Password:   secret
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;其他的就按自己需求填即可&lt;br&gt;
APPLY后,看日志也正常不报错了&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;upsmon[14735]: Startup successful
&lt;/code&gt;&lt;/pre&gt;
">UPS报错ERR ACCESS-DENIED</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/guan-yu-unraid-611ban-ben-nerdpack-devpack-cha-jian-wu-fa-shi-yong/"" data-c="
          &lt;p&gt;今天无聊升级了下6.11.0rc3🤡&lt;br&gt;
发现NerdPack / DevPack 无法打开正常刷新了,日志中也有报错🤣&lt;br&gt;
&lt;s&gt;去翻了下论坛,原来是它不再与 6.11 兼容,并且其中的许多软件包不再兼容或更新&lt;/s&gt;&lt;/p&gt;
&lt;h2 id=&#34;插播一条&#34;&gt;插播一条&lt;/h2&gt;
&lt;p&gt;现已有新插件&lt;a href=&#34;https://raw.githubusercontent.com/UnRAIDES/unRAID-NerdTools/main/plugin/NerdTools.plg&#34;&gt;NERDTOOLS&lt;/a&gt;替代 支持6.11版本起&lt;br&gt;
还是将软件包安装在路径/boot/extra中.有些不在插件中显示的,可以在&lt;a href=&#34;https://github.com/ich777/slackware/tree/master/slackware64-15.0/slackware64&#34;&gt;这手动下载&lt;/a&gt;&lt;br&gt;
&lt;strong&gt;需要注意的是&lt;/strong&gt;:如果手动下载指定版本安装包放置于/boot/extra文件夹中&lt;br&gt;
安装优先级为 插件勾选最新的安装包&amp;gt;extra文件夹低版本安装包&lt;br&gt;
&lt;strong&gt;所以如果本地包新,就不要重复在插件里勾选&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;除此还可以了解下&lt;a href=&#34;https://github.com/ich777/un-get&#34;&gt;un-get&lt;/a&gt; 睾丸可试&lt;/p&gt;
&lt;h2 id=&#34;强行使用方法如下&#34;&gt;强行使用方法如下&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;cat /etc/slackware-version
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;可通过此命令查询unraid的slackware版本来添加软件包&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;https://slackware.pkgs.org/15.0/slackware-x86_64/ 
https://slackonly.com/pub/packages/15.0-x86_64/
任选其一
https://github.com/dmacias72/unRAID-NerdPack/tree/master/packages/6.10
https://github.com/dmacias72/unRAID-DevPack/tree/master/packages/6.10
如果报错,就用原来插件里的包
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;以上网址列出了Unraid可能可用的软件包,反正&lt;strong&gt;报错缺啥补啥&lt;/strong&gt;&lt;br&gt;
搜索下载需要的&lt;strong&gt;txz文件&lt;/strong&gt;&lt;br&gt;
放入u盘&lt;strong&gt;extra文件夹(如没有就手动建立)&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;等同系统中boot/extra目录&lt;/strong&gt;&lt;br&gt;
系统将会在启动时安装此文件夹中的软件包&lt;/p&gt;
&lt;h2 id=&#34;举个栗子&#34;&gt;举个栗子&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;root@Tower:~# wget -P /boot/extra/ https://slackware.uk/slackware/slackware64-15.0/slackware64/ap/vim-8.2.4256-x86_64-1.txz
--2022-08-20 15:37:20--  https://slackware.uk/slackware/slackware64-15.0/slackware64/ap/vim-8.2.4256-x86_64-1.txz
Resolving slackware.uk (slackware.uk)... 216.119.155.61
Connecting to slackware.uk (slackware.uk)|216.119.155.61|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 7981808 (7.6M) [application/octet-stream]
Saving to: ‘vim-8.2.4256-x86_64-1.txz’

vim-8.2.4256-x86_64-1.txz          100%[====================================================================&amp;gt;]   7.61M  4.13MB/s    in 1.8s    

2022-08-20 15:37:23 (4.13 MB/s) - ‘vim-8.2.4256-x86_64-1.txz’ saved [7981808/7981808]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这样重启后会就自动安装vim&lt;br&gt;
不重启的话可以使用以下命令验证是否能正常安装运行&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;installpkg vim-8.2.4256-x86_64-1.txz
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;🤣&lt;strong&gt;哟呵 失败了 报错 可能是软件包可能缺依赖 有墙裂需求的就自己想办法找兼容的补吧&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;等下一次折腾&lt;/p&gt;
&lt;p&gt;大部分人安装NerdPack是需要perl来查看温度&lt;br&gt;
然而只需要第1次检测后保存即可保证以后工作&lt;br&gt;
所以升级后装不装无所谓了&lt;br&gt;
并且社区开发者表示 &lt;strong&gt;Perl 将包含在 RC 系列的下一个版本中&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;6.11.0稳定版已正式包含Perl&lt;/strong&gt;&lt;br&gt;
感觉开发者只希望让用户把unraid当nas系统用,不要手欠在宿主机上自己安装啥😁&lt;/p&gt;
">关于Unraid 6.11.+版本 NerdPack / DevPack 插件无法使用</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/qbittorrent-zi-dai-rss-ding-yue-gui-ze/"" data-c="
          &lt;p&gt;填个小坑,国产剧集追更&lt;br&gt;
可以单独创建准确剧名的rss链接添加至qb的rss订阅&lt;/p&gt;
&lt;h2 id=&#34;追更缺少s01命名的国产剧集&#34;&gt;追更缺少S01命名的国产剧集&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Feng Qi Luo Yang 2021 E25-E26 2160p WEB-DL AAC H264-OurTV&lt;/code&gt;&lt;br&gt;
有多集区间的种子 如E25-E26,则添加以下规则&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;2021.+E(2[5-9]|[3-9]\d)-?.2160[Pp]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;效果为追更2021年产的25集-99集的4k分辨率的剧集&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;2021&lt;/code&gt;匹配年份 (2021|2022)为2021或2022年份&lt;br&gt;
&lt;code&gt;.+&lt;/code&gt;匹配任意字符1次或多次&lt;br&gt;
&lt;code&gt;.*&lt;/code&gt;匹配任意字符0次或多次&lt;br&gt;
&lt;code&gt;.?&lt;/code&gt;匹配任意字符0次或1次&lt;br&gt;
&lt;code&gt;E(2[5-9]|[3-9]\d)&lt;/code&gt; 从25下载到99集&lt;br&gt;
&lt;code&gt;E(2[5-9]|[3-9]\d|[1-9]\d{2})&lt;/code&gt;或&lt;code&gt;E(2[5-9]|[3-9]\d|1\d\d)&lt;/code&gt;可订阅剧集过百&lt;code&gt;1\d\d&lt;/code&gt; 匹配100 - 199, &lt;code&gt;[1-9]\d\d&lt;/code&gt;或者&lt;code&gt;[1-9]\d{2})&lt;/code&gt; 匹配 100 - 999&lt;br&gt;
&lt;code&gt;-?&lt;/code&gt;忽略匹配&lt;code&gt;-&lt;/code&gt;后面的字符&lt;br&gt;
&lt;code&gt;2160[Pp]&lt;/code&gt;匹配分辫率 如4[Kk]|2160[Pp]|1080[Pp]&lt;br&gt;
&lt;code&gt;\D&lt;/code&gt;匹配任意非数字字符1次&lt;br&gt;
&lt;code&gt;\d&lt;/code&gt;匹配任意数字字符1次&lt;br&gt;
&lt;code&gt;\.&lt;/code&gt;匹配小数点&lt;br&gt;
&lt;code&gt;\s&lt;/code&gt;匹配空字符，所有RSS资源在表示体积的GB前都有一个空格&lt;br&gt;
&lt;code&gt;GB&lt;/code&gt;匹配GB&lt;br&gt;
&lt;code&gt;[12]?&lt;/code&gt;匹配字符“1”或“2”，匹配次数为0次或1次&lt;/p&gt;
&lt;h2 id=&#34;追更带s01命名剧集&#34;&gt;追更带S01命名剧集&lt;/h2&gt;
&lt;p&gt;按需求添加 2160p 1080p 720p分辨率之类,我需要下载2016p 就在qb中如下设置&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;√使用正则表达式
必须包含：  2160
不可包含：  
剧集过滤器：    #不填写默认全部下载,如要从4集开始下载 可以填写1x4-; 4-;之类
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果追更完毕,建议删除RSS订阅链接&lt;br&gt;
感谢&lt;a href=&#34;https://www.jianshu.com/p/54e6137ea4e3&#34;&gt;EvineDeng,更多内容可以看rss指南&lt;/a&gt;&lt;/p&gt;
">qBittorrent自带RSS订阅规则</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/clash-tian-jia-doh-jie-xi/"" data-c="
          &lt;h2 id=&#34;举个例子&#34;&gt;举个例子&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;矿池被屏蔽,默认dns解析都是错误的ip地址,所以需要配置doh来搞事情&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;矿池公告
請注意，挖掘連接可能會更改。 如果您想永久避免所有限制，請通過HTTPS（DoH）配寘DNS並使用eth-hke.flexpool.io
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;默认223.5.5.5无法正常解析连接&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;C:\Users\robot&amp;gt;nslookup eth-hke.flexpool.io
服务器:  public1.alidns.com
Address:  223.5.5.5

非权威应答:
名称:    eth-hke.flexpool.io
Addresses:  2001::6ca0:a71e
          4.78.139.50


C:\Users\robot&amp;gt;ping eth-hke.flexpool.io

正在 Ping eth-hke.flexpool.io [4.78.139.50] 具有 32 字节的数据:
请求超时。
请求超时。
请求超时。
请求超时。

4.78.139.50 的 Ping 统计信息:
    数据包: 已发送 = 4，已接收 = 0，丢失 = 4 (100% 丢失)，
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;更换为doh地址解析&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;C:\Users\robot&amp;gt;nslookup eth-hke.flexpool.io
服务器:  UnKnown
Address:  10.0.0.1

名称:    hke.fpmirror.com
Address:  47.242.122.177
Aliases:  eth-hke.flexpool.io


C:\Users\robot&amp;gt;ping eth-hke.flexpool.io

正在 Ping hke.fpmirror.com [47.242.122.177] 具有 32 字节的数据:
来自 47.242.122.177 的回复: 字节=32 时间&amp;lt;1ms TTL=64
来自 47.242.122.177 的回复: 字节=32 时间&amp;lt;1ms TTL=64
来自 47.242.122.177 的回复: 字节=32 时间&amp;lt;1ms TTL=64
来自 47.242.122.177 的回复: 字节=32 时间&amp;lt;1ms TTL=64

47.242.122.177 的 Ping 统计信息:
    数据包: 已发送 = 4，已接收 = 4，丢失 = 0 (0% 丢失)，
往返行程的估计时间(以毫秒为单位):
    最短 = 0ms，最长 = 0ms，平均 = 0ms
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;为clash添加doh地址&#34;&gt;为clash添加doh地址&lt;/h2&gt;
&lt;p&gt;在没有其他路由可以操作的情况下,只能从自己电脑下手了,先安装个&lt;a href=&#34;https://github.com/Fndroid/clash_for_windows_pkg/releases&#34;&gt;clash&lt;/a&gt;&lt;br&gt;
安装完成后该导入节点的导入&lt;br&gt;
添加doh的过程很简单&lt;br&gt;
在&lt;strong&gt;General&lt;/strong&gt;中有&lt;strong&gt;Mixin&lt;/strong&gt;的选项,点击&lt;strong&gt;齿轮&lt;/strong&gt;,粘贴以下内容&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mixin: # object
  dns:
    enable: true    
    enhanced-mode: redir-host
    listen: :53
    nameserver:
      - https://223.5.5.5/dns-query
      - https://doh.pub/dns-query
      - tls://dns.rubyfish.cn:853
    fallback:
      - tls://1.0.0.1:853
      - tls://8.8.4.4:853
      - https://doh.opendns.com/dns-query
    fallback-filter:
      geoip: true
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;保存-开启&lt;/strong&gt; 恭喜成功使用了doh&lt;/p&gt;
">clash添加doh解析</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/zi-jian-clash-ding-yue-zhuan-huan-hou-duan-bing-pei-zhi-gui-ze/"" data-c="
          &lt;h2 id=&#34;起因&#34;&gt;起因&lt;/h2&gt;
&lt;p&gt;一开始shellclash用的好好的&lt;br&gt;
但是，&lt;s&gt;折腾&lt;/s&gt;研究惯了，shellclash中试了一遍没找到适合自己的规则&lt;br&gt;
所以就想着自己摸索下，所以才有了这个备忘录&lt;/p&gt;
&lt;h2 id=&#34;搭建后端&#34;&gt;搭建后端&lt;/h2&gt;
&lt;p&gt;因为不想用公共的服务器从而暴露自己的订阅链接所以自建&lt;br&gt;
反正自用，所以不需要花里胡哨的前端，只要搭建后端就可以满足需求&lt;br&gt;
作者已经有现成的容器  &lt;strong&gt;tindy2013/subconverter&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker run -d --restart=always -p 25500:25500 tindy2013/subconverter:latest
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;可以直接运行，unraid小天使已经有模板，选择运行即可&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;curl http://localhost:25500/version
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;此命令可以测试后端是否正常运行，输入后如看见 &lt;strong&gt;subconverter vx.x.x backend&lt;/strong&gt; 即正常运行&lt;/p&gt;
&lt;h2 id=&#34;分流规则&#34;&gt;分流规则&lt;/h2&gt;
&lt;p&gt;先感谢下&lt;a href=&#34;https://github.com/ACL4SSR/ACL4SSR/tree/master&#34;&gt;ACL4SSR&lt;/a&gt; &lt;a href=&#34;https://git.jasuit.com/jh163888/ios_rule_script&#34;&gt; jh163888&lt;/a&gt; &lt;a href=&#34;https://github.com/DivineEngine/Profiles&#34;&gt; DivineEngine&lt;/a&gt; &lt;a href=&#34;https://github.com/LM-Firefly/Rules&#34;&gt; LM-Firefly&lt;/a&gt; &lt;a href=&#34;https://github.com/dler-io/Rules/&#34;&gt; lhie1&lt;/a&gt;&lt;a href=&#34;https://github.com/blackmatrix7/ios_rule_script&#34;&gt; blackmatrix7&lt;/a&gt;&lt;br&gt;
规则都来自这些无私奉献的大佬&lt;br&gt;
可以在大佬们项目中添加对应的list规则，生成一个自己专属的ini配置文件&lt;br&gt;
需要注意的是&lt;strong&gt;规则标志位处&lt;/strong&gt;优先级是&lt;strong&gt;从上至下&lt;/strong&gt;&lt;br&gt;
举个栗子,假设&lt;code&gt;s1oz.github.io&lt;/code&gt;此域名存在于&lt;strong&gt;全球直连&lt;/strong&gt;跟&lt;strong&gt;节点选择&lt;/strong&gt;两个规则中&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;;设置规则标志位
ruleset=🎯 全球直连,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/LocalAreaNetwork.list
ruleset=🚀 节点选择,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyGFWlist.list
;设置规则标志位
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这样默认是&lt;strong&gt;全球直连&lt;/strong&gt;规则优先,所以&lt;code&gt;s1oz.github.io&lt;/code&gt;走的直连&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;;设置规则标志位
ruleset=🚀 节点选择,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyGFWlist.list
ruleset=🎯 全球直连,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/LocalAreaNetwork.list
;设置规则标志位
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这样默认是&lt;strong&gt;节点选择&lt;/strong&gt;规则优先,所以&lt;code&gt;s1oz.github.io&lt;/code&gt;走的代理&lt;/p&gt;
&lt;h2 id=&#34;使用自定义ini转换规则&#34;&gt;使用自定义ini转换规则&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;https://raw.githubusercontent.com/s1oz/unraid/master/s1oz.ini
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如我的规则  ↑  就加了很多去广告跟分流，应该大致可能可以替代&lt;strong&gt;adguard home&lt;/strong&gt;的去广告了&lt;/p&gt;
&lt;h2 id=&#34;推荐直接使用providers无需后端转换&#34;&gt;推荐直接使用providers(无需后端转换)&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;无需后端转换&lt;/strong&gt;,默认使用meta内核,&lt;strong&gt;只需补齐yaml文件中的订阅地址导入即可&lt;/strong&gt;&lt;br&gt;
其他软件要使用此yaml报错请参照文件内备注&lt;strong&gt;自行删减&lt;/strong&gt;&lt;br&gt;
shellclash可用6-2订阅即可实现快速定时更新规则跟订阅,可以本地加黑白名单666&lt;br&gt;
ps:可以丢本地的web服务器或直接丢yacd目录,然后订阅此地址&lt;br&gt;
如 http://192.168.1.1:9000/ui/s1oz.yaml&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;https://raw.githubusercontent.com/s1oz/unraid/master/s1oz.yaml
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;转换规则&#34;&gt;转换规则&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;http://后端地址:25500/sub?target=clash&amp;amp;insert=true&amp;amp;new_name=true&amp;amp;scv=true&amp;amp;url=机场订阅地址&amp;amp;config=自己专属的ini配置文件
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;此为模板，按自己条件套用，浏览器访问可直接查看，shellclash可用6-2直接订阅此链接&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;http://后端地址:25500/sub?target=clash&amp;amp;insert=true&amp;amp;new_name=true&amp;amp;scv=true&amp;amp;url=机场订阅地址A|机场订阅地址B&amp;amp;config=自己专属的ini配置文件
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如有多个订阅地址,可以合并并转换成一个,如普通视频节点订阅+游戏节点订阅&lt;br&gt;
SS订阅链接或者SSR订阅链接都可以,只需要再多个链接中加 |&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;已停止支持chacha20加密，请更换更安全的节点加密协议！
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;需要注意的是如不支持协议,需&lt;strong&gt;自行替换第三方魔改内核&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;target=clash 指想要生成的配置类型，此为转换为clash的参数
insert=true 用于设置是否将配置文件中的 insert_url 插入，默认为 true
new_name=true 如果设置为 true，则将启用 Clash 的新组名称 (proxies, proxy-groups, rules)
scv=true 用于关闭 TLS 节点的证书检查，默认为 false
config=自己专属的ini配置文件 指 外部配置 的地址 (包含分组和规则部分)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;更多参数调用参阅&lt;a href=&#34;https://github.com/tindy2013/subconverter/blob/master/README-cn.md&#34;&gt;调用说明 (进阶)&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;踩坑&#34;&gt;踩坑&lt;/h2&gt;
&lt;p&gt;机场订阅，差点被搞死了&lt;br&gt;
默认订阅链接是&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;https://xxxx.com/link/3E1234123wd7?clash=1&amp;amp;version=2
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;上方的&amp;amp;version=2属于新版配置在shellclash导入订阅时提示&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;配置文件获取失败！
请尝试使用【在线生成配置文件】功能！
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;一直没注意，后来&lt;s&gt;删除&amp;amp;version=2后代表适配旧版配置&lt;/s&gt;也不是绝对,可能重新再次运行下就好了，然后再进行转换就正常订阅了。&lt;/p&gt;
">自建clash订阅转换subconverter后端并配置规则</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/tian-jia-mi-ma-fang-wen-yan-zheng/"" data-c="
          &lt;script language = JavaScript&gt; function password() {

    var testV = 1;

    var pass1 = prompt(&#39;验证口令&#39;,&#39;&#39;);

    var passwordforthisarticle = &#34;passwd123&#34;;

    var inputtimemax = 19960319;

    while (testV &lt; inputtimemax) {

    if (!pass1)

    history.go(-1);

    if (pass1 == passwordforthisarticle) {

    break;

    }

    testV+=1;

    var pass1 =

    prompt(&#39;Password error!&#39;);

    }

    if (pass1!= passwordforthisarticle &amp; testV == inputtimemax)  

    history.go(-1);

    return &#34; &#34;;

    }

    document.write(password());

&lt;/script&gt;
&lt;p&gt;在正文头部添加以下代码&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;script language = JavaScript&amp;gt; function password() {

    var testV = 1;

    var pass1 = prompt(&#39;提示文本&#39;,&#39;&#39;);

    var passwordforthisarticle = &amp;quot;密码&amp;quot;;

    var inputtimemax = 19960319;

    while (testV &amp;lt; inputtimemax) {

    if (!pass1)

    history.go(-1);

    if (pass1 == passwordforthisarticle) {

    break;

    }

    testV+=1;

    var pass1 =

    prompt(&#39;Password error!&#39;);

    }

    if (pass1!= passwordforthisarticle &amp;amp; testV == inputtimemax)  

    history.go(-1);

    return &amp;quot; &amp;quot;;

    }

    document.write(password());

&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
">添加密码访问验证</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/qbittorrent-can-shu-she-zhi/"" data-c="
          &lt;p&gt;&lt;a href=&#34;https://github.com/CzBiX/qb-web/releases/latest&#34;&gt;第三方ui下载地址&lt;/a&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1620806927997.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1620806932378.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1620806936438.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1620806939375.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1620806945860.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1620806952011.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
">qBittorrent参数设置</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/jie-suo-n-qia-zai-unraid-shang-de-zhuan-ma-xian-zhi/"" data-c="
          &lt;h3 id=&#34;举个栗子&#34;&gt;举个栗子&lt;/h3&gt;
&lt;p&gt;如EMBY调用N卡来进行转码播放,有效终端为3个&lt;br&gt;
也就是说,假设你有4个人远程转码播放,只有3个人能用显卡转码&lt;br&gt;
还有一个可怜的人就只能软件转码了&lt;br&gt;
这样会造成cpu资源极度的浪费...&lt;br&gt;
但是...一般哪里来那么多客户端转码播放🤣&lt;br&gt;
但是,有备无患嘛对吧&lt;/p&gt;
&lt;h3 id=&#34;如何解锁&#34;&gt;如何解锁&lt;/h3&gt;
&lt;p&gt;此处已经有因为国外的大佬制作好了&lt;a href=&#34;https://github.com/SpaceinvaderOne/unlocknvidia_unraid&#34;&gt;解锁补丁&lt;/a&gt;&lt;br&gt;
我们只需要用起来即可&lt;br&gt;
&lt;strong&gt;通过&lt;code&gt;User Scripts&lt;/code&gt;新建脚本&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616658378917.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;粘贴如下代码&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616658386051.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash
wget https://raw.githubusercontent.com/keylase/nvidia-patch/master/patch.sh
chmod +x ./patch.sh
./patch.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;保存&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616658396344.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;然后设置启动方式&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;手动运行下脚本&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;测试下效果&#34;&gt;测试下效果&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://s1oz.github.io/post-images/1616658697024.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616658704315.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616717032520.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616658713806.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616658717794.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
恭喜你,现在已经全是矿卡转码了.已经成功解锁😜&lt;/p&gt;
">解锁N卡在Unraid上的转码限制</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/unraid-yi-qia-duo-yong-wa-kuang-zhuan-ma/"" data-c="
          &lt;h3 id=&#34;一卡多用&#34;&gt;一卡多用&lt;/h3&gt;
&lt;p&gt;原来是靠&lt;a href=&#34;https://s1oz.github.io/post/49-nian-ru-guo-jun-chang-shi-bai-piao-eth/&#34;&gt;新建虚拟机直通显卡挖矿&lt;/a&gt;&lt;br&gt;
但是这样显卡只能挖矿 ,实在可惜呀😒&lt;br&gt;
然而无意间发现有&lt;strong&gt;docker版本挖矿容器&lt;/strong&gt;&lt;br&gt;
因这个方法挖矿,只要显存够用的话,其他容器都能调用这张N卡,如给&lt;code&gt;emby&lt;/code&gt;直接解码转码&lt;br&gt;
所以,核显终于可以多出来做其他用处了&lt;br&gt;
要不直通核显安装个黑苹果?&lt;br&gt;
要不直通核显安装个挂机游戏用的游戏机?&lt;br&gt;
玩法多多,想怎样就怎样了😍&lt;/p&gt;
&lt;h3 id=&#34;如何使用&#34;&gt;如何使用&lt;/h3&gt;
&lt;h4 id=&#34;确保没有被vfio绑定&#34;&gt;确保没有被VFIO绑定&lt;/h4&gt;
&lt;p&gt;在&lt;code&gt;工具&lt;/code&gt;-&lt;code&gt;系统设备&lt;/code&gt;中不要勾选N卡,如有勾选,取消勾选后保存重启&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616641788222.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;安装相关应用&#34;&gt;安装相关应用&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;插播新闻&lt;/strong&gt;应用市场中&lt;code&gt;NsfminerOC&lt;/code&gt;容器支持挖矿与超频,不需要额外安装&lt;code&gt;NVIDIA X Server Settings&lt;/code&gt;来控制&lt;br&gt;
应用中搜索&lt;code&gt;nvidia&lt;/code&gt;安装框中的&lt;code&gt;3&lt;/code&gt;个应用&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616641796088.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
安装好后做如下设置&lt;br&gt;
&lt;strong&gt;Nvidia Driver&lt;/strong&gt;中确认显卡识别正常并成功驱动&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616641801740.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;第一次安装,需要在&lt;code&gt;设置&lt;/code&gt;-&lt;code&gt;Docker&lt;/code&gt;中点击关闭,然后再次开启&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;GPU Statistics&lt;/strong&gt;中修改&lt;code&gt;Vendor:&lt;/code&gt;为我们需要挖矿的N卡&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616641809203.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;trex-miner&lt;/strong&gt;框中依次填入&lt;code&gt;钱包地址 矿池地址 主机名&lt;/code&gt;保存启动&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616641814790.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;确认并优化矿机&#34;&gt;确认并优化矿机&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;http://[IP]:4067&lt;/code&gt;此为矿机管理页面,界面如下&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616641842444.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
此时已显示算力,代表正常运行&lt;br&gt;
我们需要限制下&lt;strong&gt;显卡功耗&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;nvidia-smi –pl 70
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;此命令为限制功耗为&lt;code&gt;70&lt;/code&gt;,具体数值按自己显卡设置&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;nvidia-smi –ac 2000,1500
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;此命令为设置显卡频率,有些显卡支持,反正我的不支持&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;nvidia-smi -pm 1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;此命令为开启持续模式,频率和功耗的设置不会因容器重启而丢失上方设置,&lt;code&gt;1&lt;/code&gt;为开启&lt;code&gt;0&lt;/code&gt;为关闭&lt;br&gt;
到此就可以安心挖矿了&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;nvidia-smi -rac
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;此命令为重置时钟回到基准状态&lt;/p&gt;
&lt;h3 id=&#34;关于超频&#34;&gt;关于超频&lt;/h3&gt;
&lt;h4 id=&#34;trxe挖矿软件超频&#34;&gt;trxe挖矿软件超频&lt;/h4&gt;
&lt;p&gt;设置mt参数超频.但是&lt;strong&gt;只支持&lt;/strong&gt;&lt;code&gt;GDDR5 GDDR5X的10xx系&lt;/code&gt;&lt;br&gt;
反正我没用过,具体的自己扒官方代码去&lt;/p&gt;
&lt;h4 id=&#34;n卡官方工具降频超频&#34;&gt;N卡官方工具降频/超频&lt;/h4&gt;
&lt;p&gt;牛逼还是老黄牛逼呢,啧啧啧~~&lt;br&gt;
&lt;code&gt;nvidia-smi –ac &lt;/code&gt;前面说到这个命令不支持了&lt;br&gt;
&lt;code&gt;nvidia-settings&lt;/code&gt;吧,也不支持,少了点支持&lt;br&gt;
所以.我们来&lt;strong&gt;歪门邪道&lt;/strong&gt;吧&lt;br&gt;
应用中搜索&lt;code&gt;debian&lt;/code&gt;&lt;br&gt;
安装此版本&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616739959914.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
并填对这&lt;code&gt;三个&lt;/code&gt;信息&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616740006868.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
启动,并打开&lt;code&gt;debian&lt;/code&gt;界面&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616740052769.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
先在终端中&lt;code&gt;su&lt;/code&gt;提权,输入刚刚设置的密码&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616740167730.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
因&lt;code&gt;nvidia-xconfig&lt;/code&gt;默认没有&lt;strong&gt;超频&lt;/strong&gt;跟&lt;strong&gt;调节风扇&lt;/strong&gt;选项&lt;br&gt;
所以需要在&lt;code&gt;xorg.conf&lt;/code&gt;文件中添加以下代码来开启隐藏功能&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    Option  &amp;quot;Coolbits&amp;quot; &amp;quot;24&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;关于&lt;code&gt;&amp;quot;24&amp;quot;&lt;/code&gt;的含义&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;- 1 (bit0) 允许老的（Fermi核心）之前的显卡超频
- 2 (bit1) 当使用不同显存的GPU需要设置成SLI时，可以设置这一位
- 4 (bit2) 允许手动设置显卡风扇的转速
- 8 (bit3) 允许超频，驱动版本要比337.12新，架构要比Fermi新
- 16 (bit4) 允许超电压，驱动版本要比346.16新，架构要比Fermi新
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://s1oz.github.io/post-images/1616740225913.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
修改好后&lt;code&gt;:wq&lt;/code&gt;保存,并重启&lt;code&gt;debian&lt;/code&gt;容器并设置自动启动&lt;br&gt;
重启后,打开&lt;code&gt;NVIDIA X Server Settings&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616740487540.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
在&lt;code&gt;PowerMizer&lt;/code&gt;选项中即可修改&lt;strong&gt;核心频率&lt;/strong&gt;跟&lt;strong&gt;显存频率&lt;/strong&gt;&lt;br&gt;
来对比下吧&lt;br&gt;
此为默认频率&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616741919298.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
此为降核心超显存频率&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616741938212.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;方法很简单.输入数字,回车生效&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;emby调用矿卡&#34;&gt;EMBY调用矿卡&lt;/h3&gt;
&lt;p&gt;在容器设置中添加以下&lt;code&gt;3&lt;/code&gt;个参数&lt;br&gt;
&lt;strong&gt;额外参数&lt;/strong&gt;中加入这条指令&lt;code&gt;--runtime=nvidia&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616641872561.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
新增键为&lt;code&gt;NVIDIA_VISIBLE_DEVICES&lt;/code&gt;的变量&lt;br&gt;
值&lt;code&gt;GPU-c38b2c86-4472-f09d-1049-e55ad805ea03&lt;/code&gt;为&lt;strong&gt;Nvidia Driver&lt;/strong&gt;中获取的信息&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616641917092.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
新增键为&lt;code&gt;NVIDIA_DRIVER_CAPABILITIES&lt;/code&gt;的变量&lt;br&gt;
值填写&lt;code&gt;all&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616641921404.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
保存后即可在EMBY中看到相关显卡&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616641931423.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
勾选相应矿卡使用&lt;br&gt;
到此,核显解脱了😍&lt;br&gt;
插播一点,关于EMBY白嫖教程可以看这&lt;a href=&#34;https://s1oz.github.io/post/docker-an-zhuang-emby-bing-bai-piao/&#34;&gt;嫖她&lt;/a&gt;&lt;/p&gt;
">Unraid一卡多用转码+挖矿+超频</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/unraid-shang-rclone-cha-jian-de-shi-yong/"" data-c="
          &lt;h3 id=&#34;友情提示-页面过长-请善用右侧目录&#34;&gt;友情提示 页面过长 请善用右侧目录&lt;/h3&gt;
&lt;h3 id=&#34;安装rclone插件&#34;&gt;安装rclone插件&lt;/h3&gt;
&lt;p&gt;应用中搜素&lt;code&gt;rclone&lt;/code&gt;&lt;br&gt;
选择这个插件安装,其他两个为docker&lt;br&gt;
安装完成后会出现在&lt;code&gt;设置&lt;/code&gt;-&lt;code&gt;用户实用程序&lt;/code&gt;中&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616402378422.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;连接网盘&#34;&gt;连接网盘&lt;/h3&gt;
&lt;h4 id=&#34;谷歌团队盘&#34;&gt;谷歌团队盘&lt;/h4&gt;
&lt;p&gt;在&lt;code&gt;终端&lt;/code&gt;中输入&lt;code&gt;rclone config&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;No remotes found - make a new one
n) New remote
s) Set configuration password
q) Quit config
n/s/q&amp;gt; n
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;选择n新建&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;name&amp;gt; googleemby
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;建立个名称&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Type of storage to configure.
Enter a string value. Press Enter for the default (&amp;quot;&amp;quot;).
Choose a number from below, or type in your own value
 1 / 1Fichier
   \ &amp;quot;fichier&amp;quot;
 2 / Alias for an existing remote
   \ &amp;quot;alias&amp;quot;
 3 / Amazon Drive
   \ &amp;quot;amazon cloud drive&amp;quot;
 4 / Amazon S3 Compliant Storage Providers including AWS, Alibaba, Ceph, Digital Ocean, Dreamhost, IBM COS, Minio, and Tencent COS
   \ &amp;quot;s3&amp;quot;
 5 / Backblaze B2
   \ &amp;quot;b2&amp;quot;
 6 / Box
   \ &amp;quot;box&amp;quot;
 7 / Cache a remote
   \ &amp;quot;cache&amp;quot;
 8 / Citrix Sharefile
   \ &amp;quot;sharefile&amp;quot;
 9 / Compress a remote
   \ &amp;quot;compress&amp;quot;
10 / Dropbox
   \ &amp;quot;dropbox&amp;quot;
11 / Encrypt/Decrypt a remote
   \ &amp;quot;crypt&amp;quot;
12 / Enterprise File Fabric
   \ &amp;quot;filefabric&amp;quot;
13 / FTP Connection
   \ &amp;quot;ftp&amp;quot;
14 / Google Cloud Storage (this is not Google Drive)
   \ &amp;quot;google cloud storage&amp;quot;
15 / Google Drive
   \ &amp;quot;drive&amp;quot;
16 / Google Photos
   \ &amp;quot;google photos&amp;quot;
17 / Hadoop distributed file system
   \ &amp;quot;hdfs&amp;quot;
18 / Hubic
   \ &amp;quot;hubic&amp;quot;
19 / In memory object storage system.
   \ &amp;quot;memory&amp;quot;
20 / Jottacloud
   \ &amp;quot;jottacloud&amp;quot;
21 / Koofr
   \ &amp;quot;koofr&amp;quot;
22 / Local Disk
   \ &amp;quot;local&amp;quot;
23 / Mail.ru Cloud
   \ &amp;quot;mailru&amp;quot;
24 / Mega
   \ &amp;quot;mega&amp;quot;
25 / Microsoft Azure Blob Storage
   \ &amp;quot;azureblob&amp;quot;
26 / Microsoft OneDrive
   \ &amp;quot;onedrive&amp;quot;
27 / OpenDrive
   \ &amp;quot;opendrive&amp;quot;
28 / OpenStack Swift (Rackspace Cloud Files, Memset Memstore, OVH)
   \ &amp;quot;swift&amp;quot;
29 / Pcloud
   \ &amp;quot;pcloud&amp;quot;
30 / Put.io
   \ &amp;quot;putio&amp;quot;
31 / QingCloud Object Storage
   \ &amp;quot;qingstor&amp;quot;
32 / SSH/SFTP Connection
   \ &amp;quot;sftp&amp;quot;
33 / Sugarsync
   \ &amp;quot;sugarsync&amp;quot;
34 / Tardigrade Decentralized Cloud Storage
   \ &amp;quot;tardigrade&amp;quot;
35 / Transparently chunk/split large files
   \ &amp;quot;chunker&amp;quot;
36 / Union merges the contents of several upstream fs
   \ &amp;quot;union&amp;quot;
37 / Webdav
   \ &amp;quot;webdav&amp;quot;
38 / Yandex Disk
   \ &amp;quot;yandex&amp;quot;
39 / Zoho
   \ &amp;quot;zoho&amp;quot;
40 / http Connection
   \ &amp;quot;http&amp;quot;
41 / premiumize.me
   \ &amp;quot;premiumizeme&amp;quot;
42 / seafile
   \ &amp;quot;seafile&amp;quot;
Storage&amp;gt; 15
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如要连接谷歌的盘,根据标识选择15(版本不同,序号不一定一样,按实际标识选择)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;** See help for drive backend at: https://rclone.org/drive/ **

Google Application Client Id
Setting your own is recommended.
See https://rclone.org/drive/#making-your-own-client-id for how to create your own.
If you leave this blank, it will use an internal key which is low performance.
Enter a string value. Press Enter for the default (&amp;quot;&amp;quot;).
client_id&amp;gt; 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;不输入,直接回车&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;OAuth Client Secret
Leave blank normally.
Enter a string value. Press Enter for the default (&amp;quot;&amp;quot;).
client_secret&amp;gt; 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;不输入,直接回车&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Scope that rclone should use when requesting access from drive.
Enter a string value. Press Enter for the default (&amp;quot;&amp;quot;).
Choose a number from below, or type in your own value
 1 / Full access all files, excluding Application Data Folder.
   \ &amp;quot;drive&amp;quot;
 2 / Read-only access to file metadata and file contents.
   \ &amp;quot;drive.readonly&amp;quot;
   / Access to files created by rclone only.
 3 | These are visible in the drive website.
   | File authorization is revoked when the user deauthorizes the app.
   \ &amp;quot;drive.file&amp;quot;
   / Allows read and write access to the Application Data folder.
 4 | This is not visible in the drive website.
   \ &amp;quot;drive.appfolder&amp;quot;
   / Allows read-only access to file metadata but
 5 | does not allow any access to read or download file content.
   \ &amp;quot;drive.metadata.readonly&amp;quot;
scope&amp;gt; 1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;选择1&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ID of the root folder
Leave blank normally.

Fill in to access &amp;quot;Computers&amp;quot; folders (see docs), or for rclone to use
a non root folder as its starting point.

Enter a string value. Press Enter for the default (&amp;quot;&amp;quot;).
root_folder_id&amp;gt; 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;不输入,直接回车&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Service Account Credentials JSON file path 
Leave blank normally.
Needed only if you want use SA instead of interactive login.

Leading `~` will be expanded in the file name as will environment variables such as `${RCLONE_CONFIG_DIR}`.

Enter a string value. Press Enter for the default (&amp;quot;&amp;quot;).
service_account_file&amp;gt; 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;不输入,直接回车&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Edit advanced config? (y/n)
y) Yes
n) No (default)
y/n&amp;gt; n
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;选择n,不编辑&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Remote config
Use auto config?
 * Say Y if not sure
 * Say N if you are working on a remote or headless machine
y) Yes (default)
n) No
y/n&amp;gt; n
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;选择n,因为unraid没有浏览器,所以我们需要手动获取&lt;code&gt;code&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Please go to the following link: https://accounts.google.com/o/oauth2/auth?access_type=offline&amp;amp;client_id=2022***s.googleusercontent.com&amp;amp;redirect_uri=urn%3Aietf%3Aw***************************gleapis.com%2Fau***ive&amp;amp;state=1Tc3s8imv7v7yK6y//SBg
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;电脑上打开连接,登陆账户,授权给&lt;code&gt;rclone&lt;/code&gt;使用,复制显示的&lt;code&gt;code&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Log in and authorize rclone for access
Enter verification code&amp;gt; 4/1AY0e-g64_jCl62pm7Y1oLDE****wyWKvlIY8VlBxdvhdZoFNes
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;粘贴&lt;code&gt;code&lt;/code&gt;回车&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Configure this as a Shared Drive (Team Drive)?
y) Yes
n) No (default)
y/n&amp;gt; y
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;询问是否是团队盘,因为我需要挂载的是团队盘,所以选&lt;code&gt;y&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Fetching Shared Drive list...
Choose a number from below, or type in your own value
 1 / 诺亚方舟3
   \ &amp;quot;0AOLCuxbrocW***9PVA&amp;quot;
 2 / 神秘礼物影视
   \ &amp;quot;0AFKcdHXz9s60U***VA&amp;quot;
 3 / emby
   \ &amp;quot;0AA0yqh7***JEUk9PVA&amp;quot;
 4 / G Drive
   \ &amp;quot;0AGv7GHb8S75***PVA&amp;quot;
Enter a Shared Drive ID&amp;gt; 3
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;罗列出账户上有的团队盘,我需要挂载第&lt;code&gt;3&lt;/code&gt;个,所以输入&lt;code&gt;3&lt;/code&gt;回车&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;--------------------
[googleemby]
type = drive
scope = drive
token = {&amp;quot;access_token&amp;quot;:&amp;quot;y******************************************************************************08:00&amp;quot;}
team_drive = 0AA0yqh7N2ZJE***A
root_folder_id = 
--------------------
y) Yes this is OK (default)
e) Edit this remote
d) Delete this remote
y/e/d&amp;gt; y
Current remotes:
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;显示相关&lt;code&gt;config&lt;/code&gt;信息,提示你是否确认&lt;br&gt;
输入&lt;code&gt;y&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Name                 Type
====                 ====
googleemby           drive

e) Edit existing remote
n) New remote
d) Delete remote
r) Rename remote
c) Copy remote
s) Set configuration password
q) Quit config
e/n/d/r/c/s/q&amp;gt; q
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;按&lt;code&gt;q&lt;/code&gt;退出配置界面&lt;br&gt;
到此网盘已经成功连接到rclone&lt;/p&gt;
&lt;h4 id=&#34;微软网盘&#34;&gt;微软网盘&lt;/h4&gt;
&lt;p&gt;因Unraid没有浏览器&lt;br&gt;
所以rclone无法直接获取&lt;code&gt;code&lt;/code&gt;来连接网盘&lt;br&gt;
我们采用这种的方式来,在&lt;code&gt;windows&lt;/code&gt;上获取&lt;code&gt;config&lt;/code&gt;内容&lt;br&gt;
下载个&lt;a href=&#34;https://downloads.rclone.org/v1.54.1/rclone-v1.54.1-windows-amd64.zip&#34;&gt;客户端&lt;/a&gt;&lt;br&gt;
假设解压到&lt;code&gt;c&lt;/code&gt;盘根目录&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;C:\Users\Administrator&amp;gt;cd c:\rclone
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;切换到解压目录&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;c:\rclone&amp;gt;rclone config
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;开始配置&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;No remotes found - make a new one
n) New remote
s) Set configuration password
q) Quit config
n/s/q&amp;gt; n
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;选择n新建&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;name&amp;gt; onedrive
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;建立个名称&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Type of storage to configure.
Enter a string value. Press Enter for the default (&amp;quot;&amp;quot;).
Choose a number from below, or type in your own value
 1 / 1Fichier
   \ &amp;quot;fichier&amp;quot;
 2 / Alias for an existing remote
   \ &amp;quot;alias&amp;quot;
 3 / Amazon Drive
   \ &amp;quot;amazon cloud drive&amp;quot;
 4 / Amazon S3 Compliant Storage Providers including AWS, Alibaba, Ceph, Digital Ocean, Dreamhost, IBM COS, Minio, and Tencent COS
   \ &amp;quot;s3&amp;quot;
 5 / Backblaze B2
   \ &amp;quot;b2&amp;quot;
 6 / Box
   \ &amp;quot;box&amp;quot;
 7 / Cache a remote
   \ &amp;quot;cache&amp;quot;
 8 / Citrix Sharefile
   \ &amp;quot;sharefile&amp;quot;
 9 / Compress a remote
   \ &amp;quot;compress&amp;quot;
10 / Dropbox
   \ &amp;quot;dropbox&amp;quot;
11 / Encrypt/Decrypt a remote
   \ &amp;quot;crypt&amp;quot;
12 / Enterprise File Fabric
   \ &amp;quot;filefabric&amp;quot;
13 / FTP Connection
   \ &amp;quot;ftp&amp;quot;
14 / Google Cloud Storage (this is not Google Drive)
   \ &amp;quot;google cloud storage&amp;quot;
15 / Google Drive
   \ &amp;quot;drive&amp;quot;
16 / Google Photos
   \ &amp;quot;google photos&amp;quot;
17 / Hadoop distributed file system
   \ &amp;quot;hdfs&amp;quot;
18 / Hubic
   \ &amp;quot;hubic&amp;quot;
19 / In memory object storage system.
   \ &amp;quot;memory&amp;quot;
20 / Jottacloud
   \ &amp;quot;jottacloud&amp;quot;
21 / Koofr
   \ &amp;quot;koofr&amp;quot;
22 / Local Disk
   \ &amp;quot;local&amp;quot;
23 / Mail.ru Cloud
   \ &amp;quot;mailru&amp;quot;
24 / Mega
   \ &amp;quot;mega&amp;quot;
25 / Microsoft Azure Blob Storage
   \ &amp;quot;azureblob&amp;quot;
26 / Microsoft OneDrive
   \ &amp;quot;onedrive&amp;quot;
27 / OpenDrive
   \ &amp;quot;opendrive&amp;quot;
28 / OpenStack Swift (Rackspace Cloud Files, Memset Memstore, OVH)
   \ &amp;quot;swift&amp;quot;
29 / Pcloud
   \ &amp;quot;pcloud&amp;quot;
30 / Put.io
   \ &amp;quot;putio&amp;quot;
31 / QingCloud Object Storage
   \ &amp;quot;qingstor&amp;quot;
32 / SSH/SFTP Connection
   \ &amp;quot;sftp&amp;quot;
33 / Sugarsync
   \ &amp;quot;sugarsync&amp;quot;
34 / Tardigrade Decentralized Cloud Storage
   \ &amp;quot;tardigrade&amp;quot;
35 / Transparently chunk/split large files
   \ &amp;quot;chunker&amp;quot;
36 / Union merges the contents of several upstream fs
   \ &amp;quot;union&amp;quot;
37 / Webdav
   \ &amp;quot;webdav&amp;quot;
38 / Yandex Disk
   \ &amp;quot;yandex&amp;quot;
39 / Zoho
   \ &amp;quot;zoho&amp;quot;
40 / http Connection
   \ &amp;quot;http&amp;quot;
41 / premiumize.me
   \ &amp;quot;premiumizeme&amp;quot;
42 / seafile
   \ &amp;quot;seafile&amp;quot;
Storage&amp;gt; 26
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如要连接谷歌的盘,根据标识选择26(版本不同,序号不一定一样,按实际标识选择)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;** See help for onedrive backend at: https://rclone.org/onedrive/ **

OAuth Client Id
Leave blank normally.
Enter a string value. Press Enter for the default (&amp;quot;&amp;quot;).
client_id&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;不输入,直接回车&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;OAuth Client Secret
Leave blank normally.
Enter a string value. Press Enter for the default (&amp;quot;&amp;quot;).
client_secret&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;不输入,直接回车&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Choose national cloud region for OneDrive.
Enter a string value. Press Enter for the default (&amp;quot;global&amp;quot;).
Choose a number from below, or type in your own value
 1 / Microsoft Cloud Global
   \ &amp;quot;global&amp;quot;
 2 / Microsoft Cloud for US Government
   \ &amp;quot;us&amp;quot;
 3 / Microsoft Cloud Germany
   \ &amp;quot;de&amp;quot;
 4 / Azure and Office 365 operated by 21Vianet in China
   \ &amp;quot;cn&amp;quot;
region&amp;gt; 1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;选择1&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Edit advanced config? (y/n)
y) Yes
n) No (default)
y/n&amp;gt; n
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;选择n,不编辑&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Remote config
Use auto config?
 * Say Y if not sure
 * Say N if you are working on a remote or headless machine
y) Yes (default)
n) No
y/n&amp;gt; y
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;选择&lt;code&gt;1&lt;/code&gt;自动配置&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;If your browser doesn&#39;t open automatically go to the following link: http://127.0.0.1:53682/auth?state=FDOLLiSz***rSJBbag
Log in and authorize rclone for access
Waiting for code...
Got code
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;点击链接,登陆账户,授权给rclone使用,脚本自动获取&lt;code&gt;code&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Choose a number from below, or type in an existing value
 1 / OneDrive Personal or Business
   \ &amp;quot;onedrive&amp;quot;
 2 / Root Sharepoint site
   \ &amp;quot;sharepoint&amp;quot;
 3 / Sharepoint site name or URL (e.g. mysite or https://contoso.sharepoint.com/sites/mysite)
   \ &amp;quot;url&amp;quot;
 4 / Search for a Sharepoint site
   \ &amp;quot;search&amp;quot;
 5 / Type in driveID (advanced)
   \ &amp;quot;driveid&amp;quot;
 6 / Type in SiteID (advanced)
   \ &amp;quot;siteid&amp;quot;
 7 / Sharepoint server-relative path (advanced, e.g. /teams/hr)
   \ &amp;quot;path&amp;quot;
Your choice&amp;gt; 1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;选择&lt;code&gt;1&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Found 1 drives, please select the one you want to use:
0: OneDrive (business) id=b!jC7ndQM3XkO5C6RFjk8FC0l6JPipknpLuC4BB4ohz64u3aY5OQn_T4Vh-Rr-ZaZD
Chose drive to use:&amp;gt; 0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;选择标识的&lt;code&gt;0&lt;/code&gt;网盘&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Found drive &#39;root&#39; of type &#39;business&#39;, URL: https://kogfw***.sharepoint.com/personal/s1oz_****/Documents
Is that okay?
y) Yes (default)
n) No
y/n&amp;gt; y
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;选择&lt;code&gt;y&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;--------------------
[onedrive]
type = onedrive
region = global
token = {&amp;quot;access_token&amp;quot;:&amp;quot;eyJ0eXAiLiIs**gU2l0ZXMuUmVhZC5BbGwgcHJvZmlsZSMastoKDtaM8uxbH-ypRGI0y8H_ysiRw20QRRLc7pdol6BmYo0BcRNXJgJN6xccP5b20-iyLejE_vF1Iw5AKQP4-qirH3NHP-S5l*********pLuC4BB4ohz64u3aY5OQn_T4Vh-Rr-ZaZD
drive_type = business
--------------------
y) Yes this is OK (default)
e) Edit this remote
d) Delete this remote
y/e/d&amp;gt; y
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;显示相关&lt;code&gt;config&lt;/code&gt;信息,提示你是否确认&lt;br&gt;
输入&lt;code&gt;y&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Current remotes:

Name                 Type
====                 ====
onedrive             onedrive

e) Edit existing remote
n) New remote
d) Delete remote
r) Rename remote
c) Copy remote
s) Set configuration password
q) Quit config
e/n/d/r/c/s/q&amp;gt; q
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;按q退出配置界面&lt;br&gt;
&lt;strong&gt;将刚显示的这段&lt;code&gt;config&lt;/code&gt;信息粘贴到rclone插件中&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;--------------------
[onedrive]
type = onedrive
region = global
token = {&amp;quot;access_token&amp;quot;:&amp;quot;eyJ0eXAiLiIs**gU2l0ZXMuUmVhZC5BbGwgcHJvZmlsZSMastoKDtaM8uxbH-ypRGI0y8H_ysiRw20QRRLc7pdol6BmYo0BcRNXJgJN6xccP5b20-iyLejE_vF1Iw5AKQP4-qirH3NHP-S5l*********pLuC4BB4ohz64u3aY5OQn_T4Vh-Rr-ZaZD
drive_type = business
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;粘贴至Unraid&lt;code&gt;设置&lt;/code&gt;-&lt;code&gt;用户实用程序&lt;/code&gt;-rclcone&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616409428903.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
然后在&lt;code&gt;Unraid&lt;/code&gt;终端中输入&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;rclone config
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;即可看到已经连接的网盘信息&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616409616840.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;创建用于挂载磁盘的目录&#34;&gt;创建用于挂载磁盘的目录&lt;/h3&gt;
&lt;p&gt;根据自己需求,新建一个用于挂载网盘的空文件夹&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mkdir -p /mnt/user/rclone/onedrive
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;我想分的细一点,所以等下使用`onedrive空文件夹挂载刚刚连接的谷歌团队盘&lt;/p&gt;
&lt;h3 id=&#34;挂载网盘到本地&#34;&gt;挂载网盘到本地&lt;/h3&gt;
&lt;h4 id=&#34;示例&#34;&gt;示例&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;rclone mount onedrive:test /mnt/user/rclone/onedrive --use-mmap --umask 0000 --default-permissions --allow-non-empty --allow-other --buffer-size 1G --low-level-retries 10 --vfs-read-chunk-size 64M --vfs-read-chunk-size-limit 1G --vfs-cache-mode off --checkers=8 --transfers=4 --rc &amp;amp;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;需要修改的就是&lt;br&gt;
&lt;code&gt;onedrive:test&lt;/code&gt; &lt;strong&gt;onedrive&lt;/strong&gt;为网盘的名字不特指微软网盘&lt;strong&gt;test&lt;/strong&gt;为要挂载的网盘文件夹路径,不填留为挂载整个网盘&lt;br&gt;
&lt;code&gt;/mnt/user/rclone/onedrive&lt;/code&gt;本地用于挂载的空目录&lt;br&gt;
关于其他参数含义,可自行查阅最下方命令说明&lt;br&gt;
如emby之类添加挂载文件夹不显示文&lt;br&gt;
请在&lt;code&gt;emby&lt;/code&gt;终端输入 &lt;code&gt;umask&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/ # umask
0022
/ # 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;将示例中&lt;code&gt;--umask 0000&lt;/code&gt;修改为&lt;code&gt;--umask 0022&lt;/code&gt;emby即可正常访问文件&lt;/p&gt;
&lt;h4 id=&#34;查询是否成功将网盘挂载到本地&#34;&gt;查询是否成功将网盘挂载到本地&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;df -h
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;输入命令后,如成功挂载,就会有显示挂载的目录了&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616409741458.JPG&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;shell脚本&#34;&gt;shell脚本&lt;/h3&gt;
&lt;p&gt;可使用&lt;code&gt;User Scripts&lt;/code&gt;插件新建开机任务,例如我的脚本如下&lt;/p&gt;
&lt;h4 id=&#34;开机挂载&#34;&gt;开机挂载&lt;/h4&gt;
&lt;p&gt;我内存反正过剩,直接不要缓存,按需修改&lt;code&gt;OPTIONS&lt;/code&gt;中的内容&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash
# 设置变量
MOUNT_POINT=&amp;quot;/mnt/user/rclone/onedrive&amp;quot;    # 挂载点目录
REMOTE_NAME=&amp;quot;onedrive&amp;quot;          # rclone 配置的服务商名称
REMOTE_PATH=&amp;quot;&amp;quot;              # 实际的远程路径
OPTIONS=&amp;quot;--use-mmap --umask 0000 --default-permissions --allow-non-empty --allow-other --buffer-size 1G --low-level-retries 10 --vfs-read-chunk-size 64M --vfs-read-chunk-size-limit 1G --vfs-cache-mode off --checkers=8 --transfers=4 --rc&amp;quot;  # rclone 挂载选项


# 创建挂载点目录，如果不存在
if [ ! -d &amp;quot;$MOUNT_POINT&amp;quot; ]; then
    mkdir -p &amp;quot;$MOUNT_POINT&amp;quot;
fi

# 执行 rclone 挂载命令
rclone mount &amp;quot;$REMOTE_NAME:$REMOTE_PATH&amp;quot; &amp;quot;$MOUNT_POINT&amp;quot; $OPTIONS &amp;amp;

# 获取挂载进程的PID
MOUNT_PID=$!

# 等待一段时间，确保挂载完成
sleep 10

# 检查挂载是否成功
if mountpoint -q &amp;quot;$MOUNT_POINT&amp;quot;; then
    echo &amp;quot;挂载成功！&amp;quot;
else
    echo &amp;quot;挂载失败！&amp;quot;
    exit 1
fi

# 显示挂载状态
df -h | grep &amp;quot;$MOUNT_POINT&amp;quot;

# 提示挂载完毕
echo &amp;quot;挂载完毕&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;停止阵列卸载&#34;&gt;停止阵列卸载&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash

# 设置挂载点目录
MOUNT_POINT=&amp;quot;/mnt/user/rclone/onedrive&amp;quot;

# 检查挂载点是否存在并卸载
if mountpoint -q &amp;quot;$MOUNT_POINT&amp;quot;; then
    fusermount -zu &amp;quot;$MOUNT_POINT&amp;quot;
    if ! mountpoint -q &amp;quot;$MOUNT_POINT&amp;quot;; then
        echo &amp;quot;卸载成功！&amp;quot;
    else
        echo &amp;quot;卸载失败！&amp;quot;
        exit 1
    fi
else
    echo &amp;quot;挂载点未挂载。&amp;quot;
fi

&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;常用命令&#34;&gt;常用命令&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;https://rclone.org/commands/
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;官方的命令说明&lt;/p&gt;
&lt;h3 id=&#34;onedrvie私有api&#34;&gt;onedrvie私有API&lt;/h3&gt;
&lt;p&gt;创建私有api所需勾选的权限&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616410285018.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616410288426.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616410291008.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616410293616.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616410296434.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616410299093.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616410301669.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616410305607.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616410308763.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
">Unraid上rclone插件的使用</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/valine-ping-lun-xi-tong-kai-qi-ji-shan-chu-ping-lun/"" data-c="
          &lt;h3 id=&#34;以gridea为例&#34;&gt;以Gridea为例&lt;/h3&gt;
&lt;p&gt;好多主题已经默认带valine评论系统了&lt;br&gt;
如果你的没这玩意儿,去官网翻翻其他主题,肯定会有😜&lt;br&gt;
不止&lt;code&gt;Gridea&lt;/code&gt;其他如&lt;code&gt;hexo&lt;/code&gt;也是通用的&lt;br&gt;
所以我们只需要根据需求填入对于的&lt;code&gt;APPID&lt;/code&gt; &lt;code&gt;APPKey&lt;/code&gt;即可&lt;/p&gt;
&lt;h3 id=&#34;获取id-key并填入开启评论&#34;&gt;获取ID Key并填入开启评论&lt;/h3&gt;
&lt;p&gt;我们先在这注册一个&lt;a href=&#34;https://www.leancloud.cn/&#34;&gt;&lt;strong&gt;账号&lt;/strong&gt;&lt;/a&gt;&lt;br&gt;
自己走流程,顺带提一句,需要实名验证😓&lt;br&gt;
好了之后我们需要创建一个开发版的应用&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616220016355.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
名称随意.创建后点击进入这个应用&lt;br&gt;
点击左下方&lt;code&gt;设置-应用Keys&lt;/code&gt;即可看到我们所需要的&lt;code&gt;APPID&lt;/code&gt; &lt;code&gt;APPKey&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616220167950.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
然后回到&lt;code&gt;Gridea&lt;/code&gt;&lt;br&gt;
在&lt;code&gt;主题&lt;/code&gt; &lt;code&gt;自定义配置&lt;/code&gt; &lt;code&gt;valine评论系统&lt;/code&gt;中开启,并填入对应的&lt;code&gt;APPID&lt;/code&gt; &lt;code&gt;APPKey&lt;/code&gt;&lt;img src=&#34;https://s1oz.github.io/post-images/1616220259100.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
保存同步后,你已经可以在你的备忘录发布评论了&lt;br&gt;
&lt;strong&gt;抢个沙发,板凳瓜子已经备好~👻&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;删除已经发布的评论&#34;&gt;删除已经发布的评论&lt;/h3&gt;
&lt;p&gt;如果有&lt;strong&gt;XX&lt;/strong&gt;留言怎么办呢&lt;br&gt;
当然是干掉它咯😏&lt;br&gt;
还是原来的配方,&lt;code&gt;储存&lt;/code&gt;-&lt;code&gt;结构化数据&lt;/code&gt;中的&lt;code&gt;Comment&lt;/code&gt;框里的就是评论&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616220449958.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
看着不爽,勾选,删除,&lt;strong&gt;世界干净了..&lt;/strong&gt;&lt;/p&gt;
">valine评论系统开启及删除评论</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/unraid-69x-wang-qia-kai-qi-sr-iov/"" data-c="
          &lt;h3 id=&#34;前提如下&#34;&gt;&lt;em&gt;&lt;strong&gt;前提如下&lt;/strong&gt;&lt;/em&gt;&lt;/h3&gt;
&lt;h4 id=&#34;需主板支持sr-iov&#34;&gt;需主板支持SR-IOV&lt;/h4&gt;
&lt;p&gt;如主板没有此功能,请直接臭不要脸跟厂家发邮件要,我就是这样要了个新bios刷入后开启&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616125601605.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;&lt;strong&gt;如此途径失败,请购买其他板子&lt;/strong&gt;&lt;/strong&gt;😎&lt;/p&gt;
&lt;h4 id=&#34;需网卡支持sr-iov&#34;&gt;需网卡支持SR-IOV&lt;/h4&gt;
&lt;p&gt;82599ES/I350/82576都是支持的,其他自测,如不支持,那也就不用往下看了&lt;br&gt;
判断网卡是否支持&lt;br&gt;
Unraid-工具-系统设备-鼠标悬停在自己的网卡上&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616125405919.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
如箭头标识有SR-IOV字样就代表支持&lt;br&gt;
也可通过以下命令判断&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;lspci -vvv -d 8086:10c9 | grep -A 9 SR-IOV  
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;8086:10c9&lt;/code&gt;为网卡设备ID&lt;/p&gt;
&lt;h3 id=&#34;开搞&#34;&gt;&lt;em&gt;&lt;strong&gt;开搞&lt;/strong&gt;&lt;/em&gt;&lt;/h3&gt;
&lt;h4 id=&#34;设置bios-高级-芯片组&#34;&gt;设置bios-高级-芯片组&lt;/h4&gt;
&lt;p&gt;页面中默认应该是这样的&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616125544679.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
把没开的所有选项都开启&lt;/p&gt;
&lt;h4 id=&#34;开启vf网卡&#34;&gt;开启VF网卡&lt;/h4&gt;
&lt;p&gt;进Unraid-工具-系统设备&lt;br&gt;
找到你网卡的ID 如我的是&lt;code&gt;[8086:10c9]  &lt;/code&gt;&lt;br&gt;
记下,并在终端中输入此命令&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;lspci -vvv -d 8086:10c9 | grep -A 9 SR-IOV
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;&lt;strong&gt;如图所示&lt;/strong&gt;&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616125845084.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;VFs: 8&lt;/code&gt; 理解为最大支持8个网口&lt;br&gt;
然后编辑&lt;code&gt;/boot/config/go&lt;/code&gt; 文件&lt;br&gt;
安装&lt;code&gt;Config File Editor&lt;/code&gt;插件可以直接编辑&lt;code&gt;go&lt;/code&gt;文件&lt;br&gt;
在&lt;code&gt;# Start the Management Utility&lt;/code&gt;上方添加以下命令&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo echo 7 &amp;gt; /sys/class/net/eth1/device/sriov_numvfs
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;echo 7&lt;/code&gt; 代表虚拟7个网卡 最大8个,默认占用一个,所以输入7&lt;br&gt;
&lt;code&gt;eth1&lt;/code&gt;   为用来虚拟的网口,按自己需求更改&lt;br&gt;
****并进入Unraid-主界面-引导设备-闪存 ****&lt;br&gt;
在Syslinux 配置中Unraid OS栏添加以下命令&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616127619074.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;intel_iommu=pt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;保存重启，一般来说虚拟机就已经出现7个VF网卡了&lt;br&gt;
就像这样&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616128005870.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
然后就可以勾选相应的网卡分配给虚拟机使用了&lt;/p&gt;
&lt;h3 id=&#34;接下来说说疑难杂症&#34;&gt;&lt;em&gt;&lt;strong&gt;接下来说说疑难杂症&lt;/strong&gt;&lt;/em&gt;&lt;/h3&gt;
&lt;p&gt;就是我遇到的问题，相同案例可以按此方法解决&lt;/p&gt;
&lt;h4 id=&#34;系统设备无法勾选绑定网卡&#34;&gt;系统设备无法勾选绑定网卡&lt;/h4&gt;
&lt;p&gt;如网卡默认被unraid调用无法勾选先添加此命令&lt;br&gt;
从unraid分离&lt;code&gt;8086:10c9&lt;/code&gt;按自己ID填写&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616130061951.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;vifo-pci.ids=8086:10c9
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;重启后网卡在系统设备中即可勾选绑定&lt;br&gt;
绑定后建议删除此命令&lt;br&gt;
建议所有绑定操作皆通过系统设备勾选操作&lt;/p&gt;
&lt;h4 id=&#34;固定vf网卡mac地址&#34;&gt;固定VF网卡MAC地址&lt;/h4&gt;
&lt;p&gt;生成的VF网卡MAC地址是混乱的，不好记&lt;br&gt;
所以.......&lt;br&gt;
我们需要给这些设备都给编上号，让自己好记&lt;br&gt;
编辑&lt;code&gt;/boot/config/go&lt;/code&gt; 文件&lt;br&gt;
在&lt;code&gt; sudo echo 7 &amp;gt; /sys/class/net/eth1/device/sriov_numvfs&lt;/code&gt;下方添加以下命令&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ip link set eth1 vf 0 mac 00:25:8b:03:10:01
ip link set eth1 vf 1 mac 00:25:8b:03:10:03
ip link set eth1 vf 2 mac 00:25:8b:03:10:05
ip link set eth1 vf 3 mac 00:25:8b:03:10:07
ip link set eth1 vf 4 mac 00:25:8b:03:11:01
ip link set eth1 vf 5 mac 00:25:8b:03:11:03
ip link set eth1 vf 6 mac 00:25:8b:03:11:05
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;虚拟了几个网卡，就写几行&lt;br&gt;
MAC地址随便编辑，我后面是根据VF网卡ID来&lt;br&gt;
这玩意儿就图个好记&lt;br&gt;
保存-重启&lt;br&gt;
现在可以去路由器中的DHCP添加对应信息了😁&lt;/p&gt;
&lt;h4 id=&#34;虚拟机中网卡显示不完整&#34;&gt;虚拟机中网卡显示不完整&lt;/h4&gt;
&lt;p&gt;如图，系统设备中VF网卡只亮了一个&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616128477045.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
虚拟机中只有一个网卡，没有将虚拟的7个VF全部显示出来&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616128498247.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
这是因为在Unraid在启动过程中很早就将设备绑定到vfio-pci&lt;br&gt;
所以我们需要增加一条命令再次进行设备绑定&lt;br&gt;
编辑&lt;code&gt;/boot/config/go&lt;/code&gt; 文件&lt;br&gt;
在&lt;code&gt;ip link set eth1 vf 6 mac 00:25:8b:03:11:05&lt;/code&gt;下方添加以下命令&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/usr/local/sbin/vfio-pci &amp;gt;&amp;gt;/var/log/vfio-pci
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这样保存重启后就会正常显示了&lt;br&gt;
如果还没有正常显示，可以编辑下&lt;code&gt; /boot/config/network.cfg&lt;/code&gt;文件&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# Generated settings:
IFNAME[0]=&amp;quot;br0&amp;quot;
DHCP_KEEPRESOLV=&amp;quot;no&amp;quot;
DHCP6_KEEPRESOLV=&amp;quot;no&amp;quot;
BRNAME[0]=&amp;quot;br0&amp;quot;
BRNICS[0]=&amp;quot;eth0&amp;quot;
BRSTP[0]=&amp;quot;no&amp;quot;
BRFD[0]=&amp;quot;0&amp;quot;
DESCRIPTION[0]=&amp;quot;unraid&amp;quot;
PROTOCOL[0]=&amp;quot;ipv4+ipv6&amp;quot;
USE_DHCP[0]=&amp;quot;yes&amp;quot;
USE_DHCP6[0]=&amp;quot;yes&amp;quot;
METRIC6[0]=&amp;quot;0&amp;quot;
PRIVACY6[0]=&amp;quot;0&amp;quot;
IFNAME[1]=&amp;quot;eth1&amp;quot;
PROTOCOL[1]=&amp;quot;ipv4+ipv6&amp;quot;
USE_DHCP[1]=&amp;quot;yes&amp;quot;
USE_DHCP6[1]=&amp;quot;yes&amp;quot;
PRIVACY6[1]=&amp;quot;0&amp;quot;
SYSNICS=&amp;quot;2&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;可能你的是默认调用了两个网口，需要删除第二个网卡的信息&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;IFNAME[1]=&amp;quot;eth1&amp;quot;
PROTOCOL[1]=&amp;quot;ipv4+ipv6&amp;quot;
USE_DHCP[1]=&amp;quot;yes&amp;quot;
USE_DHCP6[1]=&amp;quot;yes&amp;quot;
PRIVACY6[1]=&amp;quot;0&amp;quot;
SYSNICS=&amp;quot;2&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;并将此数值改为1&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;SYSNICS=&amp;quot;1&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这样确保只有unraid一个口，删除其他网卡&lt;br&gt;
保存重启&lt;/p&gt;
&lt;h4 id=&#34;vf网卡没网-eth1网卡默认关闭&#34;&gt;VF网卡没网 ETH1网卡默认关闭&lt;/h4&gt;
&lt;p&gt;如果...&lt;br&gt;
系统设备中VF网卡全亮了&lt;br&gt;
虚拟机VF也全显示了&lt;br&gt;
但是就是没网，显示网线被拔出咋办呢？&lt;br&gt;
去设置-网络设置中看下ETH1是否启用&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616128504218.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
如果没有启用，可以手动点击启用后&lt;br&gt;
但是这样虚拟机还是没网的，只能通过重启虚拟机或者禁用-启用网卡来获取，这样太麻烦了，狗屎！&lt;br&gt;
所以我们再在&lt;code&gt;/boot/config/go&lt;/code&gt; 文件加一条命令吧&lt;br&gt;
在&lt;code&gt;/usr/local/sbin/vfio-pci &amp;gt;&amp;gt;/var/log/vfio-pci&lt;/code&gt;下方添加以下命令&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ifconfig eth1 up
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;保存重启&lt;br&gt;
这样在系统启动的时候就会启动此端口&lt;br&gt;
这样虚拟机就可以正常获取网络了😁&lt;/p&gt;
&lt;h3 id=&#34;总结&#34;&gt;&lt;em&gt;&lt;strong&gt;总结&lt;/strong&gt;&lt;/em&gt;&lt;/h3&gt;
&lt;p&gt;很不巧，我遇到了这些问题，所以我最终的go文件中信息如下&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash
# enable SRIOV and process vfio-pci binding again
echo 7 &amp;gt; /sys/class/net/eth1/device/sriov_numvfs
ip link set eth1 vf 0 mac 00:25:8b:03:10:01
ip link set eth1 vf 1 mac 00:25:8b:03:10:03
ip link set eth1 vf 2 mac 00:25:8b:03:10:05
ip link set eth1 vf 3 mac 00:25:8b:03:10:07
ip link set eth1 vf 4 mac 00:25:8b:03:11:01
ip link set eth1 vf 5 mac 00:25:8b:03:11:03
ip link set eth1 vf 6 mac 00:25:8b:03:11:05
/usr/local/sbin/vfio-pci &amp;gt;&amp;gt;/var/log/vfio-pci
ifconfig eth1 up

# Start the Management Utility
/usr/local/sbin/emhttp &amp;amp;
&lt;/code&gt;&lt;/pre&gt;
">Unraid 6.9.x 网卡开启SR-IOV</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/49-nian-ru-guo-jun-chang-shi-bai-piao-eth/"" data-c="
          &lt;h3 id=&#34;真的白嫖&#34;&gt;真的白嫖?&lt;/h3&gt;
&lt;p&gt;怎么才能算白嫖呢😵&lt;br&gt;
我觉得拿手上现有的东西,不要额外投资资金&lt;br&gt;
这就是白嫖😶&lt;br&gt;
&lt;strong&gt;对....就是这样...有道理噢~~&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;现在也不玩游戏了...电脑上的显卡反复告诉我它寂寞了...&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;NAS反正也是24小时开机..电费本身就在那了...&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;虚拟机挖矿也给u增加多少负担,负载全在显卡这...&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;那合体吧~!!!&lt;/strong&gt;&lt;br&gt;
现在Unraid的装备如下&lt;br&gt;
&lt;code&gt;8600t&lt;/code&gt;x1 &lt;code&gt;盘&lt;/code&gt;x6 &lt;code&gt;双口网卡&lt;/code&gt;x1 &lt;code&gt;内存条&lt;/code&gt;x4 &lt;code&gt;gt740&lt;/code&gt;x1&lt;br&gt;
大概功耗在60w&lt;br&gt;
插入闲置的&lt;code&gt;1660&lt;/code&gt;挖矿后 整机功耗大概132w 偶尔折腾的时候负载高了大概150w&lt;br&gt;
&lt;strong&gt;看,反正是虚拟机,就多张显卡的功耗,这不就是白嫖嘛~~&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;化身勤劳矿工&#34;&gt;化身勤劳矿工&lt;/h3&gt;
&lt;h4 id=&#34;先告诉自己还不算迟不算迟还在涨呢&#34;&gt;先告诉自己,还不算迟,&lt;strong&gt;不算迟&lt;/strong&gt;还在&lt;strong&gt;涨&lt;/strong&gt;呢!!&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://s1oz.github.io/post-images/1616221844364.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h4 id=&#34;安装虚拟机直通显卡&#34;&gt;安装虚拟机,直通显卡&lt;/h4&gt;
&lt;p&gt;这是基本操作,不写了🤙安装好后直接开电源直接开性能模式&lt;/p&gt;
&lt;h4 id=&#34;钱包地址&#34;&gt;钱包地址&lt;/h4&gt;
&lt;p&gt;中币账号&lt;a href=&#34;https://www.zbex.club/cn/register?ref=mw07vn&#34;&gt;注册链接&lt;/a&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616222704060.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
点击&lt;code&gt;财务&lt;/code&gt;-&lt;code&gt;充值&lt;/code&gt;-&lt;code&gt;充值币种ETH&lt;/code&gt;-&lt;code&gt;获取ETH充值地址&lt;/code&gt;&lt;br&gt;
这个地址就是你的  &lt;strong&gt;钱包地址&lt;/strong&gt; 记好了,大用处&lt;br&gt;
除了网页登陆,也可以用手机客户端&lt;a href=&#34;https://www.zb.com/cn/download&#34;&gt;app&lt;/a&gt;&lt;br&gt;
提一句,网页被墙了,需要过墙,手机客户端也是,不过移动用户的手机流量可以直接登陆APP&lt;/p&gt;
&lt;h4 id=&#34;一把好的锄头&#34;&gt;一把好的锄头&lt;/h4&gt;
&lt;p&gt;挖矿的工具有很多&lt;br&gt;
&lt;code&gt;开源旷工&lt;/code&gt; &lt;code&gt;轻松旷工 &lt;/code&gt;属于集成一体,带群控,超频,多种挖矿内核一键切换&lt;br&gt;
内核也分很多&lt;br&gt;
&lt;code&gt;nbminer&lt;/code&gt; &lt;code&gt;phoenminer&lt;/code&gt; &lt;code&gt;gminer&lt;/code&gt;等.这些都是内核,没上方UI好看而已&lt;br&gt;
所以自己都可以试试哪个适合自己&lt;br&gt;
像我试了一圈,最后选择了&lt;code&gt;gminer&lt;/code&gt; &lt;a href=&#34;https://github.com/develsoftware/GMinerRelease/releases&#34;&gt;&lt;strong&gt;下载地址&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&#34;选择一个矿场&#34;&gt;选择一个矿场&lt;/h4&gt;
&lt;p&gt;矿池也多&lt;br&gt;
我就试过&lt;code&gt;星火矿池&lt;/code&gt;&lt;br&gt;
所以不做啥评价&lt;br&gt;
这是星火官方的&lt;a href=&#34;https://help.sparkpool.com/hc/kb/article/1413628/?lang=zh_cn&#34;&gt;教程&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&#34;跟着节奏把锄头挥动起来&#34;&gt;跟着节奏把锄头挥动起来&lt;/h4&gt;
&lt;p&gt;在虚拟机中将下载的锄头解压&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616223519863.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
并修改&lt;code&gt;mine_eth.bat&lt;/code&gt;这个文件&lt;br&gt;
解释下都是啥&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;miner.exe --algo ethash
设置挖掘算法 挖eth矿
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;--server cn.sparkpool.com:3333
设置矿池为 星火矿池
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;--user 0xde0000000000000000000000.unraid
设置钱包地址跟主机名
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;--logfile c:\log.txt
生成日志文件 路径为c:\log.txt
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;--api 10000
开启web页面数据统计 端口1000 浏览器打开 127.0.0.1:10000可以查看此页面
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;所以根据以上参加,如果你跟我一样挖星火,只需要修改&lt;code&gt;--user &lt;/code&gt;为&lt;strong&gt;刚刚注册的钱包地址&lt;/strong&gt;跟主机名即可&lt;br&gt;
修改好后保存,双击运行此批处理即可挖矿😡&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616224088804.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;说说降频与超频&#34;&gt;说说降频与超频&lt;/h4&gt;
&lt;p&gt;对于显卡默认频率算力不满意的,就需要调教显存频率了&lt;br&gt;
调节显存频率的工具有&lt;code&gt;小飞机``轻松旷工&lt;/code&gt;等&lt;br&gt;
我直接用轻松旷工了&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616224270354.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;高级设置&lt;/code&gt;中只勾选&lt;code&gt;开机自动运行&lt;/code&gt;&lt;br&gt;
&lt;code&gt;超频设置&lt;/code&gt;中输入要修改的内容点击确定&lt;br&gt;
我是1660,默认21.5的算力,超频了也才23.x...&lt;br&gt;
所以 算了吧,就降低核心跑跑,希望能活的久一点😕&lt;br&gt;
关于其他显卡的超频,可以点击&lt;code&gt;轻松旷工&lt;/code&gt;的&lt;code&gt;超频教程&lt;/code&gt;按钮了解&lt;br&gt;
所以我的操作流程如下&lt;br&gt;
启动虚拟机&amp;gt;点击超频页面确定按钮&amp;gt;启动gminer批处理进行挖矿&lt;/p&gt;
&lt;h3 id=&#34;涨涨涨我肯定不是韭菜&#34;&gt;涨涨涨,我肯定不是韭菜&lt;/h3&gt;
&lt;p&gt;一月底开挖...啧啧啧,都两个月了&lt;br&gt;
数据如下&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616224641319.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
星火矿池的转账要求的&lt;code&gt;余额&amp;gt;0.1&lt;/code&gt;&lt;br&gt;
我每天大概能挖&lt;code&gt;0.00120&lt;/code&gt;&lt;br&gt;
所以...暂时还没有把钱拿到手,四月初吧.差不多就能转载了😏&lt;br&gt;
到时候再更新下如何到手&lt;br&gt;
反正我觉得这应该就算白嫖了,以现在的币价,额外多出每小时70w功耗 换来日均15R的收益&lt;br&gt;
应该...不亏吧😅&lt;br&gt;
反正现在是&lt;code&gt;JD&lt;/code&gt;脚本领京豆&lt;code&gt;网心&lt;/code&gt;上传赚现金现在是加&lt;code&gt;显卡挖矿&lt;/code&gt;&lt;br&gt;
除去电费,大概日均25R&lt;br&gt;
感觉unraid在我手中发挥了最大的效益了....&lt;/p&gt;
">49年入国军 尝试白嫖ETH</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/jia-zhuang-gei-qun-hui-pi-ceng-ma-jia/"" data-c="
          &lt;h3 id=&#34;严打呀唉~&#34;&gt;&lt;em&gt;&lt;strong&gt;严打呀,唉~&lt;/strong&gt;&lt;/em&gt;&lt;/h3&gt;
&lt;p&gt;以前是要公网难,现在是有公网开端口难🙁&lt;br&gt;
开了的时时刻刻要担心被运营商以违法搭建web服务找上门😱&lt;br&gt;
所以,给群晖,&lt;strong&gt;&amp;quot;备个案吧&amp;quot;&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;像这样&lt;/strong&gt;😬&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616145064564.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
是不是突然就不怕了&lt;br&gt;
突然感觉自己是&lt;strong&gt;正经人&lt;/strong&gt;了🙄&lt;br&gt;
只要把自己骗倒,他就是真的!!!!&lt;/p&gt;
&lt;h3 id=&#34;咋整呢&#34;&gt;&lt;em&gt;&lt;strong&gt;咋整呢&lt;/strong&gt;&lt;/em&gt;&lt;/h3&gt;
&lt;h4 id=&#34;先弄个假图标-icon&#34;&gt;先弄个假图标🤢 &lt;em&gt;&lt;strong&gt;&lt;a href=&#34;https://raw.githubusercontent.com/s1oz/unraid/master/emby_ca/icon.png&#34;&gt;icon&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt;&lt;/h4&gt;
&lt;h4 id=&#34;放入假图标&#34;&gt;放入假图标&lt;/h4&gt;
&lt;p&gt;ssh登陆群晖 &lt;code&gt;sudo -i&lt;/code&gt;提权&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;wget https://raw.githubusercontent.com/s1oz/unraid/master/emby_ca/icon.png &amp;amp;&amp;amp; mv icon.png /usr/syno/synoman/icon.png
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;移动假图片到系统目录&lt;/p&gt;
&lt;h4 id=&#34;添加beian信息&#34;&gt;添加beian信息&lt;/h4&gt;
&lt;p&gt;在控制面板-主题样式-页脚信息中填入以下代码&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616145559676.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;html&amp;gt;                                                          
&amp;lt;img src=&amp;quot;./icon.png&amp;quot;&amp;gt;
&amp;lt;a target=&amp;quot;_blank&amp;quot;   
href=&amp;quot;http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31010602002841&amp;quot; &amp;gt;沪公网安备31010602002841号 &amp;lt;/a&amp;gt;&amp;lt;a target=&amp;quot;_blank&amp;quot;  href=&amp;quot;https://beian.miit.gov.cn/#/Integrated/recordQuery&amp;quot; &amp;gt;沪ICP备15015915号&amp;lt;a&amp;gt;                                           
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;点击确定,保存&lt;/p&gt;
&lt;h3 id=&#34;好嘞你已经成功欺骗了自己&#34;&gt;好嘞,你已经成功欺骗了自己&lt;/h3&gt;
">假装给群晖披层马甲</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/unraid-geng-fang-bian-de-wan-zhuan-xia-zai/"" data-c="
          &lt;h3 id=&#34;为什么要这样做&#34;&gt;为什么要这样做&lt;/h3&gt;
&lt;p&gt;9102年了,谁还没蹄子呢👺&lt;br&gt;
下载工具一般也都是直接安装在&lt;code&gt;NAS&lt;/code&gt;上,也没做分离&lt;br&gt;
但是既然用了蹄子,肯定就不能进行p2p下载了👎&lt;br&gt;
应该大部分基友都是搞个OP来煮蹄子吧&lt;br&gt;
&lt;code&gt;lean&lt;/code&gt;的只有煮与不煮&lt;br&gt;
要么就是直接不给&lt;code&gt;NAS&lt;/code&gt;吃蹄子,docker呀之类的,刮削之类呀,就蛮受影响的&lt;br&gt;
&lt;code&gt;Lienol&lt;/code&gt;的可以分用啥方法煮&lt;br&gt;
要么都是给&lt;code&gt;NAS&lt;/code&gt;&lt;strong&gt;GFW模式&lt;/strong&gt;但是我感觉这蛮影响体验的,大部分好使的,但是不在名单内的网址就跟上面一样受到影响了,所以...唉&lt;br&gt;
既然这样,那就只能靠&lt;code&gt;macvlan&lt;/code&gt;了&lt;br&gt;
让&lt;code&gt;NAS&lt;/code&gt;与&lt;code&gt;下载工具&lt;/code&gt;分别拥有单独IP,这样给&lt;code&gt;NAS&lt;/code&gt;吃蹄子,不给&lt;code&gt;下载工具&lt;/code&gt;吃蹄子&lt;br&gt;
问题就完美解决了&lt;/p&gt;
&lt;h3 id=&#34;如何使用&#34;&gt;如何使用&lt;/h3&gt;
&lt;h4 id=&#34;unraid为例&#34;&gt;Unraid为例&lt;/h4&gt;
&lt;p&gt;Unraid最简单了,我们先来看下Docker所使用的网络&lt;br&gt;
在终端中输入&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker network ls
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://s1oz.github.io/post-images/1616218057010.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
看~&lt;strong&gt;br0&lt;/strong&gt;就是,所以我们不需要手动去创建&lt;br&gt;
我们可以直接编辑需要更改的容器&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616218167295.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
在&lt;code&gt;网络类型&lt;/code&gt;中直接选择上面显示的带有&lt;code&gt;macvlan&lt;/code&gt;标识的&lt;code&gt;br0&lt;/code&gt;&lt;br&gt;
然后输入想要设置的同网段的ip&lt;br&gt;
这样这个容器启动后就会被分配为这个ip&lt;br&gt;
容器也不需要如在&lt;code&gt;Bridge&lt;/code&gt;模式一样再次映射端口&lt;br&gt;
相当于弱鸡版本的host模式,容器默认端口多少就是多少&lt;br&gt;
直接&lt;code&gt;ip+端口&lt;/code&gt;即可欢快的访问了访问&lt;/p&gt;
&lt;h4 id=&#34;群晖为例&#34;&gt;群晖为例&lt;/h4&gt;
&lt;p&gt;群晖跟Unraid相比,就是默认没有&lt;code&gt;macvlan&lt;/code&gt;接口&lt;br&gt;
所以需要多几条命令来建立接口&lt;br&gt;
然后再通过命令生成容器设置ip信息&lt;br&gt;
关于群晖使用,看这吧&amp;gt;&lt;a href=&#34;https://bsdcpp.github.io/2020/11/23/Docker-macvlan%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/&#34;&gt;bsdcpp&lt;/a&gt;&amp;lt;大佬已经给出了命令跟实例了,对照着抄即可&lt;/p&gt;
&lt;h3 id=&#34;收尾&#34;&gt;收尾&lt;/h3&gt;
&lt;p&gt;现在容器已经获取到了独立的IP了👍&lt;br&gt;
那为了愉快的使用,我们直接在蹄子的访问控制中给&lt;br&gt;
&lt;code&gt;NAS&lt;/code&gt;&lt;strong&gt;中国列表以外&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;下载工具&lt;/code&gt;&lt;strong&gt;不代理&lt;/strong&gt;&lt;br&gt;
这样&lt;br&gt;
&lt;code&gt;NAS&lt;/code&gt;刮削,下载,访问都畅通无阻了&lt;br&gt;
&lt;code&gt;下载工具&lt;/code&gt;随你上传下载,不走蹄子流量,再也不用担心被&lt;strong&gt;ban&lt;/strong&gt;&lt;/p&gt;
">Unraid更方便的玩转下载</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/docker-an-zhuang-emby-bing-bai-piao/"" data-c="
          &lt;h2 id=&#34;聊聊&#34;&gt;&lt;em&gt;&lt;strong&gt;聊聊&lt;/strong&gt;&lt;/em&gt;&lt;/h2&gt;
&lt;p&gt;海报墙软件好多,但是哪个好用呢,都用过来,体验来体验去我觉得还是Emby比较好😀&lt;br&gt;
&lt;strong&gt;Emby&lt;/strong&gt;:&lt;br&gt;
相对成熟的方案,全平台支持,白嫖后没啥缺点了,感觉缺点可能就是不能直接播放ISO文件跟国产剧命名吧,不过对于我这种只下REMUX的来说不是问题,国产剧..硬链接批量加S1呗~ 大不了不保种直接改名&lt;br&gt;
ISO文件真要看,大不了装kodi插件呗&lt;s&gt;我不看，就不看&lt;/s&gt;&lt;br&gt;
&lt;strong&gt;Jellyfin&lt;/strong&gt;:&lt;br&gt;
基于Emby3.x的开源代码二次开发,相对而言,不能这样说,APP就是垃圾!!&lt;br&gt;
优点就在于免费,10.7.x开始支持ISO文件直接播放,不过app字幕有点问题,刮削反正都用的同样的源,我是没遇到其他网友说的EMBY刮不出.jellyfin好刮的问题,这种问题我觉得一律归为蹄子不香&lt;br&gt;
现在的APP不香,有兴趣的可以用测试版,地址在 &lt;em&gt;&lt;strong&gt;&lt;a href=&#34;https://dev.azure.com/jellyfin-project/jellyfin/_build&#34;&gt;这&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt; 优点是界面改了,好看多了,但是使用体验....你懂的&lt;br&gt;
&lt;strong&gt;Plex&lt;/strong&gt;:&lt;br&gt;
跟emby一样,硬解之类功能需要收费,不过便宜,淘宝大概300+的终身key,(感觉都是黑卡搞来的)&lt;br&gt;
优点在于识别率都高于前面的两个,同样的资源,PLEX识别率电影能有95%剧集95%,其他两个电影大概90%剧集只有50%，能省去很多的手动修正&lt;br&gt;
缺点在于,这憨憨远程访问要过自家服务器验证,对于访问plex服务器不畅通的选手来说,体验不佳&lt;br&gt;
动不动就要转码，ASS字幕转码，虽然可以设置仅图像格式来进行直接播放，但是还是不佳...&lt;br&gt;
至于界面呢,跟EMBY完全不同,萝卜青菜各有所爱嘛~其他也没啥缺点 &lt;s&gt;在我的大法上，就你最卡&lt;/s&gt;&lt;br&gt;
个人感觉Plex是专做流媒体了,emby反正像个本地海报墙&lt;br&gt;
&lt;strong&gt;KODI&lt;/strong&gt;:&lt;br&gt;
我是用不惯,对于海报墙来说,上述几个都比这个好看,可能有点就在于本地直接装一个吧,适合就在电视上安装,刮削nas上的电影,反正也没播放记录同步&lt;br&gt;
&lt;strong&gt;群辉VIDEOSTATION&lt;/strong&gt;:&lt;br&gt;
一开始就是被这玩意儿拉入坑的,额外加持刮削补丁后海报墙体验还不错,尤其对于国产剧集,算是不改名的最优解但是APP呢,不咋滴,个人感觉是不咋滴,支持格式少,要么就安装额外的如mxplayer之类调用播放,&lt;br&gt;
&lt;strong&gt;Infuse&lt;/strong&gt;:&lt;br&gt;
好用是好用,你丫的有本事支持下安卓呀,所以.不说了&lt;br&gt;
可以作为插件支持前面三种,直接读取刮削数据,香&lt;br&gt;
垃圾infuse,安卓都不支持&lt;br&gt;
所以哪个合适自己就选择哪个咯😉&lt;/p&gt;
&lt;h2 id=&#34;搭建伪站&#34;&gt;&lt;em&gt;&lt;strong&gt;搭建伪站&lt;/strong&gt;&lt;/em&gt;&lt;/h2&gt;
&lt;h3 id=&#34;方法1-以unraid自带nginx为例-仅适用小于等于692版本&#34;&gt;&lt;strong&gt;方法1 以Unraid自带nginx为例 仅适用小于等于6.9.2版本&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;安装&lt;code&gt;User Scripts&lt;/code&gt;插件&lt;br&gt;
下载 &lt;em&gt;&lt;strong&gt;&lt;a href=&#34;https://github.com/s1oz/unraid/tree/master/emby_ca&#34;&gt;pem conf&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt; 将pem证书跟conf文件移动到unraid中，如我存放的路径&lt;code&gt;/mnt/user/appdata/ca/&lt;/code&gt;&lt;br&gt;
在&lt;code&gt;User Scripts&lt;/code&gt;插件中新建名为&lt;code&gt;emby&lt;/code&gt;的脚本,并设置为&lt;code&gt;At First Array Start Only&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616134176605.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
点击&lt;code&gt;EDIT SCRIPTS&lt;/code&gt;加入以下内容&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;!/bin/bash
cp -rf /mnt/user/appdata/ca/default.conf /etc/nginx/conf.d/default.conf
nginx -s reload
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;APPLY&lt;/code&gt;保存 再点击&lt;code&gt;RUN SCRIPTS&lt;/code&gt;运行一次脚本&lt;/p&gt;
&lt;h3 id=&#34;方法2-docker一键伪站-推荐&#34;&gt;&lt;strong&gt;方法2 docker一键伪站 推荐&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;已制作docker版伪站，下载设置IP后运行即可&lt;br&gt;
https://hub.docker.com/r/s1oz/embyplus&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker pull s1oz/embyplus:latest
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;额外提一点，伪站基于macvlan，所以emby如果是host模式将无法使用，&lt;s&gt;貌似unriad可设置通信，但貌似会有arp欺诈问题&lt;/s&gt; 请将emby也设置为macvlan给与单独IP&lt;br&gt;
我是直接安装在爱快的docker上了,方便的很&lt;/p&gt;
&lt;h3 id=&#34;方法3-以垃圾群晖为例-建议直接安装第三方已破解的spk更方便-或者docker&#34;&gt;&lt;strong&gt;方法3 以垃圾群晖为例 建议直接安装第三方已破解的spk更方便 或者docker&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;群辉套件之类的..已经有垃圾一键脚本了,&lt;strong&gt;不过转战docker 已经过期了&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;wget -N --no-check-certificate &amp;quot;https://raw.githubusercontent.com/s1oz/embyonekey1/master/embyonekey1.sh&amp;quot; &amp;amp;&amp;amp; chmod +x embyonekey1.sh &amp;amp;&amp;amp; ./embyonekey1.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;大致内容就是群辉安装&lt;code&gt;Web Station&lt;/code&gt;来搭建验证伪站 &lt;s&gt;顺带说一句7.0真垃圾&lt;/s&gt;并添加此文件 &lt;em&gt;&lt;strong&gt;&lt;a href=&#34;https://raw.githubusercontent.com/s1oz/export_embyonekey/master/user.conf&#34;&gt;user.conf&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt;&lt;br&gt;
路径为&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/usr/local/etc/nginx/conf.d/*-*-*-*
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;*-*-*-*&lt;/code&gt;为建立虚拟主机的随机数字的文件夹&lt;br&gt;
替换后以此命令刷新&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;nginx -s reload
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;路由中劫持地址&#34;&gt;&lt;em&gt;&lt;strong&gt;路由中劫持地址&lt;/strong&gt;&lt;/em&gt;&lt;/h2&gt;
&lt;p&gt;OP为例 &lt;code&gt;hosts&lt;/code&gt;中添加以下信息&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  192.168.1.10 mb3admin.com
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果有IPV6的,要么勾选&lt;code&gt;禁止解析 IPv6 DNS 记录&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616134857968.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
要么就&lt;code&gt;hosts&lt;/code&gt;中加入ipv6地址劫持&lt;/p&gt;
&lt;h2 id=&#34;安装emby&#34;&gt;&lt;em&gt;&lt;strong&gt;安装Emby&lt;/strong&gt;&lt;/em&gt;&lt;/h2&gt;
&lt;p&gt;以unraid为例，应用中搜素&lt;code&gt;Emby&lt;/code&gt;,选择&lt;code&gt;EmbyServerBeta (BETA)&lt;/code&gt;安装  🤞反正我是喜欢追新&lt;br&gt;
里面根据自己片子目录映射,docker都一样，需要注意的就是两点&lt;br&gt;
&lt;strong&gt;添加核显&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616135529324.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;s&gt;映射dll补丁  作者关闭伪站已失效&lt;/s&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616135545157.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;用远古方法替换&lt;a href=&#34;https://raw.githubusercontent.com/s1oz/unraid/master/emby_ca/ca-certificates.crt&#34;&gt;证书&lt;/a&gt;白嫖 建议给只读权限，图片懒得改了&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1634780325837.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
然后点击应用即可,以后如果官方更新,直接点更新即可,完全不影响,这样即可完美追新&lt;/p&gt;
&lt;h2 id=&#34;愉快的使用&#34;&gt;&lt;em&gt;&lt;strong&gt;愉快的使用&lt;/strong&gt;&lt;/em&gt;&lt;/h2&gt;
&lt;p&gt;打开emby界面,随意在&lt;code&gt;Emby Premiere密钥&lt;/code&gt;栏中输入激活码,点击保存即可激活会员权益&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1636160447124.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
再看下转码-高级中是否已经出现显卡&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616135948756.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
如果都有,那你已经成功白嫖了&lt;br&gt;
既然已经用上了beta版服务器的特性,那也需要beta版的TV端APP支援呀&lt;br&gt;
所以我们要安装最新的原版或者解锁的APP 点这&lt;br&gt;
&lt;em&gt;&lt;strong&gt;&lt;a href=&#34;https://drive.google.com/drive/folders/1DWstWs6p3WBi12D9gmQTZIfUiBGSqg7d&#34;&gt;Android推荐NoisyX版&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt;&lt;br&gt;
&lt;em&gt;&lt;strong&gt;&lt;a href=&#34;https://emby.media/community/index.php?/topic/42240-emby-android-tv-release-notes-beta/&#34;&gt;原版TVAPP&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt;&lt;br&gt;
&lt;em&gt;&lt;strong&gt;&lt;a href=&#34;https://forum.release-apk.com/viewtopic.php?t=107091&#34;&gt;Android 解锁&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt;&lt;br&gt;
&lt;em&gt;&lt;strong&gt;&lt;a href=&#34;https://forum.release-apk.com/viewtopic.php?f=27&amp;amp;t=106687&amp;amp;sid=4f2374e62f3180bd5da0561f73c9747d&#34;&gt;Android TV 解锁&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt;&lt;br&gt;
虽然TV的APP安装后显示过期,但是完全不影响硬解哦😎&lt;br&gt;
为了更愉快的使用,如刮削不出,封面不完整 &lt;strong&gt;&lt;strong&gt;请配合蹄子,蹄子越香口感越好&lt;/strong&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;可能会遇到的问题&#34;&gt;&lt;em&gt;&lt;strong&gt;可能会遇到的问题&lt;/strong&gt;&lt;/em&gt;&lt;/h2&gt;
&lt;h3 id=&#34;核显调用&#34;&gt;核显调用&lt;/h3&gt;
&lt;p&gt;现在的人,永远就自动照搬,不看官方更新,请不要在go文件中添加&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    modprobe i915
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;因为从beta35开始,官方就给出了此方法&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    mkdir /boot/config/modprobe.d
    touch /boot/config/modprobe.d/i915.conf
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Unraid 默认会屏蔽显卡驱动,所以通过新建同名文件的方法来解除屏蔽,这样创建后,开机默认会加载核显&lt;br&gt;
请不要在go文件中添加这个了&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;chmod -R 777 /dev/dri
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;6.9.1开始,默认会给容器中调用显卡设置为0777权限了&lt;br&gt;
所以只需要选择添加设备,填入&lt;code&gt;/dev/dri&lt;/code&gt;即可&lt;/p&gt;
&lt;h3 id=&#34;emby服务器没有小黄标&#34;&gt;Emby服务器没有小黄标&lt;/h3&gt;
&lt;p&gt;请自行排查&lt;code&gt;mb3admin.com&lt;/code&gt;网址劫持到unriad所搭建的验证伪站&lt;br&gt;
一般都是默认解析ipv6域名造成的,禁用或者添加解析即可&lt;/p&gt;
&lt;h3 id=&#34;windows浏览器没有小黄标&#34;&gt;windows浏览器没有小黄标&lt;/h3&gt;
&lt;p&gt;浏览器看片,windows需要安装&lt;a href=&#34;https://raw.githubusercontent.com/s1oz/unraid/master/emby_ca/GMCert.cer&#34;&gt;GMCert.cer&lt;/a&gt;证书，安装至受信任的根证书颁发机构&lt;br&gt;
如浏览器还是显示未激活,请先用浏览器访问此地址测试是否正常&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;https://mb3admin.com/admin/service/registration/validateDevice
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如正常显示,重启下电脑试试吧😃&lt;br&gt;
或者直接用&lt;a href=&#34;https://drive.google.com/drive/folders/18ZIXrO7P4FSFbdL-ERE3vU2jb0UInL2B&#34;&gt;电脑客户端&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;ios设备无法正常使用&#34;&gt;IOS设备无法正常使用&lt;/h3&gt;
&lt;p&gt;建议用各种工具覆写&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!name=Emby Premiere
#!desc=Emby Premiere Unlock

[Script]
EmbyPremiere.js = type=http-response,pattern=^https?:\/\/mb3admin.com\/admin\/service\/registration\/validateDevice,requires-body=1,max-size=0,script-path=https://gitlab.com/iptv-org/embypublic/-/raw/master/Script/EmbyPremiere.js

[MITM]
hostname = %APPEND% mb3admin.com
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;android设备无法正常使用&#34;&gt;Android设备无法正常使用&lt;/h3&gt;
&lt;p&gt;建议都用手机版本开电视模式,TV版本弱鸡&lt;br&gt;
&lt;a href=&#34;https://drive.google.com/drive/folders/1DWstWs6p3WBi12D9gmQTZIfUiBGSqg7d&#34;&gt;手机端解锁APP&lt;/a&gt;&lt;/p&gt;
">安装Emby并白嫖</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/pxeabb-bei-fen-hui-fu-hao-bang-shou/"" data-c="
          &lt;h3 id=&#34;pxe跟abb是啥&#34;&gt;&lt;em&gt;&lt;strong&gt;PXE跟ABB是啥&lt;/strong&gt;&lt;/em&gt;&lt;/h3&gt;
&lt;h4 id=&#34;pxe&#34;&gt;PXE:&lt;/h4&gt;
&lt;p&gt;预启动执行环境（Preboot eXecution Environment，PXE，也被称为预执行环境）提供了一种使用网络接口（Network Interface）启动计算机的机制。这种机制让计算机的启动可以不依赖本地数据存储设备（如硬盘）或本地已安装的操作系统。&lt;/p&gt;
&lt;h4 id=&#34;abb&#34;&gt;ABB:&lt;/h4&gt;
&lt;p&gt;(Active Backup for Business)使您可从Synology NAS 的一个中央控制台管理所有VMware、Hyper-V、Windows 设备和文件服务器备份。快速可靠的恢复选项借助用于 Windows 设备、虚拟机和单个文件的即时还原选项，帮助您在面临灾难时仍可运行基本服务。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;所以通过这两个搭配可以利用群辉来实现无盘启动安装系统跟恢复备份镜像&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;需要做啥准备工作&#34;&gt;&lt;em&gt;&lt;strong&gt;需要做啥准备工作&lt;/strong&gt;&lt;/em&gt;&lt;/h3&gt;
&lt;h4 id=&#34;群辉安装所需套件&#34;&gt;群辉安装所需套件&lt;/h4&gt;
&lt;p&gt;套件中心安装&lt;code&gt;Active Backup for Business&lt;/code&gt; &lt;code&gt;Web Station&lt;/code&gt; &lt;code&gt;PHP 7.0&lt;/code&gt;这三个套件&lt;/p&gt;
&lt;h4 id=&#34;下载所需文件&#34;&gt;下载所需文件&lt;/h4&gt;
&lt;p&gt;压缩包中含有支持uefi启动的pxe跟集成abb的pe的压缩包 &lt;em&gt;&lt;strong&gt;&lt;a href=&#34;https://&#34;&gt;这&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h4 id=&#34;配置文件路径&#34;&gt;配置文件路径&lt;/h4&gt;
&lt;p&gt;在群辉-控制面板-共享文件夹-新增&lt;code&gt;uefi&lt;/code&gt;文件夹&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616154472486.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
将压缩包解压后放置在此目录中&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616154468238.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
并将文件夹中的&lt;code&gt;boot.ipxe.cfg&lt;/code&gt;中的&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616155457362.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;set nas_ip 192.168.2.101
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ip改为自己群辉的ip&lt;/p&gt;
&lt;h4 id=&#34;建立虚拟主机&#34;&gt;建立虚拟主机&lt;/h4&gt;
&lt;p&gt;在&lt;code&gt;Web Stasion&lt;/code&gt;中新增虚拟机 如图配置&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616154716349.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
端口默认&lt;code&gt;6666&lt;/code&gt;&lt;br&gt;
文件根目录下为刚刚新建的&lt;code&gt;uefi&lt;/code&gt;文件夹&lt;br&gt;
下方选择&lt;code&gt;Nginx&lt;/code&gt;跟&lt;code&gt;PHP7.0&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;启用群辉tftp服务&#34;&gt;启用群辉TFTP服务&lt;/h4&gt;
&lt;p&gt;群晖-控制面板-TFTP&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616154850844.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
勾选&lt;em&gt;启用TFTP服务&lt;/em&gt;&lt;br&gt;
TFTP跟文件夹选择刚刚新增的&lt;code&gt;uefi&lt;/code&gt;文件夹&lt;/p&gt;
&lt;h4 id=&#34;路由器tftp指向群辉&#34;&gt;路由器TFTP指向群辉&lt;/h4&gt;
&lt;p&gt;以OP为例,在dnsmasq文件中添加以下代码&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616155500607.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;enable-tftp
dhcp-boot=ipxe.efi,,192.168.1.2.101
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;ipxe.efi&lt;/code&gt;为uefi启动文件&lt;br&gt;
&lt;code&gt;192.168.1.2.101&lt;/code&gt;为群辉ip&lt;br&gt;
&lt;strong&gt;插播一点,为什么不把所有文件直接放在OP上呢?&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;这不是手残党路由定时要刷机嘛,相对而言,NAS炸鸡的机会比较少了&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;所有...群辉比较稳..嗯...相对比较稳&lt;/strong&gt;😱&lt;/p&gt;
&lt;h4 id=&#34;设置bios&#34;&gt;设置bios&lt;/h4&gt;
&lt;p&gt;电脑连接网线&lt;br&gt;
bios中开启pxe启动相关选项&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616155154301.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
并调整启动顺序&lt;br&gt;
&lt;strong&gt;如卡pe无法进入,请检查bios是否开启安全启动,如有关闭即可正常启动&lt;/strong&gt;&lt;br&gt;
到此配置结束&lt;/p&gt;
&lt;h3 id=&#34;启动后可以干嘛&#34;&gt;&lt;em&gt;&lt;strong&gt;启动后可以干嘛&lt;/strong&gt;&lt;/em&gt;&lt;/h3&gt;
&lt;h4 id=&#34;连接pxe服务器并启动到pe&#34;&gt;连接PXE服务器并启动到PE&lt;/h4&gt;
&lt;p&gt;上电!开机!&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616156310970.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;利用abb恢复之前备份的镜像&#34;&gt;利用ABB恢复之前备份的镜像&lt;/h4&gt;
&lt;p&gt;进入到PE后点击&lt;code&gt;是,启用共享并连接到设备&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616156365757.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
然后该怎么做不用我说了吧🤣&lt;br&gt;
桌面的&lt;code&gt;Synology Recovery Tool&lt;/code&gt;文件夹的&lt;code&gt;recovery.exe&lt;/code&gt;&lt;br&gt;
就是群辉的恢复工具,双击打开&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616156533245.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
登陆后选择备份恢复即可&lt;/p&gt;
&lt;h4 id=&#34;利用winntstup安装系统&#34;&gt;利用WinNTStup安装系统&lt;/h4&gt;
&lt;p&gt;通过smb服务连接到群辉&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616156663165.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
加载群辉上的系统安装镜像&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1616156673333.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;萝卜青菜各有索爱嘛&lt;br&gt;
&lt;strong&gt;同理,如果PE上的ABB软件过于陈旧,可以下载了放置在群辉上,挂载后使用&lt;/strong&gt;&lt;/p&gt;
">PXE+ABB 备份恢复好帮手</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/chang-hong-dian-shi-ji-xin-zls70hi5-ping-bi-guang-gao-qu-sheng-ji-jing-jian-gu-jian/"" data-c="
          &lt;h3 id=&#34;入错电视&#34;&gt;入错电视&lt;/h3&gt;
&lt;p&gt;年轻人不懂事，不知大法好&lt;br&gt;
看介绍写着支持&lt;strong&gt;杜比世界&lt;/strong&gt;,然后鬼迷心窍&lt;br&gt;
居然买过国产电视&lt;br&gt;
国内厂商清一色的&lt;strong&gt;瀑布流UI&lt;/strong&gt;&lt;br&gt;
然后各种广告，感觉怎么用怎么不爽&lt;br&gt;
个人还是倾向与&lt;strong&gt;原生安卓TV&lt;/strong&gt;的界面&lt;br&gt;
所以，最后还是投入了大法的怀抱&lt;br&gt;
&lt;strong&gt;大法真香&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;该下刀子还是要下&#34;&gt;该下刀子还是要下&lt;/h3&gt;
&lt;h4 id=&#34;毒瘤几点&#34;&gt;毒瘤几点&lt;/h4&gt;
&lt;p&gt;瀑布流推荐不符合喜欢 看电视都是有明确看啥！所以这玩意太影响操作吧，把应用放在最右边的，又在最底部&lt;br&gt;
现在的app软件已经自带广告了，你个电视还懂不懂弹个广告烦不烦&lt;br&gt;
固件限制安装其他apk，响应郭嘉号召，后期固件更新已经不支持自己安装apk了&lt;br&gt;
系统自动没用的软件太多，臃肿卡顿&lt;/p&gt;
&lt;h3 id=&#34;如何切除毒瘤制作专有固件&#34;&gt;如何切除毒瘤制作专有固件&lt;/h3&gt;
&lt;p&gt;####流程大概就是 断网刷入原版老固件&amp;gt;后刷入自制的精简包&lt;br&gt;
下载这两个软件&lt;br&gt;
电视固件解包工具  &lt;em&gt;&lt;strong&gt;&lt;a href=&#34;https://github.com/dipcore/mstar-bin-tool&#34;&gt;这&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt;&lt;br&gt;
python环境 &lt;em&gt;&lt;strong&gt;&lt;a href=&#34;https://www.python.org/downloads/&#34;&gt;这&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt;&lt;br&gt;
蘑菇rom助手 &lt;em&gt;&lt;strong&gt;&lt;a href=&#34;https://www.baidu.com&#34;&gt;这&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt;&lt;br&gt;
安装python后解包原版固件准备精简&lt;br&gt;
&lt;code&gt;unpack.py&lt;/code&gt; 为解包命令&lt;br&gt;
在&lt;code&gt;mstar-bin-tool-master&lt;/code&gt;目录中使用命令行解压固件&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;unpack.py upgrade_ZLS70Hi5_V1.00039.bin
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://s1oz.github.io/post-images/1620801153239.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
解包后的固件目录为&lt;code&gt;unpacked&lt;/code&gt;我们需要的是目录中的&lt;code&gt;system.img&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1620801241683.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
用rom编辑助手打开&lt;code&gt;system.img&lt;/code&gt;准备编辑&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1620801394374.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
要做的就是&lt;strong&gt;apk精简&lt;/strong&gt;.删除我们不需要的毒瘤&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1620801544018.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
替换&lt;code&gt;hosts&lt;/code&gt;文件来屏蔽所有自带广告做到干净的桌面&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1620801584253.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
插播一点,关于&lt;code&gt;hosts&lt;/code&gt;中地址的抓包方法,我的方法如下&lt;br&gt;
op搭建AdGuardHome&lt;br&gt;
电视无线连接至网络&lt;br&gt;
adg中收集一切尝试联网的网址&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;127.0.0.1 localhost
127.0.0.1 0.cn.pool.ntp.orgtvuser-ch.cedock.com
127.0.0.1 cn.pool.ntp.orgtvuser-ch.cedock.com
127.0.0.1 adashbc.ut.taobao.com
127.0.0.1 ads.huan.tv
127.0.0.1 adservice.chsmarttv.com
127.0.0.1 alicdn.epg.huan.tv
127.0.0.1 api.launcher.smart-tv.cn
127.0.0.1 apilauncher.smart-tv.cn
127.0.0.1 app-upgrade.smart-tv.cn
127.0.0.1 authenticate.chiq-cloud.com
127.0.0.1 ch.xmpp.huan.tv
127.0.0.1 chc.ads.huan.tv
127.0.0.1 chiq5.smart-tv.cn
127.0.0.1 commdata.v.qq.com
127.0.0.1 config.chsmarttv.com
127.0.0.1 d.appstore.huan.tv
127.0.0.1 d.chapp.huan.tv
127.0.0.1 data.chsmarttv.com
127.0.0.1 date.chsmarttv.com
127.0.0.1 date.hpplay.com.cn
127.0.0.1 dev.voicecloud.cn
127.0.0.1 domain.aishengji.com
127.0.0.1 download.changhong.upgrade2.huan.tv
127.0.0.1 downloadxml.changhong.upgrade2.huan.tv
127.0.0.1 esw.tymcdn.com
127.0.0.1 game.loveota.com
127.0.0.1 hxqd.openspeech.cn
127.0.0.1 iapi.chiq-cloud.com
127.0.0.1 imdns.hpplay.cn
127.0.0.1 input.shouji.sougou.com
127.0.0.1 itv.voicecloud.cn
127.0.0.1 itv2-id.openspeech.cn
127.0.0.1 itv2-ip.openspeech.cn
127.0.0.1 itv2-up.openspeech.cn
127.0.0.1 jfapi.chiq-cloud.com
127.0.0.1 launcher.smart-tv.cn
127.0.0.1 launcherimg.smart-tv.cn
127.0.0.1 livemonitor.huan.tv
127.0.0.1 loc.map.baidu.com
127.0.0.1 log.appstore3.huan.tv
127.0.0.1 log.vcgame.cn
127.0.0.1 mission-pub.smart-tv.cn
127.0.0.1 monitor.uu.qq.com
127.0.0.1 newvoice.chiq5.smart-tv.cn
127.0.0.1 ntp.tuxfamily.net
127.0.0.1 pingma.qq.com
127.0.0.1 plbslog.umeng.com
127.0.0.1 rp.hpplay.cn
127.0.0.1 s3a.time.edu.cn
127.0.0.1 scs.openspeech.cn
127.0.0.1 sdkauth.hpplay.cn
127.0.0.1 sdkconfig.video.qq.com
127.0.0.1 service.changhong.upgrade2.huan.tv
127.0.0.1 ss.chiq-cloud.com
127.0.0.1 sys-update.ch.hifuntv.com
127.0.0.1 thirdapp.appstore.huan.tv
127.0.0.1 time.chiq-cloud.com
127.0.0.1 tvlogon.chiq-cloud.com
127.0.0.1 tvms.chiq-cloud.com
127.0.0.1 tvuser-ch.cedock.com
127.0.0.1 uapi.chiq-cloud.com
127.0.0.1 ub.analysis.huan.tv
127.0.0.1 ulogs.umeng.com
127.0.0.1 update.lejiao.tv
127.0.0.1 vv.video.qq.com
127.0.0.1 www.epg.huan.tv
127.0.0.1 openapp.ch.hifuntv.com.lan
127.0.0.1 openapp.ch.hifuntv.com
127.0.0.1 sr.super-ssp.tv
127.0.0.1 cdn.hpplay.com.cn
127.0.0.1 data.openspeech.cn
127.0.0.1 data.hpplay.com.cn
127.0.0.1 input.shouji.sogou.com
127.0.0.1 localhost.lan
127.0.0.1 umeng.online
127.0.0.1 hifuntv.com
127.0.0.1 huan.tv
127.0.0.1 chsmarttv.com
127.0.0.1 chiq-cloud.com
127.0.0.1 lejiao.tv
127.0.0.1 smart-tv.cn
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;一切修改完毕后,点击&lt;strong&gt;开始封装&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://s1oz.github.io/post-images/1620801921461.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
完成后我们获得了一个容量小很多的img镜像&lt;br&gt;
在&lt;code&gt;mstar-bin-tool-master&lt;/code&gt;目录中新建一个&lt;code&gt;pack&lt;/code&gt;目录,将此精简过的img拷贝到&lt;code&gt;pack&lt;/code&gt;中&lt;br&gt;
&lt;code&gt;pack.py&lt;/code&gt; 为打包命令&lt;br&gt;
在&lt;code&gt;mstar-bin-tool-master&lt;/code&gt;目录中使用命令行打包固件&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;pack.py configs\xgimi.ini
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://s1oz.github.io/post-images/1620802277767.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;到此,精简包制作结束&lt;/p&gt;
&lt;h3 id=&#34;现在来搞机吧&#34;&gt;现在来搞机吧😡&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;将原版固件拷贝至&lt;code&gt;fat32&lt;/code&gt;格式的U盘&amp;gt;电视机断电关机&amp;gt;插入U盘&amp;gt;长按电源键进入自动刷机&amp;gt;开启后在连接遥控器界面连接完毕后关机&amp;gt;将U盘的固件替换为精简包再次插入&amp;gt;长按电源键进入自动刷机&amp;gt;联网正常使用&lt;/strong&gt;&lt;/p&gt;
">长虹电视机芯ZLS70Hi5屏蔽广告去升级精简固件</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/unraid-bei-wang-lu/"" data-c="
          &lt;h3 id=&#34;系统下载&#34;&gt;系统下载&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;https://unraid.net/download
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;插件&#34;&gt;插件&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;Advanced Copy and Move&lt;/code&gt;提供cp mv 图形进度条&lt;br&gt;
&lt;code&gt;CA Auto Update Applications&lt;/code&gt; 自动更新插件跟docker&lt;br&gt;
&lt;code&gt;CA Cleanup Appdata&lt;/code&gt; 清理删除容器后的映射的残留目录&lt;br&gt;
&lt;code&gt;CA Config Editor&lt;/code&gt; 系统配置文件编辑工具 #6.10+弃用&lt;br&gt;
&lt;code&gt;Community Applications&lt;/code&gt;应用商店&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#商店安装地址
https://raw.githubusercontent.com/Squidly271/community.applications/master/plugins/community.applications.plg
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;Compose.Manager&lt;/code&gt;支持docker-compose&lt;br&gt;
&lt;code&gt;Custom Tab&lt;/code&gt; web页面添加额外窗口&lt;br&gt;
&lt;code&gt;Dev Tools&lt;/code&gt;dev软件包 #6.11+弃用&lt;br&gt;
&lt;code&gt;Dynamix File Manager&lt;/code&gt;内置文件管里器&lt;br&gt;
&lt;code&gt;Dynamix Schedules&lt;/code&gt;修改内置定时任务执行时间&lt;br&gt;
&lt;code&gt;Dynamix System Buttons&lt;/code&gt;一键关机重启&lt;br&gt;
&lt;code&gt;Dynamix System Information&lt;/code&gt; 系统信息显示&lt;br&gt;
&lt;code&gt;Dynamix System Statistics&lt;/code&gt; 图表显示资源占用信息&lt;br&gt;
&lt;code&gt;Dynamix System Temperature&lt;/code&gt; 添加温度显示&lt;br&gt;
&lt;code&gt;Dynamix WireGuard&lt;/code&gt; 简易的VPN #6.10.x开始自带&lt;br&gt;
&lt;code&gt;Fix Common Problems&lt;/code&gt; 系统诊断&lt;br&gt;
&lt;code&gt;GUI Links&lt;/code&gt; 添加底部论坛常用链接&lt;br&gt;
&lt;code&gt;Intel GPU TOP&lt;/code&gt;核显信息显示&lt;br&gt;
&lt;code&gt;Intel GVT-g&lt;/code&gt;核显开启GTV-G&lt;br&gt;
&lt;code&gt;LXC&lt;/code&gt;&lt;br&gt;
&lt;code&gt;Libvirt Hotplug USB&lt;/code&gt;USB设备管理工具&lt;br&gt;
&lt;code&gt;Nerd Tools&lt;/code&gt;额外安装包管理工具 &lt;em&gt;perl温度显示依赖 netho 实时流量可按进程或IP排序&lt;/em&gt; #6.11+弃用&lt;br&gt;
&lt;code&gt;Network UPS Tools (NUT)&lt;/code&gt;BK650M-CH 通过连接群晖上的ups曲线救国&lt;br&gt;
&lt;code&gt;rclone&lt;/code&gt;挂载阿里云盘&lt;br&gt;
&lt;code&gt;Recycle Bin&lt;/code&gt;smb回收站&lt;br&gt;
&lt;code&gt;Tips and Tweaks&lt;/code&gt;设置电源模式&lt;br&gt;
&lt;code&gt;Unassigned Devices&lt;/code&gt;挂载非阵列中的硬盘&lt;br&gt;
&lt;code&gt;Unraid.net&lt;/code&gt;官方U盘云备份工具 改名&lt;code&gt;My Servers&lt;/code&gt;&lt;br&gt;
&lt;code&gt;UPnP Monitor&lt;/code&gt; 此插件为您提供了网络上的UPnP活动的可见性&lt;br&gt;
&lt;code&gt;User Scripts&lt;/code&gt;添加自定义脚本&lt;/p&gt;
&lt;p&gt;&lt;em&gt;延迟挂载虚拟黑群smb&lt;/em&gt;&lt;br&gt;
&lt;em&gt;需挂载至已存在目录,如无需先手动创建&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash
mkdir /mnt/remotes/NAS_files
sleep 5m
/sbin/mount -t cifs //[NASIP]/files /mnt/remotes/NAS_files -o rw,username=user,password=passwd
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;wol唤醒pc&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash
etherwake 1C:1B:0D:05:42:00
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;开机自动运行powertop节能&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash
sleep 5m
powertop --auto-tune 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;定时备份QB数据&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash
zip -r /mnt/remotes/NAS_files/qb_settings/bak_`date &#39;+%Y%m%d_%H.%M.%S&#39;`.zip /mnt/user/appdata/qb
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;同步到垃圾群晖&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash
rsync -aqP /mnt/user/files/ /mnt/remotes/NAS_files/unraid &amp;amp;&amp;amp; rsync -aqP /mnt/user/files/ /mnt/remotes/NAS_files/unraid &amp;amp;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;解锁N卡转码数量限制&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash
wget https://raw.githubusercontent.com/keylase/nvidia-patch/master/patch.sh
chmod +x ./patch.sh
./patch.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;开启rclone挂载aliyun&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash
sleep 1m &amp;amp;&amp;amp; rclone mount aliyun:rclone /mnt/user/bt/aliyun --umask 0000 --default-permissions --allow-non-empty --allow-other --buffer-size 32M --low-level-retries 200 --dir-cache-time 2h --vfs-read-chunk-size 64M --vfs-read-chunk-size-limit 1G &amp;amp;&amp;amp; sleep 1m &amp;amp;&amp;amp; docker start Emby &amp;amp;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;停止阵列时取消挂载aliyun&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash
fusermount -qzu /mnt/user/bt/aliyun &amp;amp;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;定时备份kvm数据&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash
#backs up
#change the location below to your backup location 
backuplocation=&amp;quot;/mnt/user/files/&amp;quot;
# do not alter below this line
timestamp=`date &#39;+%Y-%m-%d__%H-%M-%S&#39;`
dir=&amp;quot;$backuplocation&amp;quot;vm_settings/&amp;quot;$timestamp&amp;quot;
# dont change anything below here
if [ ! -d $dir ] ; then
 
			echo &amp;quot;making folder for todays date $timestamp&amp;quot;

			# make the directory as it doesnt exist
			mkdir -vp $dir
		else
			echo &amp;quot;As $dir exists continuing.&amp;quot;
			fi

echo &amp;quot;Saving vm xml files&amp;quot;
rsync -a --no-o /etc/libvirt/qemu/*xml $dir/xml/
echo &amp;quot;Saving ovmf nvram&amp;quot;
rsync -a --no-o /etc/libvirt/qemu/nvram/* $dir/nvram/
chmod -R 777 $dir

		echo &amp;quot;information: creating ZIP-archive and cleaning up old data&amp;quot;
    zip -r -9 &amp;quot;$backuplocation&amp;quot;vm_settings/&amp;quot;$timestamp&amp;quot;.zip &amp;quot;$backuplocation&amp;quot;vm_settings/&amp;quot;$timestamp&amp;quot; &amp;amp;&amp;amp; rm -r &amp;quot;$backuplocation&amp;quot;vm_settings/&amp;quot;$timestamp&amp;quot; 

		# Amendmend to the original script of danioj by Deeks 2017
		# Delete all backups older than 2 days ONLY if newer files exist
		# Two remarks for quick and easy testing 
		# 1. Line 148 : Set parameter --&amp;gt; actually_copy_files=&amp;quot;0&amp;quot;
		# 2. Lines 1068 &amp;amp; line 1070 : Use parameter -mmin in stead of -mtime to test with minutes rather than days
		
		# Credits for this code to JBRELAND on https://tinyurl.com/ycrrbobv

		echo &amp;quot;information: cleaning out backups older than 30 days in location ONLY if newer files exist&amp;quot; $backuplocation/
		for j in $backuplocation/
		do
		  if [[ -n $(find &amp;quot;$j&amp;quot; -type f -mtime -29) ]]; then
		    #echo &amp;quot;debug: valid criteria to enter loop&amp;quot;
		    find &amp;quot;$j&amp;quot; -type f -mtime +30 -exec rm -f {} \;
		  fi 
		  #echo &amp;quot;debug: ended if sequence after loop&amp;quot;
		done

sleep 5
exit
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;Wake On Lan support&lt;/code&gt;添加wol唤醒功能&lt;/p&gt;
&lt;h3 id=&#34;docker&#34;&gt;Docker&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;apachewebdav/apachewebdav&lt;/code&gt; 群晖备份服务器&lt;br&gt;
&lt;code&gt;p3terx/aria2-pro&lt;/code&gt;http下载工具&lt;br&gt;
&lt;code&gt;superng6/bilibili-helper&lt;/code&gt;B站签到&lt;br&gt;
&lt;code&gt;cloudnas/clouddrive&lt;/code&gt;挂载阿里云盘&lt;br&gt;
&lt;code&gt;emby/embyserver:beta&lt;/code&gt; 管理电影跟剧集&lt;br&gt;
&lt;code&gt;s1oz/embyplus&lt;/code&gt;emby的docker伪站&lt;br&gt;
&lt;code&gt;xavierh/goaccess-for-nginxproxymanager&lt;/code&gt;中文npm日志分析&lt;br&gt;
&lt;code&gt;epicgames-claimer&lt;/code&gt;白嫖游戏&lt;br&gt;
&lt;code&gt;gotify/server&lt;/code&gt;自定义推送通知&lt;br&gt;
&lt;code&gt;sancraftdev/nginx-proxy-manager&lt;/code&gt;npm反代&lt;br&gt;
&lt;code&gt;filerun/filerun&lt;/code&gt;Unraid文件管理&lt;br&gt;
&lt;code&gt;iyuucn/iyuuplus:latest&lt;/code&gt; 自动辅种&lt;br&gt;
&lt;code&gt;s1oz/lux&lt;/code&gt;在线视频下载 原annie&lt;br&gt;
&lt;code&gt;nevinee/qbittorrent&lt;/code&gt; PT主力&lt;br&gt;
&lt;code&gt;superng6/qbittorrentee&lt;/code&gt; BT主力&lt;br&gt;
&lt;code&gt;whyour/qinglong&lt;/code&gt;薅狗东羊毛&lt;br&gt;
&lt;code&gt;adolfintel/speedtest&lt;/code&gt; 网络测速&lt;br&gt;
&lt;code&gt;diygod/rsshub&lt;/code&gt;rss订阅&lt;br&gt;
&lt;code&gt;tindy2013/subconverter&lt;/code&gt;订阅转换后端&lt;br&gt;
&lt;code&gt;spacemeowx2/switch-lan-play&lt;/code&gt;switch自建联机服务器&lt;br&gt;
&lt;code&gt;s1oz/lanplay&lt;/code&gt;switch自建联机服务器客户端&lt;br&gt;
&lt;code&gt;s1oz/webdav-aliyundriver&lt;/code&gt;阿里云盘webdav服务&lt;br&gt;
&lt;code&gt;https://github.com/s1oz/unraid&lt;/code&gt;模板储存库&lt;/p&gt;
&lt;h4 id=&#34;啥时候boom了重来记得磁盘格式默认btrfs&#34;&gt;啥时候boom了重来记得磁盘格式默认Btrfs&lt;/h4&gt;
">Unraid备忘录</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/windows-bei-wang-lu/"" data-c="
          &lt;h3 id=&#34;原版系统下载&#34;&gt;原版系统下载&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;&lt;a href=&#34;https://msdn.itellyou.cn/&#34;&gt;旧界面&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt;  &lt;em&gt;&lt;strong&gt;&lt;a href=&#34;https://next.itellyou.cn/&#34;&gt;新界面&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&#34;精简系统下载&#34;&gt;精简系统下载&lt;/h3&gt;
&lt;p&gt;三杰ltsc &lt;em&gt;&lt;strong&gt;&lt;a href=&#34;https://pan.baidu.com/s/1ucjtIR89Q3EWpBuhF6BydA&#34;&gt;提取码: 8jyi&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt;&lt;br&gt;
不忘初心 &lt;em&gt;&lt;strong&gt;&lt;a href=&#34;https://www.pc521.net/&#34;&gt;官网&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt;&lt;br&gt;
WES7 &lt;em&gt;&lt;strong&gt;&lt;a href=&#34;https://pan.baidu.com/s/1t9v5fXlKC2IDTbnzGaTmVg&#34;&gt;提取码: wvsy&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&#34;pe下载&#34;&gt;PE下载&lt;/h3&gt;
&lt;p&gt;双心PE &lt;em&gt;&lt;strong&gt;&lt;a href=&#34;http://wuyou.net/forum.php?mod=viewthread&amp;amp;tid=416308&#34;&gt;无忧论坛&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&#34;补丁&#34;&gt;补丁&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;&lt;a href=&#34;https://pockies.github.io/2018/02/08/ltsb-install-uwp/&#34;&gt;Windows10 LTSB/LTSC版安装应用商店与UWP&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&#34;激活&#34;&gt;激活&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;&lt;a href=&#34;https://www.moerats.com/kms/&#34;&gt;KMS激活脚本&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt;&lt;br&gt;
&lt;em&gt;&lt;strong&gt;&lt;a href=&#34;https://51.ruyo.net/16911.html/&#34;&gt;数字权利激活&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&#34;软件&#34;&gt;软件&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;&lt;a href=&#34;https://weibo.com/u/1112829033&#34;&gt;Adobe @vposy&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt;&lt;br&gt;
&lt;em&gt;&lt;strong&gt;&lt;a href=&#34;https://github.com/hooke007/MPV_lazy&#34;&gt;MPV懒人包&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
">Windows备忘录</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/openwrt-bei-wang-lu/"" data-c="
          &lt;h3 id=&#34;模板选择&#34;&gt;模板选择&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;https://github.com/P3TERX/Actions-OpenWrt
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;源码选择&#34;&gt;源码选择&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;https://github.com/Lienol/openwrt
https://github.com/coolsnowwolf/lede
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;插件仓库选择&#34;&gt;插件仓库选择&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;https://github.com/siropboy/mypackages
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;https://github.com/jerrykuku/openwrt-package
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;https://github.com/xiaorouji/openwrt-passwall
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;命令&#34;&gt;命令&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;#ssh编译命令
cd openwrt &amp;amp;&amp;amp; make menuconfig
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;#ssh界面获取config
./scripts/diffconfig.sh &amp;gt; seed.config
cat seed.config
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;#上传tmp刷机命令
dd if=/tmp/upload/op.img of=/dev/sda
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;#echo &#39;替换UPNP为2.0.20170421&#39;
rm -rf feeds/packages/net/miniupnpd
svn co https://github.com/coolsnowwolf/packages/trunk/net/miniupnpd feeds/packages/net/miniupnpd
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;#echo &#39;修改默认IP为10.0.0.1&#39;
sed -i &#39;s/192.168.1.1/10.0.0.1/g&#39; package/base-files/files/bin/config_generate
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;#修改版本号
sed -i &#39;s/OpenWrt/xxxx $(TZ=UTC-8 date &amp;quot;+%Y.%m.%d&amp;quot;) @ OpenWrt/g&#39; package/lean/default-settings/files/zzz-default-settings
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;echo &#39;重定向dns&#39;
sed -i &#39;s/iptables -t nat -A PREROUTING -p udp --dport 53 -j REDIRECT --to-ports 53/# iptables -t nat -A PREROUTING -p udp --dport 53 -j REDIRECT --to-ports 53/g&#39; package/lean/default-settings/files/zzz-default-settings

&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;#echo &#39;修改机器名称&#39;
sed -i &#39;s/OpenWrt/XXXX/g&#39; package/base-files/files/bin/config_generate
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;echo &#39;添加插件库&#39;
#sed -i &#39;$a src-git lienol https://github.com/Lienol/openwrt-package&#39; feeds.conf.default
#sed -i &#39;$a src-git opentopd https://github.com/sirpdboy/sirpdboy-package&#39; feeds.conf.default
#sed -i &#39;$a src-git diy https://github.com/firker/diy-ziyong&#39; feeds.conf.default
#sed -i &#39;$a src-git kenzo https://github.com/kenzok8/openwrt-packages&#39; feeds.conf.default
#sed -i &#39;$a src-git small https://github.com/kenzok8/small&#39; feeds.conf.default
#sed -i &#39;$a src-git s1oz https://github.com/s1oz/package&#39; feeds.conf.default
#sed -i &#39;$a src-git xiaorouji https://github.com/xiaorouji/openwrt-passwall&#39; feeds.conf.default
sed -i &#39;$a src-git ssr https://github.com/fw876/helloworld&#39; feeds.conf.default

#echo &#39;下载ServerChan&#39;
#git clone https://github.com/tty228/luci-app-serverchan.git package/luci-app-serverchan

echo &#39;下载bandwidthd&#39;
git clone https://github.com/AlexZhuo/luci-app-bandwidthd.git package/luci-app-bandwidthd

echo &#39;下载adguardhome&#39;
git clone https://github.com/rufengsuixing/luci-app-adguardhome package/luci-app-adguardhome
#svn co https://github.com/sirpdboy/sirpdboy-package/trunk/AdGuardHome/files/etc files/etc

echo &#39;下载eqos&#39;
git clone https://github.com/swxk521/luci-app-eqos.git package/luci-app-eqos
#svn co https://github.com/sirpdboy/sirpdboy-package/trunk/luci-app-eqos package/luci-app-eqos

echo &#39;下载主题&#39;
svn co https://github.com/kenzok8/openwrt-packages/trunk/luci-theme-argon_new package/luci-theme-argon_new
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;将所需配置文件按原路径丢入新建名为files的文件夹中即为files大法
&lt;/code&gt;&lt;/pre&gt;
">OpenWrt备忘录</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/hei-qun-bei-wang-lu/"" data-c="
          &lt;h3 id=&#34;引导&#34;&gt;&lt;em&gt;&lt;strong&gt;引导&lt;/strong&gt;&lt;/em&gt;&lt;/h3&gt;
&lt;p&gt;https://xpenology.com/forum/topic/12952-dsm-62-loader/&lt;/p&gt;
&lt;h3 id=&#34;额外驱动&#34;&gt;&lt;em&gt;&lt;strong&gt;额外驱动&lt;/strong&gt;&lt;/em&gt;&lt;/h3&gt;
&lt;p&gt;https://xpenology.com/forum/topic/21663-driver-extension-jun-103b104b-for-dsm622-for-3615xs-3617xs-918/&lt;/p&gt;
&lt;h3 id=&#34;系统下载&#34;&gt;&lt;em&gt;&lt;strong&gt;系统下载&lt;/strong&gt;&lt;/em&gt;&lt;/h3&gt;
&lt;p&gt;https://www.synology.cn/zh-cn/support/download/&lt;/p&gt;
&lt;h3 id=&#34;引导盘制作工具&#34;&gt;&lt;em&gt;&lt;strong&gt;引导盘制作工具&lt;/strong&gt;&lt;/em&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;ChipGenius&lt;/code&gt;读取U盘PID和VID&lt;br&gt;
&lt;code&gt;OSFMount&lt;/code&gt;挂载img,可添加驱动,修改sn mac&lt;br&gt;
&lt;code&gt;PartitionGuru&lt;/code&gt;pe状态下可直接在引导U盘添加驱动修改的sn mac&lt;br&gt;
&lt;code&gt;Roadkil&#39;s DiskImage&lt;/code&gt;img写盘工具&lt;br&gt;
&lt;code&gt;UFS_Explorer&lt;/code&gt;炸鸡后读取硬盘数据&lt;br&gt;
&lt;code&gt;StarWind V2V Image Converter&lt;/code&gt;镜像格式转换&lt;/p&gt;
&lt;h3 id=&#34;active-backup-for-business-激活&#34;&gt;&lt;em&gt;&lt;strong&gt;Active Backup for Business 激活&lt;/strong&gt;&lt;/em&gt;&lt;/h3&gt;
&lt;p&gt;替换以下数据依次输入连接激活:&lt;br&gt;
&lt;code&gt;URL&lt;/code&gt;   NAS的地址&lt;br&gt;
&lt;code&gt;PORT&lt;/code&gt;  默认5001端口&lt;br&gt;
&lt;code&gt;USER&lt;/code&gt;  用户名&lt;br&gt;
&lt;code&gt;PASS&lt;/code&gt;   密码&lt;br&gt;
&lt;code&gt;SERIALNUMBER&lt;/code&gt; 黑群SN&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;https://URL:PORT/webapi/auth.cgi?api=SYNO.API.Auth&amp;amp;method=Login&amp;amp;version=1&amp;amp;account=USER&amp;amp;passwd=PASS
https://URL:PORT/webapi/entry.cgi?api=SYNO.ActiveBackup.Activation&amp;amp;method=set&amp;amp;version=1&amp;amp;activated=true&amp;amp;serial_number=&amp;quot;SERIALNUMBER&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;检测是否激活&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;https://URL:PORT/webapi/entry.cgi?api=SYNO.ActiveBackup.Activation&amp;amp;method=get&amp;amp;version=1
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;命令&#34;&gt;&lt;em&gt;&lt;strong&gt;命令&lt;/strong&gt;&lt;/em&gt;&lt;/h3&gt;
&lt;p&gt;显示网卡显示真实MAC地址&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;dmesg | grep eth0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;删除谷歌二次验证&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;rm /usr/syno/etc/preference/sheldon/google_authenticator
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;查看cpu核心数&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cat /proc/cpuinfo |grep &amp;quot;core id&amp;quot; | wc -l
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;查询cpu线程数&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cat /proc/cpuinfo |grep &amp;quot;processor&amp;quot; | wc -l
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;6.2.x修改root密码&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo -i
cd /etc/ssh
chmod 755 sshd_config
vim /etc/ssh/sshd_config
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;#PermitRootLogin prohibit password&lt;/code&gt;修改为&lt;code&gt;PermitRootLogin yes&lt;/code&gt;保存重启&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;synouser --setpw root 6666666666
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;第三方套件源&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;http://packages.synocommunity.com
&lt;/code&gt;&lt;/pre&gt;
">Xpenology备忘录</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/git-bei-wang-lu/"" data-c="
          &lt;p&gt;###常用命令&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git clone git@github.com:s1oz/redpill-loader-action.git 下载对应仓库
git reset --hard HEAD^ 撤销上一次push
git push origin main -f 强制本地同步至远程
git add . 添加当前文件夹内所有文件
git commit -m ? 添加提交说明
git push 推送
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;###命令列表&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git branch 查看本地所有分支
git status 查看当前状态 
git commit 提交 
git branch -a 查看所有的分支
git branch -r 查看远程所有分支
git commit -am &amp;quot;init&amp;quot; 提交并且加注释 
git remote add origin git@192.168.1.119:ndshow
git push origin master 将文件给推到服务器上 
git remote show origin 显示远程库origin里的资源 
git push origin master:develop
git push origin master:hb-dev 将本地库与服务器上的库进行关联 
git checkout --track origin/dev 切换到远程dev分支
git branch -D master develop 删除本地库develop
git checkout -b dev 建立一个新的本地分支dev
git merge origin/dev 将分支dev与当前分支进行合并
git checkout dev 切换到本地dev分支
git remote show 查看远程库
git add .
git rm 文件名(包括路径) 从git中删除指定文件
git clone git://github.com/schacon/grit.git 从服务器上将代码给拉下来
git config --list 看所有用户
git ls-files 看已经被提交的
git rm [file name] 删除一个文件
git commit -a 提交当前repos的所有的改变
git add [file name] 添加一个文件到git index
git commit -v 当你用－v参数的时候可以看commit的差异
git commit -m &amp;quot;This is the message describing the commit&amp;quot; 添加commit信息
git commit -a -a是代表add，把所有的change加到git index里然后再commit
git commit -a -v 一般提交命令
git log 看你commit的日志
git diff 查看尚未暂存的更新
git rm a.a 移除文件(从暂存区和工作区中删除)
git rm --cached a.a 移除文件(只从暂存区中删除)
git commit -m &amp;quot;remove&amp;quot; 移除文件(从Git中删除)
git rm -f a.a 强行移除修改后文件(从暂存区和工作区中删除)
git diff --cached 或 $ git diff --staged 查看尚未提交的更新
git stash push 将文件给push到一个临时空间中
git stash pop 将文件从临时空间pop下来
---------------------------------------------------------
git remote add origin git@github.com:username/Hello-World.git
git push origin master 将本地项目给提交到服务器中
-----------------------------------------------------------
git pull 本地与服务器端同步
-----------------------------------------------------------------
git push (远程仓库名) (分支名) 将本地分支推送到服务器上去。
git push origin serverfix:awesomebranch
------------------------------------------------------------------
git fetch 相当于是从远程获取最新版本到本地，不会自动merge
git commit -a -m &amp;quot;log_message&amp;quot; (-a是提交所有改动，-m是加入log信息) 本地修改同步至服务器端 ：
git branch branch_0.1 master 从主分支master创建branch_0.1分支
git branch -m branch_0.1 branch_1.0 将branch_0.1重命名为branch_1.0
git checkout branch_1.0/master 切换到branch_1.0/master分支
du -hs

git branch 删除远程branch
git push origin :branch_remote_name
git branch -r -d branch_remote_name
-----------------------------------------------------------

初始化版本库，并提交到远程服务器端
mkdir WebApp
cd WebApp
git init 本地初始化
touch README
git add README 添加文件
git commit -m &#39;first commit&#39;
git remote add origin git@github.com:daixu/WebApp.git

增加一个远程服务器端

上面的命令会增加URL地址为&#39;git@github.com:daixu/WebApp.git&#39;，名称为origin的远程服务器库，以后提交代码的时候只需要使用 origin别名即可
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;###常见错误&lt;br&gt;
&lt;code&gt;fatal: remote origin already exists.&lt;/code&gt;同步失败&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git remote rm origin
&lt;/code&gt;&lt;/pre&gt;
">Git备忘录</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/markdown-bei-wang-lu/"" data-c="
          &lt;h1 id=&#34;一-标题&#34;&gt;一、标题&lt;/h1&gt;
&lt;p&gt;在想要设置为标题的文字前面加#来表示&lt;br&gt;
一个#是一级标题，二个#是二级标题，以此类推。支持六级标题。&lt;/p&gt;
&lt;p&gt;注：标准语法一般在#后跟个空格再写文字，貌似简书不加空格也行。&lt;/p&gt;
&lt;p&gt;示例：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# 这是一级标题
## 这是二级标题
### 这是三级标题
#### 这是四级标题
##### 这是五级标题
###### 这是六级标题
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;效果如下：&lt;/p&gt;
&lt;h1 id=&#34;这是一级标题&#34;&gt;这是一级标题&lt;/h1&gt;
&lt;h2 id=&#34;这是二级标题&#34;&gt;这是二级标题&lt;/h2&gt;
&lt;h3 id=&#34;这是三级标题&#34;&gt;这是三级标题&lt;/h3&gt;
&lt;h4 id=&#34;这是四级标题&#34;&gt;这是四级标题&lt;/h4&gt;
&lt;h5 id=&#34;这是五级标题&#34;&gt;这是五级标题&lt;/h5&gt;
&lt;h6 id=&#34;这是六级标题&#34;&gt;这是六级标题&lt;/h6&gt;
&lt;h1 id=&#34;二-字体&#34;&gt;二、字体&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;加粗&lt;/strong&gt;&lt;br&gt;
要加粗的文字左右分别用两个*号包起来&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;斜体&lt;/strong&gt;&lt;br&gt;
要倾斜的文字左右分别用一个*号包起来&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;斜体加粗&lt;/strong&gt;&lt;br&gt;
要倾斜和加粗的文字左右分别用三个*号包起来&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;删除线&lt;/strong&gt;&lt;br&gt;
要加删除线的文字左右分别用两个~~号包起来&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;**这是加粗的文字**
*这是倾斜的文字*`
***这是斜体加粗的文字***
~~这是加删除线的文字~~
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;效果如下：&lt;br&gt;
&lt;strong&gt;这是加粗的文字&lt;/strong&gt;&lt;br&gt;
&lt;em&gt;这是倾斜的文字&lt;/em&gt;`&lt;br&gt;
&lt;em&gt;&lt;strong&gt;这是斜体加粗的文字&lt;/strong&gt;&lt;/em&gt;&lt;br&gt;
&lt;s&gt;这是加删除线的文字&lt;/s&gt;&lt;/p&gt;
&lt;h1 id=&#34;三-引用&#34;&gt;三、引用&lt;/h1&gt;
&lt;p&gt;在引用的文字前加&amp;gt;即可。引用也可以嵌套，如加两个&amp;gt;&amp;gt;三个&amp;gt;&amp;gt;&amp;gt;&lt;br&gt;
n个...&lt;br&gt;
貌似可以一直加下去，但没神马卵用&lt;/p&gt;
&lt;p&gt;示例：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt;这是引用的内容
&amp;gt;&amp;gt;这是引用的内容
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;这是引用的内容
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;效果如下：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;这是引用的内容&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;这是引用的内容&lt;/p&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;这是引用的内容&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;四-分割线&#34;&gt;四、分割线&lt;/h1&gt;
&lt;p&gt;三个或者三个以上的 - 或者 * 都可以。&lt;br&gt;
示例：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;---
----
***
*****
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;效果如下可以看到显示效果是一样的&#34;&gt;效果如下：&lt;br&gt;
可以看到，显示效果是一样的。&lt;/h2&gt;
&lt;hr&gt;
&lt;hr&gt;
&lt;hr&gt;
&lt;h1 id=&#34;五-图片&#34;&gt;五、图片&lt;/h1&gt;
&lt;p&gt;语法：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;![图片alt](图片地址 &#39;&#39;图片title&#39;&#39;)

图片alt就是显示在图片下面的文字，相当于对图片内容的解释。
图片title是图片的标题，当鼠标移到图片上时显示的内容。title可加可不加
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;示例：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;![blockchain](https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/
u=702257389,1274025419&amp;amp;fm=27&amp;amp;gp=0.jpg &amp;quot;区块链&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;效果如下：&lt;br&gt;
![blockchain](https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/&lt;br&gt;
u=702257389,1274025419&amp;amp;fm=27&amp;amp;gp=0.jpg &amp;quot;区块链&amp;quot;)&lt;/p&gt;
&lt;h1 id=&#34;六-超链接&#34;&gt;六、超链接&lt;/h1&gt;
&lt;p&gt;语法：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[超链接名](超链接地址 &amp;quot;超链接title&amp;quot;)
title可加可不加
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;示例：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[简书](http://jianshu.com)
[百度](http://baidu.com)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;效果如下：&lt;br&gt;
&lt;a href=&#34;http://jianshu.com&#34;&gt;简书&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://baidu.com&#34;&gt;百度&lt;/a&gt;&lt;br&gt;
如果想要在新页面中打开的话可以用html语言的a标签代替。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;a href=&amp;quot;超链接地址&amp;quot; target=&amp;quot;_blank&amp;quot;&amp;gt;超链接名&amp;lt;/a&amp;gt;

示例
&amp;lt;a href=&amp;quot;https://www.jianshu.com/u/1f5ac0cf6a8b&amp;quot; target=&amp;quot;_blank&amp;quot;&amp;gt;简书&amp;lt;/a&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;七-列表&#34;&gt;七、列表&lt;/h1&gt;
&lt;h4 id=&#34;无序列表&#34;&gt;无序列表&lt;/h4&gt;
&lt;p&gt;语法：&lt;br&gt;
无序列表用 - + * 任何一种都可以&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;- 列表内容
+ 列表内容
* 列表内容

注意：- + * 跟内容之间都要有一个空格

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;效果如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;列表内容&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;列表内容&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;列表内容&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;有序列表&#34;&gt;有序列表&lt;/h4&gt;
&lt;p&gt;语法：&lt;br&gt;
数字加点&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1. 列表内容
2. 列表内容
3. 列表内容

注意：序号跟内容之间要有空格
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;效果如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;列表内容&lt;/li&gt;
&lt;li&gt;列表内容&lt;/li&gt;
&lt;li&gt;列表内容&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;八-表格&#34;&gt;八、表格&lt;/h1&gt;
&lt;p&gt;语法：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;表头|表头|表头
---|:--:|---:
内容|内容|内容
内容|内容|内容

第二行分割表头和内容。
- 有一个就行，为了对齐，多加了几个
文字默认居左
-两边加：表示文字居中
-右边加：表示文字居右
注：原生的语法两边都要用 | 包起来。此处省略
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;示例：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;姓名|技能|排行
--|:--:|--:
刘备|哭|大哥
关羽|打|二哥
张飞|骂|三弟
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;效果如下：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;姓名&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;技能&lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;排行&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;刘备&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;哭&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;大哥&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;关羽&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;打&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;二哥&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;张飞&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;骂&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;三弟&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&#34;九-代码&#34;&gt;九、代码&lt;/h1&gt;
&lt;p&gt;语法：&lt;br&gt;
单行代码：代码之间分别用一个反引号包起来&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    `代码内容`
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;代码块：代码之间分别用三个反引号包起来，且两边的反引号单独占一行&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;(```)
  代码...
  代码...
  代码...
(```)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;注：为了防止转译，前后三个反引号处加了小括号，实际是没有的。这里只是用来演示，实际中去掉两边小括号即可。&lt;/code&gt;&lt;br&gt;
示例：&lt;/p&gt;
&lt;p&gt;单行代码&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;`create database hero;`
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;代码块&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;(```)
    function fun(){
         echo &amp;quot;这是一句非常牛逼的代码&amp;quot;;
    }
    fun();
(```)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;效果如下：&lt;/p&gt;
&lt;p&gt;单行代码&lt;br&gt;
&lt;code&gt;create database hero;&lt;/code&gt;&lt;br&gt;
代码块&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;function fun(){
  echo &amp;quot;这是一句非常牛逼的代码&amp;quot;;
}
fun();
&lt;/code&gt;&lt;/pre&gt;
">Markdown备忘录</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/docker-bei-wang-lu/"" data-c="
          &lt;h3 id=&#34;常用命令&#34;&gt;常用命令&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;docker images	列出所有镜像(images)
docker ps	列出正在运行的容器(containers)
docker exec -it 容器ID sh
docker login 登陆账号
docker commit 334c515d250e s1oz/bulid:0.01 现有容器制作成为镜像。
docker push s1oz/test:0.1 push 推送现有镜像到docker hub仓库
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;场景一镜像下载-运行及删除&#34;&gt;场景一：镜像下载、运行及删除&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;COMMAND	DESC
查看	
docker images	列出所有镜像(images)
docker ps	列出正在运行的容器(containers)
docker ps -a	列出所有的容器
docker pull centos	下载centos镜像
docker top ‘container’	查看容器内部运行程序
容器	
docker exec -it 容器ID sh	进入容器
docker stop ‘container’	停止一个正在运行的容器，‘container’可以是容器ID或名称
docker start ‘container’	启动一个已经停止的容器
docker restart ‘container’	重启容器
docker rm ‘container’	删除容器
docker run -i -t -p :80 LAMP /bin/bash	运行容器并做http端口转发
docker exec -it ‘container’ /bin/bash	进入ubuntu类容器的bash
docker exec -it /bin/sh	进入alpine类容器的sh
docker rm docker ps -a -q	删除所有已经停止的容器
docker kill $(docker ps -a -q)	杀死所有正在运行的容器，$()功能同``
镜像	
docker build -t wp-api .	构建1个镜像,-t(镜像的名字及标签) wp-api(镜像名) .(构建的目录)
docker run -i -t wp-api	-t -i以交互伪终端模式运行,可以查看输出信息
docker run -d -p 80:80 wp-api	镜像端口 -d后台模式运行镜像
docker rmi [image-id]	删除镜像
docker rmi $(docker images -q)	删除所有镜像
docker rmi $(sudo docker images --filter &amp;quot;dangling=true&amp;quot; -q --no-trunc)	删除无用镜像
ocker run --help	帮助
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;场景二下载镜像并直接运行&#34;&gt;场景二：下载镜像并直接运行&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;docker run  --name ubuntu -it ubuntu bash 
docker cp dd ubuntu:tmp/ #复制文件dd 到容器的/tmp 目录
Ctrl-p Ctrl-q  #退出
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;场景三修改镜像并保存到私有仓库&#34;&gt;场景三：修改镜像，并保存到私有仓库&lt;/h3&gt;
&lt;p&gt;期望结果:在ubuntu 镜像中添加 apache，将新的镜像保存到私有仓库中&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker exec -it ubuntu bash 
apt-get update
apt-get install apache2
Ctrl-p Ctrl-q  #退出
docker commit -a &amp;quot;mir355&amp;quot; -m &amp;quot;ubuntu add apache2&amp;quot; {ID}  private/ubuntu_apache:v1   #保存镜像
docker stop ubuntu 
docker rm ubuntu
docker run -i -t --name apache2 -p 8080:80 private/ubuntu_apache:v1 /bin/bash
/etc/init.d/apache2 start
Ctrl-p Ctrl-q  #退出
#通过 docker tag重命名镜像，使之与registry匹配
docker tag private/ubuntu_apache:v1 127.0.0.1:5000/private/ubuntu_apache:v1
#保存到私有仓库
docker push 127.0.0.1:5000/private/ubuntu_apache:v1
curl http://127.0.0.1:5000/v2/_catalog

#下载镜像
docker pull 127.0.0.1:5000/private/ubuntu_apache:v1
&lt;/code&gt;&lt;/pre&gt;
">Docker备忘录</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/about/"" data-c="
          &lt;h2 id=&#34;这是个杂乱的备忘录&#34;&gt;这是个杂乱的备忘录😵&lt;/h2&gt;
&lt;h2 id=&#34;想起什么记录什么&#34;&gt;想起什么记录什么😖&lt;/h2&gt;
&lt;h2 id=&#34;不就是折腾嘛&#34;&gt;不就是折腾嘛😃&lt;/h2&gt;
&lt;h2 id=&#34;既然折腾了&#34;&gt;既然折腾了💪&lt;/h2&gt;
&lt;h2 id=&#34;总会炸鸡的&#34;&gt;总会炸鸡的😵&lt;/h2&gt;
&lt;h2 id=&#34;boom了的时候总是要来温习下的&#34;&gt;boom了的时候总是要来温习下的🤣&lt;/h2&gt;
">关于</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://s1oz.github.io/post/an-zhuang-shellclash/"" data-c="
          &lt;script language = JavaScript&gt; function password() {

    var testV = 1;

    var pass1 = prompt(&#39;验证口令&#39;,&#39;&#39;);

    var passwordforthisarticle = &#34;roslaji&#34;;

    var inputtimemax = 19960319;

    while (testV &lt; inputtimemax) {

    if (!pass1)

    history.go(-1);

    if (pass1 == passwordforthisarticle) {

    break;

    }

    testV+=1;

    var pass1 =

    prompt(&#39;Password error!&#39;);

    }

    if (pass1!= passwordforthisarticle &amp; testV == inputtimemax)  

    history.go(-1);

    return &#34; &#34;;

    }

    document.write(password());

&lt;/script&gt;
&lt;h2 id=&#34;瞎扯一波&#34;&gt;瞎扯一波&lt;/h2&gt;
&lt;p&gt;一直单op，偶然尝试ikuai网心收益居然比op高&lt;br&gt;
所以~来折腾吧&lt;br&gt;
ikuai+旁路由模式&lt;br&gt;
j1900直接安装ikuai，kvm安装op&lt;br&gt;
试过以下方式，但是过旁路有的机子掉速&lt;br&gt;
1.端口分流-外网线路 优点是op挂了 10秒内能自动切换回主线路&lt;br&gt;
2.端口分流-下一跳网关 op设置方便 但是op嗝屁了 过旁路有的机子无法正常上网&lt;br&gt;
3.域名分流 不怎么掉速 但是添加域名1000条一组 有点反人类 还是白名单好使&lt;br&gt;
4.双dhcp段互指网关 一个德行 op嗝屁了 过旁路有的机子无法正常上网&lt;br&gt;
不知道是op垃圾。。还是ikuai垃圾&lt;br&gt;
所以。。暂时看 ikuai安装shellclash是最优解了&lt;/p&gt;
&lt;h2 id=&#34;大概流程&#34;&gt;大概流程&lt;/h2&gt;
&lt;h3 id=&#34;准备工作&#34;&gt;准备工作&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ikuai开启远程访问 并设置&lt;strong&gt;心仪&lt;/strong&gt;的密码&lt;/li&gt;
&lt;li&gt;（建议改端口，不要使用弱口令避免被扫 用完关闭,也可以添加acl规则.对ssh端口进行阻断,这样外网就无法访问了）&lt;/li&gt;
&lt;li&gt;并在在系统设置-磁盘分区中新建好普通储存的分区&lt;/li&gt;
&lt;li&gt;最后在高级应用-插件管理中安装好docker&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;获取root权限&#34;&gt;获取root权限&lt;/h3&gt;
&lt;p&gt;下载&lt;s&gt;s--------patch&lt;/s&gt;镜像&lt;br&gt;
并挂载路径&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;源路径	目标路径	
/../../     /s1oz
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;勾选自启并启动就可以获得权限了并会在开机时自动启动shellclash&lt;/p&gt;
&lt;h2 id=&#34;安装shellclash&#34;&gt;安装shellclash&lt;/h2&gt;
&lt;p&gt;以sshd用户跟心仪的密码登录&lt;br&gt;
运行安装脚本&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;export url=&#39;https://cdn.jsdelivr.net/gh/juewuy/ShellClash@master&#39; &amp;amp;&amp;amp; wget -q --no-check-certificate -O /tmp/install.sh $url/install.sh  &amp;amp;&amp;amp; sh /tmp/install.sh &amp;amp;&amp;amp; source /etc/profile &amp;amp;&amp;gt; /dev/null
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;因脚本默认安装系统目录,重启后会消失无法持久化，所以安装时候选择安装在刚新建的&lt;strong&gt;普通储存分区&lt;/strong&gt;&lt;br&gt;
如我分区挂载名为&lt;strong&gt;ssd&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;root@iKuai:/root$ls /etc/disk*
/etc/disk:
e94ebdd4-a636-0a7d978da9

/etc/disk_notify:
audit     dingtalk  qemu      video

/etc/disk_sys:

/etc/disk_user:
ssd
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;所以务必安装的时候选择&lt;strong&gt;手动指定目录&lt;/strong&gt;&lt;br&gt;
将shellclash&lt;strong&gt;安装在/etc/disk_user/ssd路径&lt;/strong&gt;&lt;br&gt;
安装完成后自己调教&lt;br&gt;
安装过程中如果提示不是root用户 没事继续操作&lt;/p&gt;
&lt;h2 id=&#34;优缺点取舍&#34;&gt;优缺点取舍&lt;/h2&gt;
&lt;h3 id=&#34;优点&#34;&gt;优点:&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;1. 全由shellclash接管,过梯子不掉速,无需指定旁路由搞来搞去
2. 能实现dns去广告跟doh
3. 能分流,国内外想怎么走怎么走
4. 推荐使用meta内核搭配providers规则 会自动更新,无需开启root端口造成安全隐患
5. 就算梯子嗝屁也不会影响国内访问
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;缺点&#34;&gt;缺点:&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;1. 流量全由shellclash接管后,爱快只有流量优先级生效,应用控制,限速等失效
2. 依赖缺失,只能使用保守模式
3. shellclash因是root用户,默认会开7890代理端口,自行去shellclash加访问验证并添加ACL规格禁用
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;关于去广告跟流控取舍&#34;&gt;关于去广告跟流控取舍&lt;/h3&gt;
&lt;p&gt;个人在用这种:&lt;br&gt;
全员下发ipv4地址,&lt;strong&gt;只给nas下发ipv6地址&lt;/strong&gt;&lt;br&gt;
shellclash设置mac&lt;strong&gt;白&lt;/strong&gt;名单模式&lt;br&gt;
只允许白名单中mac的设备&lt;strong&gt;自己需要折腾的设备&lt;/strong&gt;,&lt;s&gt;自己玩的设备需要鸡儿流控肯定优先级第一&lt;/s&gt;&lt;br&gt;
白名单设备流量经过clash,生效clash的去广告/翻墙,&lt;br&gt;
其他设备&lt;strong&gt;娃,老人之类不需要翻墙,需要加时间限制,应用限制&lt;/strong&gt;&lt;s&gt;只需要掌控好度家庭和谐又美丽&lt;/s&gt;&lt;br&gt;
一律走爱快,生效爱快流控,行为管控,以此来控制抖音时长,网站访问等&lt;br&gt;
&lt;s&gt;为了更好的服务自己&lt;/s&gt;添加自定义协议来设置流量优先级&lt;strong&gt;远程流量&amp;gt;网心流量&amp;gt;PT流量&lt;/strong&gt;这样外网随便折腾都不卡顿&lt;br&gt;
&lt;strong&gt;缺点&lt;/strong&gt;就是白名单中的&lt;strong&gt;流量信息爱快主页不会统计,只能在线路统计中查看&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;如果&lt;/strong&gt;国内&lt;strong&gt;也需要&lt;/strong&gt;去广告,可以加个adg之类,&lt;strong&gt;DHCP中的dns指向adg&lt;/strong&gt;.让adg来处理广告之类&lt;/p&gt;
&lt;h2 id=&#34;ps&#34;&gt;PS&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;1. sshd登录后为root账户 如想正常显示爱快控制后台*输入/etc/setup/rc即可
2. 不要开启dns设置中的**强制客户端DNS代理**
3. 懒得折腾就可以clash开启绕过大陆ip使国内流量不经过clash内核,大部分国内都能掌控,国内流量的流控,行为管控,限速等恢复正常使用
&lt;/code&gt;&lt;/pre&gt;
">安装shellclash</a>
      </div>
      
    </div>
    <div class="page">
      <div id="page_ul"></div>
    </div>
  </div>
</div>
<script>
  !function () {
    let searchMask = document.querySelector('#search_mask');
    let result = document.querySelector('#result');
    let items = document.querySelectorAll('.item');
    let searchBox = document.querySelector('#search');
    let statCount = document.querySelector('#stat_count');
    let statTimes = document.querySelector('#stat_times');
    let pageUl = document.querySelector('#page_ul');
    let close = document.querySelector('#close');
    
    close.addEventListener('click', function() {
      searchMask.style = 'display: none;'
    })

    let finds = [];
    let contents = [];
    let pageSize = 10;
    items.forEach(item => {
      let a = item.querySelector('a');
      contents.push({
        title: a.innerText,
        details: a.dataset.c,
        link: a.href
      })
      item.remove();
    })

    function insertStr(soure, start, count) {
      let newStr = soure.substr(start, count);
      return soure.slice(0, start) + '<em>' + newStr + '</em>' + soure.slice(start + count);
    }

    pageUl.addEventListener('click', function(event) {
      let target = event.target;
      if (target.__proto__ === HTMLSpanElement.prototype) {
        appendResults(parseInt(target.dataset.i));
      }
    })

    function appendResults(index) {
      let htmlResult = '';
      let start = index || 0;
      let end = Math.min(start + pageSize, finds.length);
      for (let i = start; i < end; i++) {
        const current = finds[i];
        let html = current.title;
        let sum = 0;
        let positions = current.positions;
        positions.forEach(position => {
          html = insertStr(html, position.start + sum, position.count);
          sum += 9;
        })
        htmlResult += `<div class="item"><a class="result-title" href="${current.link}">${html}</a></div>`;
      }
      result.innerHTML = htmlResult;
      pageUl.innerHTML = '';
      let count = finds.length / pageSize;
      let lis = '';
      if (start !== 0) {
        lis += `<span class="fa fa-angle-left" data-i='${start - 1}'></span>`;
      }
      for (let i = 0; i < count; i++) {
        lis += `<span class='${i === start?'current':''}' data-i='${i}'>${i+1}</span>`;     
      }
      if (start+1 < count) {
        lis += `<span class="fa fa-angle-right" data-i='${start+1}'></span>`;  
      }
      pageUl.innerHTML = lis;
    }

    function search(delay) {
      let timer = null
      return function () {
        clearTimeout(timer)
        timer = setTimeout(() => {
          let start = Date.now();
          let segments = searchBox.value.split(' ').filter(c => c != '');
          if (segments.length <= 0) {
            return;
          }
          finds = [];
          let htmlResult = '';
          contents.forEach(content => {
            let title = content.title;
            let positions = [];
            let find = false;
            segments.forEach((segment) => {
              if (content.title.includes(segment)) {
                find = true;
                positions.push({
                  start: content.title.indexOf(segment),
                  count: segment.length
                })
              } else if (content.details.includes(segment)) {
                find = true;
              }
            });
            if (find) {
              finds.push({
                title: content.title,
                link: content.link,
                positions
              });
            }
          })
          appendResults(0);
          statCount.textContent = finds.length;
          statTimes.textContent = Date.now() - start;
        }, delay)
      }
    }
    searchBox.addEventListener('input', search(200));
  }()
</script>

<input hidden id="copy" />
<script>
  !function () {
    let times = document.querySelectorAll('.publish-time');
    for (let i = 0; i < times.length; i++) {
      let date = times[i].dataset.t;
      let time = Math.floor((new Date().getTime() - new Date(date).getTime()) / 1000);
      if (time < 60) {
        str = time + '秒之前';
      } else if (time < 3600) {
        str = Math.floor(time / 60) + '分钟之前';
      } else if (time >= 3600 && time < 86400) {
        str = Math.floor(time / 3600) + '小时之前';
      } else if (time >= 86400 && time < 259200) {
        str = Math.floor(time / 86400) + '天之前';
      } else {
        str = times[i].textContent;
      }
      times[i].textContent = str;
    }
  }();
</script>

<script>
  let language = '';
  if (language !== '') {
    let map = new Map();
    if (language === 'en') {
      map.set('search', 'Search');
      map.set('category', 'Categories');
      map.set('article', 'Articles');
      map.set('tag', 'Tags');
      map.set('top', 'Top');
      map.set('publish', 'published');
      map.set('minute', ' minutes');
      map.set('read-more', 'Read More');
      map.set('view', 'View');
      map.set('words', ' words');
      map.set('category-in', 'category in');
      map.set('preview', 'Meta');
      map.set('index', 'Toc');
      map.set('no-archives', "You haven't created yet");
      map.set('archives', " articles in total");
      map.set('cloud-tags', " tags in total");
      map.set('copyright', "Copyright: ");
      map.set('author', "Author: ");
      map.set('link', "Link: ");
      map.set('leave-message', "Leave a message");
      map.set('format', "Links Format");
      map.set('site-name', "Name: ");
      map.set('site-link', "Link: ");
      map.set('site-desc', "Desc: ");
      map.set('stat', " related results, taking ");
      map.set('stat-time', " ms");
      map.set('site-img', "Image: ");
    }

    if (map.size > 0) {
      let lanElems = document.querySelectorAll('.language');
      lanElems.forEach(elem => {
        let lan = elem.dataset.lan, text = map.get(lan);
        if (elem.__proto__ === HTMLInputElement.prototype) {
          elem.placeholder = text
        } else {
          if (elem.dataset.count) {
            text = elem.dataset.count + text;
          }
          elem.textContent = text;
        }
      })
    }
  }
  //拿来主义(真香)^_^，Clipboard 实现摘自掘金 https://juejin.im/post/5aefeb6e6fb9a07aa43c20af
  window.Clipboard = (function (window, document, navigator) {
    var textArea,
      copy;

    // 判断是不是ios端
    function isOS() {
      return navigator.userAgent.match(/ipad|iphone/i);
    }
    //创建文本元素
    function createTextArea(text) {
      textArea = document.createElement('textArea');
      textArea.value = text;
      textArea.style.width = 0;
      textArea.style.height = 0;
      textArea.clientHeight = 0;
      textArea.clientWidth = 0;
      document.body.appendChild(textArea);
    }
    //选择内容
    function selectText() {
      var range,
        selection;

      if (isOS()) {
        range = document.createRange();
        range.selectNodeContents(textArea);
        selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);
        textArea.setSelectionRange(0, 999999);
      } else {
        textArea.select();
      }
    }

    //复制到剪贴板
    function copyToClipboard() {
      try {
        document.execCommand("Copy")
      } catch (err) {
        alert("复制错误！请手动复制！")
      }
      document.body.removeChild(textArea);
    }

    copy = function (text) {
      createTextArea(text);
      selectText();
      copyToClipboard();
    };

    return {
      copy: copy
    };
  })(window, document, navigator);

  function copyCode(e) {
    if (e.srcElement.tagName === 'SPAN' && e.srcElement.classList.contains('copy-code')) {
      let code = e.currentTarget.querySelector('code');
      var text = code.innerText;
      if (e.srcElement.textContent === '复制成功') {
        return;
      }
      e.srcElement.textContent = '复制成功';
      (function (elem) {
        setTimeout(() => {
          if (elem.textContent === '复制成功') {
            elem.textContent = '复制代码'
          }
        }, 1000);
      })(e.srcElement)
      Clipboard.copy(text);
    }
  }

  let pres = document.querySelectorAll('pre');
  pres.forEach(pre => {
    let code = pre.querySelector('code');
    let copyElem = document.createElement('span');
    copyElem.classList.add('copy-code');
    copyElem.textContent = '复制代码';
    pre.appendChild(copyElem);
    pre.onclick = copyCode
  })

</script>
<script src="/media/js/motion.js"></script>


<script src="https://cdn.jsdelivr.net/gh/cferdinandi/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>
<script>
  var scroll = new SmoothScroll('a[href*="#"]', {
    speed: 200
  });
</script>


<script src="/media/js/mouse/peace.js"></script>


<script src="/media/js/cool.js"></script>




</html>